import * as adapter from '@astrojs/netlify/netlify-functions.js';
import t, { createElement, useState, useEffect, useId, useMemo } from 'react';
import ReactDOM from 'react-dom/server';
import serializeJavaScript from 'serialize-javascript';
import t$1 from 'stream';
import n from 'crypto';
import i$1 from 'url';
import o$2 from 'http';
import a$2 from 'querystring';
import c$2 from 'zlib';
import u$2 from 'https';
import d$2 from 'events';
import l$2 from 'v8';
import { jsx, jsxs } from 'react/jsx-runtime';
import { IconSettings, GlobalNavigationBar, GlobalNavigationBarRegion, GlobalNavigationBarLink, Button, Input, Checkbox, ProgressIndicator, SLDSGlobalHeader, GlobalHeaderSearch, Combobox, Modal, BreadCrumb, Tree, VerticalNavigation } from '@salesforce/design-system-react';
import { v4 } from 'uuid';

/**
 * Astro passes `children` as a string of HTML, so we need
 * a wrapper `div` to render that content as VNodes.
 *
 * As a bonus, we can signal to React that this subtree is
 * entirely static and will never change via `shouldComponentUpdate`.
 */
const StaticHtml = ({ value }) => {
	if (!value) return null;
	return createElement('astro-fragment', {
		suppressHydrationWarning: true,
		dangerouslySetInnerHTML: { __html: value },
	});
};

/**
 * This tells React to opt-out of re-rendering this subtree,
 * In addition to being a performance optimization,
 * this also allows other frameworks to attach to `children`.
 *
 * See https://preactjs.com/guide/v8/external-dom-mutations
 */
StaticHtml.shouldComponentUpdate = () => false;

const reactTypeof = Symbol.for('react.element');

function errorIsComingFromPreactComponent(err) {
	return (
		err.message &&
		(err.message.startsWith("Cannot read property '__H'") ||
			err.message.includes("(reading '__H')"))
	);
}

async function check(Component, props, children) {
	// Note: there are packages that do some unholy things to create "components".
	// Checking the $$typeof property catches most of these patterns.
	if (typeof Component === 'object') {
		const $$typeof = Component['$$typeof'];
		return $$typeof && $$typeof.toString().slice('Symbol('.length).startsWith('react');
	}
	if (typeof Component !== 'function') return false;

	if (Component.prototype != null && typeof Component.prototype.render === 'function') {
		return t.Component.isPrototypeOf(Component) || t.PureComponent.isPrototypeOf(Component);
	}

	let error = null;
	let isReactComponent = false;
	function Tester(...args) {
		try {
			const vnode = Component(...args);
			if (vnode && vnode['$$typeof'] === reactTypeof) {
				isReactComponent = true;
			}
		} catch (err) {
			if (!errorIsComingFromPreactComponent(err)) {
				error = err;
			}
		}

		return t.createElement('div');
	}

	await renderToStaticMarkup(Tester, props, children, {});

	if (error) {
		throw error;
	}
	return isReactComponent;
}

async function getNodeWritable() {
	let nodeStreamBuiltinModuleName = 'stream';
	let { Writable } = await import(nodeStreamBuiltinModuleName);
	return Writable;
}

async function renderToStaticMarkup(Component, props, children, metadata) {
	delete props['class'];
	const vnode = t.createElement(Component, {
		...props,
		children: children != null ? t.createElement(StaticHtml, { value: children }) : undefined,
	});
	let html;
	if (metadata && metadata.hydrate) {
		html = ReactDOM.renderToString(vnode);
		if ('renderToReadableStream' in ReactDOM) {
			html = await renderToReadableStreamAsync(vnode);
		} else {
			html = await renderToPipeableStreamAsync(vnode);
		}
	} else {
		if ('renderToReadableStream' in ReactDOM) {
			html = await renderToReadableStreamAsync(vnode);
		} else {
			html = await renderToStaticNodeStreamAsync(vnode);
		}
	}
	return { html };
}

async function renderToPipeableStreamAsync(vnode) {
	const Writable = await getNodeWritable();
	let html = '';
	return new Promise((resolve, reject) => {
		let error = undefined;
		let stream = ReactDOM.renderToPipeableStream(vnode, {
			onError(err) {
				error = err;
				reject(error);
			},
			onAllReady() {
				stream.pipe(
					new Writable({
						write(chunk, _encoding, callback) {
							html += chunk.toString('utf-8');
							callback();
						},
						destroy() {
							resolve(html);
						},
					})
				);
			},
		});
	});
}

async function renderToStaticNodeStreamAsync(vnode) {
	const Writable = await getNodeWritable();
	let html = '';
	return new Promise((resolve) => {
		let stream = ReactDOM.renderToStaticNodeStream(vnode);
		stream.pipe(
			new Writable({
				write(chunk, _encoding, callback) {
					html += chunk.toString('utf-8');
					callback();
				},
				destroy() {
					resolve(html);
				},
			})
		);
	});
}

async function renderToReadableStreamAsync(vnode) {
	const decoder = new TextDecoder();
	const stream = await ReactDOM.renderToReadableStream(vnode);
	let html = '';
	for await (const chunk of stream) {
		html += decoder.decode(chunk);
	}
	return html;
}

var _renderer0 = {
	check,
	renderToStaticMarkup,
};

/**
 * Copyright (C) 2017-present by Andrea Giammarchi - @WebReflection
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */

const {replace} = '';
const ca$1 = /[&<>'"]/g;

const esca = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  "'": '&#39;',
  '"': '&quot;'
};
const pe$3 = m => esca[m];

/**
 * Safely escape HTML entities such as `&`, `<`, `>`, `"`, and `'`.
 * @param {string} es the input to safely escape
 * @returns {string} the escaped input, and it **throws** an error if
 *  the input type is unexpected, except for boolean and numbers,
 *  converted as string.
 */
const escape = es => replace.call(es, ca$1, pe$3);

const escapeHTML = escape;
class HTMLString extends String {
}
const markHTMLString = (value) => {
  if (value instanceof HTMLString) {
    return value;
  }
  if (typeof value === "string") {
    return new HTMLString(value);
  }
  return value;
};

function serializeListValue(value) {
  const hash = {};
  push(value);
  return Object.keys(hash).join(" ");
  function push(item) {
    if (item && typeof item.forEach === "function")
      item.forEach(push);
    else if (item === Object(item))
      Object.keys(item).forEach((name) => {
        if (item[name])
          push(name);
      });
    else {
      item = item == null ? "" : String(item).trim();
      if (item) {
        item.split(/\s+/).forEach((name) => {
          hash[name] = true;
        });
      }
    }
  }
}
function hydrationSpecifier(hydrate) {
  return `astro/client/${hydrate}.js`;
}

function serializeProps(value) {
  return serializeJavaScript(value);
}
const HydrationDirectives = ["load", "idle", "media", "visible", "only"];
function extractDirectives(inputProps) {
  let extracted = {
    hydration: null,
    props: {}
  };
  for (const [key, value] of Object.entries(inputProps)) {
    if (key.startsWith("client:")) {
      if (!extracted.hydration) {
        extracted.hydration = {
          directive: "",
          value: "",
          componentUrl: "",
          componentExport: { value: "" }
        };
      }
      switch (key) {
        case "client:component-path": {
          extracted.hydration.componentUrl = value;
          break;
        }
        case "client:component-export": {
          extracted.hydration.componentExport.value = value;
          break;
        }
        case "client:component-hydration": {
          break;
        }
        default: {
          extracted.hydration.directive = key.split(":")[1];
          extracted.hydration.value = value;
          if (HydrationDirectives.indexOf(extracted.hydration.directive) < 0) {
            throw new Error(`Error: invalid hydration directive "${key}". Supported hydration methods: ${HydrationDirectives.map((d) => `"client:${d}"`).join(", ")}`);
          }
          if (extracted.hydration.directive === "media" && typeof extracted.hydration.value !== "string") {
            throw new Error('Error: Media query must be provided for "client:media", similar to client:media="(max-width: 600px)"');
          }
          break;
        }
      }
    } else if (key === "class:list") {
      extracted.props[key.slice(0, -5)] = serializeListValue(value);
    } else {
      extracted.props[key] = value;
    }
  }
  return extracted;
}
async function generateHydrateScript(scriptOptions, metadata) {
  const { renderer, result, astroId, props } = scriptOptions;
  const { hydrate, componentUrl, componentExport } = metadata;
  if (!componentExport) {
    throw new Error(`Unable to resolve a componentExport for "${metadata.displayName}"! Please open an issue.`);
  }
  const hydrationSource = renderer.clientEntrypoint ? `const [{ ${componentExport.value}: Component }, { default: hydrate }] = await Promise.all([import("${await result.resolve(componentUrl)}"), import("${await result.resolve(renderer.clientEntrypoint)}")]);
  return (el, children) => hydrate(el)(Component, ${serializeProps(props)}, children, ${JSON.stringify({ client: hydrate })});
` : `await import("${await result.resolve(componentUrl)}");
  return () => {};
`;
  const hydrationScript = {
    props: { type: "module", "data-astro-component-hydration": true },
    children: `import setup from '${await result.resolve(hydrationSpecifier(hydrate))}';
${`import '${await result.resolve("astro:scripts/before-hydration.js")}';`}
setup("${astroId}", {name:"${metadata.displayName}",${metadata.hydrateArgs ? `value: ${JSON.stringify(metadata.hydrateArgs)}` : ""}}, async () => {
  ${hydrationSource}
});
`
  };
  return hydrationScript;
}

/**
 * shortdash - https://github.com/bibig/node-shorthash
 *
 * @license
 *
 * (The MIT License)
 *
 * Copyright (c) 2013 Bibig <bibig@me.com>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
const dictionary = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXY";
const binary = dictionary.length;
function bitwise(str) {
  let hash = 0;
  if (str.length === 0)
    return hash;
  for (let i = 0; i < str.length; i++) {
    const ch = str.charCodeAt(i);
    hash = (hash << 5) - hash + ch;
    hash = hash & hash;
  }
  return hash;
}
function shorthash(text) {
  let num;
  let result = "";
  let integer = bitwise(text);
  const sign = integer < 0 ? "Z" : "";
  integer = Math.abs(integer);
  while (integer >= binary) {
    num = integer % binary;
    integer = Math.floor(integer / binary);
    result = dictionary[num] + result;
  }
  if (integer > 0) {
    result = dictionary[integer] + result;
  }
  return sign + result;
}

class Metadata {
  constructor(filePathname, opts) {
    this.modules = opts.modules;
    this.hoisted = opts.hoisted;
    this.hydratedComponents = opts.hydratedComponents;
    this.clientOnlyComponents = opts.clientOnlyComponents;
    this.hydrationDirectives = opts.hydrationDirectives;
    this.mockURL = new URL(filePathname, "http://example.com");
    this.metadataCache = /* @__PURE__ */ new Map();
  }
  resolvePath(specifier) {
    return specifier.startsWith(".") ? new URL(specifier, this.mockURL).pathname : specifier;
  }
  getPath(Component) {
    const metadata = this.getComponentMetadata(Component);
    return (metadata == null ? void 0 : metadata.componentUrl) || null;
  }
  getExport(Component) {
    const metadata = this.getComponentMetadata(Component);
    return (metadata == null ? void 0 : metadata.componentExport) || null;
  }
  *hydratedComponentPaths() {
    const found = /* @__PURE__ */ new Set();
    for (const metadata of this.deepMetadata()) {
      for (const component of metadata.hydratedComponents) {
        const path = metadata.getPath(component);
        if (path && !found.has(path)) {
          found.add(path);
          yield path;
        }
      }
    }
  }
  *clientOnlyComponentPaths() {
    const found = /* @__PURE__ */ new Set();
    for (const metadata of this.deepMetadata()) {
      for (const component of metadata.clientOnlyComponents) {
        const path = metadata.resolvePath(component);
        if (path && !found.has(path)) {
          found.add(path);
          yield path;
        }
      }
    }
  }
  *hydrationDirectiveSpecifiers() {
    const found = /* @__PURE__ */ new Set();
    for (const metadata of this.deepMetadata()) {
      for (const directive of metadata.hydrationDirectives) {
        if (!found.has(directive)) {
          found.add(directive);
          yield hydrationSpecifier(directive);
        }
      }
    }
  }
  *hoistedScriptPaths() {
    for (const metadata of this.deepMetadata()) {
      let i = 0, pathname = metadata.mockURL.pathname;
      while (i < metadata.hoisted.length) {
        yield `${pathname}?astro&type=script&index=${i}`;
        i++;
      }
    }
  }
  *deepMetadata() {
    yield this;
    const seen = /* @__PURE__ */ new Set();
    for (const { module: mod } of this.modules) {
      if (typeof mod.$$metadata !== "undefined") {
        const md = mod.$$metadata;
        for (const childMetdata of md.deepMetadata()) {
          if (!seen.has(childMetdata)) {
            seen.add(childMetdata);
            yield childMetdata;
          }
        }
      }
    }
  }
  getComponentMetadata(Component) {
    if (this.metadataCache.has(Component)) {
      return this.metadataCache.get(Component);
    }
    const metadata = this.findComponentMetadata(Component);
    this.metadataCache.set(Component, metadata);
    return metadata;
  }
  findComponentMetadata(Component) {
    const isCustomElement = typeof Component === "string";
    for (const { module, specifier } of this.modules) {
      const id = this.resolvePath(specifier);
      for (const [key, value] of Object.entries(module)) {
        if (isCustomElement) {
          if (key === "tagName" && Component === value) {
            return {
              componentExport: key,
              componentUrl: id
            };
          }
        } else if (Component === value) {
          return {
            componentExport: key,
            componentUrl: id
          };
        }
      }
    }
    return null;
  }
}
function createMetadata(filePathname, options) {
  return new Metadata(filePathname, options);
}

var __defProp$3 = Object.defineProperty;
var __defProps$1 = Object.defineProperties;
var __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;
var __hasOwnProp$1 = Object.prototype.hasOwnProperty;
var __propIsEnum$1 = Object.prototype.propertyIsEnumerable;
var __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues$1 = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp$1.call(b, prop))
      __defNormalProp$1(a, prop, b[prop]);
  if (__getOwnPropSymbols$1)
    for (var prop of __getOwnPropSymbols$1(b)) {
      if (__propIsEnum$1.call(b, prop))
        __defNormalProp$1(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));
var __objRest = (source, exclude) => {
  var target = {};
  for (var prop in source)
    if (__hasOwnProp$1.call(source, prop) && exclude.indexOf(prop) < 0)
      target[prop] = source[prop];
  if (source != null && __getOwnPropSymbols$1)
    for (var prop of __getOwnPropSymbols$1(source)) {
      if (exclude.indexOf(prop) < 0 && __propIsEnum$1.call(source, prop))
        target[prop] = source[prop];
    }
  return target;
};
const voidElementNames = /^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;
const htmlBooleanAttributes = /^(allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i;
const htmlEnumAttributes = /^(contenteditable|draggable|spellcheck|value)$/i;
const svgEnumAttributes = /^(autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i;
async function _render(child) {
  child = await child;
  if (child instanceof HTMLString) {
    return child;
  } else if (Array.isArray(child)) {
    return markHTMLString((await Promise.all(child.map((value) => _render(value)))).join(""));
  } else if (typeof child === "function") {
    return _render(child());
  } else if (typeof child === "string") {
    return markHTMLString(escapeHTML(child));
  } else if (!child && child !== 0) ; else if (child instanceof AstroComponent || Object.prototype.toString.call(child) === "[object AstroComponent]") {
    return markHTMLString(await renderAstroComponent(child));
  } else {
    return child;
  }
}
class AstroComponent {
  constructor(htmlParts, expressions) {
    this.htmlParts = htmlParts;
    this.expressions = expressions;
  }
  get [Symbol.toStringTag]() {
    return "AstroComponent";
  }
  *[Symbol.iterator]() {
    const { htmlParts, expressions } = this;
    for (let i = 0; i < htmlParts.length; i++) {
      const html = htmlParts[i];
      const expression = expressions[i];
      yield markHTMLString(html);
      yield _render(expression);
    }
  }
}
function isAstroComponent(obj) {
  return typeof obj === "object" && Object.prototype.toString.call(obj) === "[object AstroComponent]";
}
async function render(htmlParts, ...expressions) {
  return new AstroComponent(htmlParts, expressions);
}
function createComponent(cb) {
  cb.isAstroComponentFactory = true;
  return cb;
}
async function renderSlot(_result, slotted, fallback) {
  if (slotted) {
    return await _render(slotted);
  }
  return fallback;
}
const Fragment = Symbol("Astro.Fragment");
function guessRenderers(componentUrl) {
  const extname = componentUrl == null ? void 0 : componentUrl.split(".").pop();
  switch (extname) {
    case "svelte":
      return ["@astrojs/svelte"];
    case "vue":
      return ["@astrojs/vue"];
    case "jsx":
    case "tsx":
      return ["@astrojs/react", "@astrojs/preact"];
    default:
      return ["@astrojs/react", "@astrojs/preact", "@astrojs/vue", "@astrojs/svelte"];
  }
}
function formatList(values) {
  if (values.length === 1) {
    return values[0];
  }
  return `${values.slice(0, -1).join(", ")} or ${values[values.length - 1]}`;
}
async function renderComponent(result, displayName, Component, _props, slots = {}) {
  var _a;
  Component = await Component;
  if (Component === Fragment) {
    const children2 = await renderSlot(result, slots == null ? void 0 : slots.default);
    if (children2 == null) {
      return children2;
    }
    return markHTMLString(children2);
  }
  if (Component && Component.isAstroComponentFactory) {
    const output = await renderToString(result, Component, _props, slots);
    return markHTMLString(output);
  }
  if (Component === null && !_props["client:only"]) {
    throw new Error(`Unable to render ${displayName} because it is ${Component}!
Did you forget to import the component or is it possible there is a typo?`);
  }
  const { renderers } = result._metadata;
  const metadata = { displayName };
  const { hydration, props } = extractDirectives(_props);
  let html = "";
  if (hydration) {
    metadata.hydrate = hydration.directive;
    metadata.hydrateArgs = hydration.value;
    metadata.componentExport = hydration.componentExport;
    metadata.componentUrl = hydration.componentUrl;
  }
  const probableRendererNames = guessRenderers(metadata.componentUrl);
  if (Array.isArray(renderers) && renderers.length === 0 && typeof Component !== "string" && !componentIsHTMLElement(Component)) {
    const message = `Unable to render ${metadata.displayName}!

There are no \`integrations\` set in your \`astro.config.mjs\` file.
Did you mean to add ${formatList(probableRendererNames.map((r) => "`" + r + "`"))}?`;
    throw new Error(message);
  }
  const children = await renderSlot(result, slots == null ? void 0 : slots.default);
  let renderer;
  if (metadata.hydrate !== "only") {
    let error;
    for (const r of renderers) {
      try {
        if (await r.ssr.check(Component, props, children)) {
          renderer = r;
          break;
        }
      } catch (e) {
        error ?? (error = e);
      }
    }
    if (error) {
      throw error;
    }
    if (!renderer && typeof HTMLElement === "function" && componentIsHTMLElement(Component)) {
      const output = renderHTMLElement(result, Component, _props, slots);
      return output;
    }
  } else {
    if (metadata.hydrateArgs) {
      const rendererName = metadata.hydrateArgs;
      renderer = renderers.filter(({ name }) => name === `@astrojs/${rendererName}` || name === rendererName)[0];
    }
    if (!renderer && renderers.length === 1) {
      renderer = renderers[0];
    }
    if (!renderer) {
      const extname = (_a = metadata.componentUrl) == null ? void 0 : _a.split(".").pop();
      renderer = renderers.filter(({ name }) => name === `@astrojs/${extname}` || name === extname)[0];
    }
  }
  if (!renderer) {
    if (metadata.hydrate === "only") {
      throw new Error(`Unable to render ${metadata.displayName}!

Using the \`client:only\` hydration strategy, Astro needs a hint to use the correct renderer.
Did you mean to pass <${metadata.displayName} client:only="${probableRendererNames.map((r) => r.replace("@astrojs/", "")).join("|")}" />
`);
    } else if (typeof Component !== "string") {
      const matchingRenderers = renderers.filter((r) => probableRendererNames.includes(r.name));
      const plural = renderers.length > 1;
      if (matchingRenderers.length === 0) {
        throw new Error(`Unable to render ${metadata.displayName}!

There ${plural ? "are" : "is"} ${renderers.length} renderer${plural ? "s" : ""} configured in your \`astro.config.mjs\` file,
but ${plural ? "none were" : "it was not"} able to server-side render ${metadata.displayName}.

Did you mean to enable ${formatList(probableRendererNames.map((r) => "`" + r + "`"))}?`);
      } else if (matchingRenderers.length === 1) {
        renderer = matchingRenderers[0];
        ({ html } = await renderer.ssr.renderToStaticMarkup(Component, props, children, metadata));
      } else {
        throw new Error(`Unable to render ${metadata.displayName}!

This component likely uses ${formatList(probableRendererNames)},
but Astro encountered an error during server-side rendering.

Please ensure that ${metadata.displayName}:
1. Does not unconditionally access browser-specific globals like \`window\` or \`document\`.
   If this is unavoidable, use the \`client:only\` hydration directive.
2. Does not conditionally return \`null\` or \`undefined\` when rendered on the server.

If you're still stuck, please open an issue on GitHub or join us at https://astro.build/chat.`);
      }
    }
  } else {
    if (metadata.hydrate === "only") {
      html = await renderSlot(result, slots == null ? void 0 : slots.fallback);
    } else {
      ({ html } = await renderer.ssr.renderToStaticMarkup(Component, props, children, metadata));
    }
  }
  if (!html && typeof Component === "string") {
    html = await renderAstroComponent(await render`<${Component}${spreadAttributes(props)}${markHTMLString((children == null || children == "") && voidElementNames.test(Component) ? `/>` : `>${children == null ? "" : children}</${Component}>`)}`);
  }
  if (!hydration) {
    return markHTMLString(html.replace(/\<\/?astro-fragment\>/g, ""));
  }
  const astroId = shorthash(`<!--${metadata.componentExport.value}:${metadata.componentUrl}-->
${html}
${serializeProps(props)}`);
  result.scripts.add(await generateHydrateScript({ renderer, result, astroId, props }, metadata));
  const needsAstroTemplate = children && !/<\/?astro-fragment\>/.test(html);
  const template = needsAstroTemplate ? `<template data-astro-template>${children}</template>` : "";
  return markHTMLString(`<astro-root uid="${astroId}"${needsAstroTemplate ? " tmpl" : ""}>${html ?? ""}${template}</astro-root>`);
}
function createDeprecatedFetchContentFn() {
  return () => {
    throw new Error("Deprecated: Astro.fetchContent() has been replaced with Astro.glob().");
  };
}
function createAstroGlobFn() {
  const globHandler = (importMetaGlobResult, globValue) => {
    let allEntries = [...Object.values(importMetaGlobResult)];
    if (allEntries.length === 0) {
      throw new Error(`Astro.glob(${JSON.stringify(globValue())}) - no matches found.`);
    }
    return Promise.all(allEntries.map((fn) => fn()));
  };
  return globHandler;
}
function createAstro(filePathname, _site, projectRootStr) {
  const site = new URL(_site);
  const url = new URL(filePathname, site);
  const projectRoot = new URL(projectRootStr);
  return {
    site,
    fetchContent: createDeprecatedFetchContentFn(),
    glob: createAstroGlobFn(),
    resolve(...segments) {
      let resolved = segments.reduce((u, segment) => new URL(segment, u), url).pathname;
      if (resolved.startsWith(projectRoot.pathname)) {
        resolved = "/" + resolved.slice(projectRoot.pathname.length);
      }
      return resolved;
    }
  };
}
const toAttributeString = (value, shouldEscape = true) => shouldEscape ? String(value).replace(/&/g, "&#38;").replace(/"/g, "&#34;") : value;
const STATIC_DIRECTIVES = /* @__PURE__ */ new Set(["set:html", "set:text"]);
function addAttribute(value, key, shouldEscape = true) {
  if (value == null) {
    return "";
  }
  if (value === false) {
    if (htmlEnumAttributes.test(key) || svgEnumAttributes.test(key)) {
      return markHTMLString(` ${key}="false"`);
    }
    return "";
  }
  if (STATIC_DIRECTIVES.has(key)) {
    console.warn(`[astro] The "${key}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${key}={value}\`) instead of the dynamic spread syntax (\`{...{ "${key}": value }}\`).`);
    return "";
  }
  if (key === "class:list") {
    return markHTMLString(` ${key.slice(0, -5)}="${toAttributeString(serializeListValue(value))}"`);
  }
  if (value === true && (key.startsWith("data-") || htmlBooleanAttributes.test(key))) {
    return markHTMLString(` ${key}`);
  } else {
    return markHTMLString(` ${key}="${toAttributeString(value, shouldEscape)}"`);
  }
}
function spreadAttributes(values, shouldEscape = true) {
  let output = "";
  for (const [key, value] of Object.entries(values)) {
    output += addAttribute(value, key, shouldEscape);
  }
  return markHTMLString(output);
}
function defineStyleVars(selector, vars) {
  let output = "\n";
  for (const [key, value] of Object.entries(vars)) {
    output += `  --${key}: ${value};
`;
  }
  return markHTMLString(`${selector} {${output}}`);
}
function defineScriptVars(vars) {
  let output = "";
  for (const [key, value] of Object.entries(vars)) {
    output += `let ${key} = ${JSON.stringify(value)};
`;
  }
  return markHTMLString(output);
}
async function replaceHeadInjection(result, html) {
  let template = html;
  if (template.indexOf("<!--astro:head-->") > -1) {
    template = template.replace("<!--astro:head-->", await renderHead(result));
  }
  return template;
}
async function renderToString(result, componentFactory, props, children) {
  const Component = await componentFactory(result, props, children);
  if (!isAstroComponent(Component)) {
    const response = Component;
    throw response;
  }
  let template = await renderAstroComponent(Component);
  return replaceHeadInjection(result, template);
}
const uniqueElements = (item, index, all) => {
  const props = JSON.stringify(item.props);
  const children = item.children;
  return index === all.findIndex((i) => JSON.stringify(i.props) === props && i.children == children);
};
async function renderHead(result) {
  const styles = Array.from(result.styles).filter(uniqueElements).map((style) => renderElement("style", style));
  let needsHydrationStyles = false;
  const scripts = Array.from(result.scripts).filter(uniqueElements).map((script, i) => {
    if ("data-astro-component-hydration" in script.props) {
      needsHydrationStyles = true;
    }
    return renderElement("script", __spreadProps$1(__spreadValues$1({}, script), {
      props: __spreadProps$1(__spreadValues$1({}, script.props), { "astro-script": result._metadata.pathname + "/script-" + i })
    }));
  });
  if (needsHydrationStyles) {
    styles.push(renderElement("style", {
      props: {},
      children: "astro-root, astro-fragment { display: contents; }"
    }));
  }
  const links = Array.from(result.links).filter(uniqueElements).map((link) => renderElement("link", link, false));
  return markHTMLString(links.join("\n") + styles.join("\n") + scripts.join("\n") + "\n<!--astro:head:injected-->");
}
async function renderAstroComponent(component) {
  let template = [];
  for await (const value of component) {
    if (value || value === 0) {
      template.push(value);
    }
  }
  return markHTMLString(await _render(template));
}
function componentIsHTMLElement(Component) {
  return typeof HTMLElement !== "undefined" && HTMLElement.isPrototypeOf(Component);
}
async function renderHTMLElement(result, constructor, props, slots) {
  const name = getHTMLElementName(constructor);
  let attrHTML = "";
  for (const attr in props) {
    attrHTML += ` ${attr}="${toAttributeString(await props[attr])}"`;
  }
  return markHTMLString(`<${name}${attrHTML}>${await renderSlot(result, slots == null ? void 0 : slots.default)}</${name}>`);
}
function getHTMLElementName(constructor) {
  const definedName = customElements.getName(constructor);
  if (definedName)
    return definedName;
  const assignedName = constructor.name.replace(/^HTML|Element$/g, "").replace(/[A-Z]/g, "-$&").toLowerCase().replace(/^-/, "html-");
  return assignedName;
}
function renderElement(name, { props: _props, children = "" }, shouldEscape = true) {
  const _a = _props, { lang: _, "data-astro-id": astroId, "define:vars": defineVars } = _a, props = __objRest(_a, ["lang", "data-astro-id", "define:vars"]);
  if (defineVars) {
    if (name === "style") {
      if (props["is:global"]) {
        children = defineStyleVars(`:root`, defineVars) + "\n" + children;
      } else {
        children = defineStyleVars(`.astro-${astroId}`, defineVars) + "\n" + children;
      }
      delete props["is:global"];
      delete props["is:scoped"];
    }
    if (name === "script") {
      delete props.hoist;
      children = defineScriptVars(defineVars) + "\n" + children;
    }
  }
  return `<${name}${spreadAttributes(props, shouldEscape)}>${children}</${name}>`;
}

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

var buffer = {};

var base64Js = {};

base64Js.byteLength = byteLength;
base64Js.toByteArray = toByteArray;
base64Js.fromByteArray = fromByteArray;

var lookup = [];
var revLookup = [];
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i];
  revLookup[code.charCodeAt(i)] = i;
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62;
revLookup['_'.charCodeAt(0)] = 63;

function getLens (b64) {
  var len = b64.length;

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=');
  if (validLen === -1) validLen = len;

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4);

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64);
  var validLen = lens[0];
  var placeHoldersLen = lens[1];
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp;
  var lens = getLens(b64);
  var validLen = lens[0];
  var placeHoldersLen = lens[1];

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));

  var curByte = 0;

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen;

  var i;
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)];
    arr[curByte++] = (tmp >> 16) & 0xFF;
    arr[curByte++] = (tmp >> 8) & 0xFF;
    arr[curByte++] = tmp & 0xFF;
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4);
    arr[curByte++] = tmp & 0xFF;
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2);
    arr[curByte++] = (tmp >> 8) & 0xFF;
    arr[curByte++] = tmp & 0xFF;
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp;
  var output = [];
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF);
    output.push(tripletToBase64(tmp));
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp;
  var len = uint8.length;
  var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes
  var parts = [];
  var maxChunkLength = 16383; // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)));
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1];
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    );
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1];
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    );
  }

  return parts.join('')
}

var ieee754 = {};

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */

ieee754.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m;
  var eLen = (nBytes * 8) - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var nBits = -7;
  var i = isLE ? (nBytes - 1) : 0;
  var d = isLE ? -1 : 1;
  var s = buffer[offset + i];

  i += d;

  e = s & ((1 << (-nBits)) - 1);
  s >>= (-nBits);
  nBits += eLen;
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1);
  e >>= (-nBits);
  nBits += mLen;
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias;
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen);
    e = e - eBias;
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
};

ieee754.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c;
  var eLen = (nBytes * 8) - mLen - 1;
  var eMax = (1 << eLen) - 1;
  var eBias = eMax >> 1;
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0);
  var i = isLE ? 0 : (nBytes - 1);
  var d = isLE ? 1 : -1;
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;

  value = Math.abs(value);

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0;
    e = eMax;
  } else {
    e = Math.floor(Math.log(value) / Math.LN2);
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--;
      c *= 2;
    }
    if (e + eBias >= 1) {
      value += rt / c;
    } else {
      value += rt * Math.pow(2, 1 - eBias);
    }
    if (value * c >= 2) {
      e++;
      c /= 2;
    }

    if (e + eBias >= eMax) {
      m = 0;
      e = eMax;
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen);
      e = e + eBias;
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);
      e = 0;
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m;
  eLen += mLen;
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128;
};

/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */

(function (exports) {

const base64 = base64Js;
const ieee754$1 = ieee754;
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null;

exports.Buffer = Buffer;
exports.SlowBuffer = SlowBuffer;
exports.INSPECT_MAX_BYTES = 50;

const K_MAX_LENGTH = 0x7fffffff;
exports.kMaxLength = K_MAX_LENGTH;

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport();

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  );
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1);
    const proto = { foo: function () { return 42 } };
    Object.setPrototypeOf(proto, Uint8Array.prototype);
    Object.setPrototypeOf(arr, proto);
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
});

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
});

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length);
  Object.setPrototypeOf(buf, Buffer.prototype);
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192; // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf();
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value);
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
};

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype);
Object.setPrototypeOf(Buffer, Uint8Array);

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size);
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
};

function allocUnsafe (size) {
  assertSize(size);
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
};
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
};

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8';
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0;
  let buf = createBuffer(length);

  const actual = buf.write(string, encoding);

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual);
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0;
  const buf = createBuffer(length);
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255;
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView);
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf;
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array);
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset);
  } else {
    buf = new Uint8Array(array, byteOffset, length);
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype);

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0;
    const buf = createBuffer(len);

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len);
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0;
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
};

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength);
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength);
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length;
  let y = b.length;

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
};

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
};

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i;
  if (length === undefined) {
    length = 0;
    for (i = 0; i < list.length; ++i) {
      length += list[i].length;
    }
  }

  const buffer = Buffer.allocUnsafe(length);
  let pos = 0;
  for (i = 0; i < list.length; ++i) {
    let buf = list[i];
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf);
        buf.copy(buffer, pos);
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        );
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos);
    }
    pos += buf.length;
  }
  return buffer
};

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length;
  const mustMatch = (arguments.length > 2 && arguments[2] === true);
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false;
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase();
        loweredCase = true;
    }
  }
}
Buffer.byteLength = byteLength;

function slowToString (encoding, start, end) {
  let loweredCase = false;

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0;
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length;
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0;
  start >>>= 0;

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8';

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase();
        loweredCase = true;
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true;

function swap (b, n, m) {
  const i = b[n];
  b[n] = b[m];
  b[m] = i;
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length;
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1);
  }
  return this
};

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length;
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3);
    swap(this, i + 1, i + 2);
  }
  return this
};

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length;
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7);
    swap(this, i + 1, i + 6);
    swap(this, i + 2, i + 5);
    swap(this, i + 3, i + 4);
  }
  return this
};

Buffer.prototype.toString = function toString () {
  const length = this.length;
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
};

Buffer.prototype.toLocaleString = Buffer.prototype.toString;

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
};

Buffer.prototype.inspect = function inspect () {
  let str = '';
  const max = exports.INSPECT_MAX_BYTES;
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim();
  if (this.length > max) str += ' ... ';
  return '<Buffer ' + str + '>'
};
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect;
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength);
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0;
  }
  if (end === undefined) {
    end = target ? target.length : 0;
  }
  if (thisStart === undefined) {
    thisStart = 0;
  }
  if (thisEnd === undefined) {
    thisEnd = this.length;
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0;
  end >>>= 0;
  thisStart >>>= 0;
  thisEnd >>>= 0;

  if (this === target) return 0

  let x = thisEnd - thisStart;
  let y = end - start;
  const len = Math.min(x, y);

  const thisCopy = this.slice(thisStart, thisEnd);
  const targetCopy = target.slice(start, end);

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i];
      y = targetCopy[i];
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
};

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset;
    byteOffset = 0;
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff;
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000;
  }
  byteOffset = +byteOffset; // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1);
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset;
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1;
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0;
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding);
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF; // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1;
  let arrLength = arr.length;
  let valLength = val.length;

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase();
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2;
      arrLength /= 2;
      valLength /= 2;
      byteOffset /= 2;
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i;
  if (dir) {
    let foundIndex = -1;
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i;
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex;
        foundIndex = -1;
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;
    for (i = byteOffset; i >= 0; i--) {
      let found = true;
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false;
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
};

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
};

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
};

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0;
  const remaining = buf.length - offset;
  if (!length) {
    length = remaining;
  } else {
    length = Number(length);
    if (length > remaining) {
      length = remaining;
    }
  }

  const strLen = string.length;

  if (length > strLen / 2) {
    length = strLen / 2;
  }
  let i;
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16);
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed;
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8';
    length = this.length;
    offset = 0;
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset;
    length = this.length;
    offset = 0;
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0;
    if (isFinite(length)) {
      length = length >>> 0;
      if (encoding === undefined) encoding = 'utf8';
    } else {
      encoding = length;
      length = undefined;
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset;
  if (length === undefined || length > remaining) length = remaining;

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8';

  let loweredCase = false;
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase();
        loweredCase = true;
    }
  }
};

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
};

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end);
  const res = [];

  let i = start;
  while (i < end) {
    const firstByte = buf[i];
    let codePoint = null;
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1;

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint;

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte;
          }
          break
        case 2:
          secondByte = buf[i + 1];
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F);
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint;
            }
          }
          break
        case 3:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F);
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint;
            }
          }
          break
        case 4:
          secondByte = buf[i + 1];
          thirdByte = buf[i + 2];
          fourthByte = buf[i + 3];
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F);
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint;
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD;
      bytesPerSequence = 1;
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000;
      res.push(codePoint >>> 10 & 0x3FF | 0xD800);
      codePoint = 0xDC00 | codePoint & 0x3FF;
    }

    res.push(codePoint);
    i += bytesPerSequence;
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000;

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length;
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = '';
  let i = 0;
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    );
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = '';
  end = Math.min(buf.length, end);

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F);
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = '';
  end = Math.min(buf.length, end);

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i]);
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length;

  if (!start || start < 0) start = 0;
  if (!end || end < 0 || end > len) end = len;

  let out = '';
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]];
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end);
  let res = '';
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256));
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length;
  start = ~~start;
  end = end === undefined ? len : ~~end;

  if (start < 0) {
    start += len;
    if (start < 0) start = 0;
  } else if (start > len) {
    start = len;
  }

  if (end < 0) {
    end += len;
    if (end < 0) end = 0;
  } else if (end > len) {
    end = len;
  }

  if (end < start) end = start;

  const newBuf = this.subarray(start, end);
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype);

  return newBuf
};

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);

  let val = this[offset];
  let mul = 1;
  let i = 0;
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul;
  }

  return val
};

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length);
  }

  let val = this[offset + --byteLength];
  let mul = 1;
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul;
  }

  return val
};

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 1, this.length);
  return this[offset]
};

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  return this[offset] | (this[offset + 1] << 8)
};

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  return (this[offset] << 8) | this[offset + 1]
};

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
};

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
};

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0;
  validateNumber(offset, 'offset');
  const first = this[offset];
  const last = this[offset + 7];
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8);
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24;

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24;

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
});

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0;
  validateNumber(offset, 'offset');
  const first = this[offset];
  const last = this[offset + 7];
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8);
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset];

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last;

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
});

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);

  let val = this[offset];
  let mul = 1;
  let i = 0;
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul;
  }
  mul *= 0x80;

  if (val >= mul) val -= Math.pow(2, 8 * byteLength);

  return val
};

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) checkOffset(offset, byteLength, this.length);

  let i = byteLength;
  let mul = 1;
  let val = this[offset + --i];
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul;
  }
  mul *= 0x80;

  if (val >= mul) val -= Math.pow(2, 8 * byteLength);

  return val
};

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 1, this.length);
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
};

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  const val = this[offset] | (this[offset + 1] << 8);
  return (val & 0x8000) ? val | 0xFFFF0000 : val
};

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 2, this.length);
  const val = this[offset + 1] | (this[offset] << 8);
  return (val & 0x8000) ? val | 0xFFFF0000 : val
};

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
};

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
};

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0;
  validateNumber(offset, 'offset');
  const first = this[offset];
  const last = this[offset + 7];
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8);
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24); // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
});

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0;
  validateNumber(offset, 'offset');
  const first = this[offset];
  const last = this[offset + 7];
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8);
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset];

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
});

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return ieee754$1.read(this, offset, true, 23, 4)
};

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 4, this.length);
  return ieee754$1.read(this, offset, false, 23, 4)
};

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 8, this.length);
  return ieee754$1.read(this, offset, true, 52, 8)
};

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0;
  if (!noAssert) checkOffset(offset, 8, this.length);
  return ieee754$1.read(this, offset, false, 52, 8)
};

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1;
    checkInt(this, value, offset, byteLength, maxBytes, 0);
  }

  let mul = 1;
  let i = 0;
  this[offset] = value & 0xFF;
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF;
  }

  return offset + byteLength
};

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  byteLength = byteLength >>> 0;
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1;
    checkInt(this, value, offset, byteLength, maxBytes, 0);
  }

  let i = byteLength - 1;
  let mul = 1;
  this[offset + i] = value & 0xFF;
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF;
  }

  return offset + byteLength
};

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);
  this[offset] = (value & 0xff);
  return offset + 1
};

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
  this[offset] = (value & 0xff);
  this[offset + 1] = (value >>> 8);
  return offset + 2
};

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);
  this[offset] = (value >>> 8);
  this[offset + 1] = (value & 0xff);
  return offset + 2
};

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
  this[offset + 3] = (value >>> 24);
  this[offset + 2] = (value >>> 16);
  this[offset + 1] = (value >>> 8);
  this[offset] = (value & 0xff);
  return offset + 4
};

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);
  this[offset] = (value >>> 24);
  this[offset + 1] = (value >>> 16);
  this[offset + 2] = (value >>> 8);
  this[offset + 3] = (value & 0xff);
  return offset + 4
};

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7);

  let lo = Number(value & BigInt(0xffffffff));
  buf[offset++] = lo;
  lo = lo >> 8;
  buf[offset++] = lo;
  lo = lo >> 8;
  buf[offset++] = lo;
  lo = lo >> 8;
  buf[offset++] = lo;
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));
  buf[offset++] = hi;
  hi = hi >> 8;
  buf[offset++] = hi;
  hi = hi >> 8;
  buf[offset++] = hi;
  hi = hi >> 8;
  buf[offset++] = hi;
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7);

  let lo = Number(value & BigInt(0xffffffff));
  buf[offset + 7] = lo;
  lo = lo >> 8;
  buf[offset + 6] = lo;
  lo = lo >> 8;
  buf[offset + 5] = lo;
  lo = lo >> 8;
  buf[offset + 4] = lo;
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff));
  buf[offset + 3] = hi;
  hi = hi >> 8;
  buf[offset + 2] = hi;
  hi = hi >> 8;
  buf[offset + 1] = hi;
  hi = hi >> 8;
  buf[offset] = hi;
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
});

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
});

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1);

    checkInt(this, value, offset, byteLength, limit - 1, -limit);
  }

  let i = 0;
  let mul = 1;
  let sub = 0;
  this[offset] = value & 0xFF;
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;
  }

  return offset + byteLength
};

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1);

    checkInt(this, value, offset, byteLength, limit - 1, -limit);
  }

  let i = byteLength - 1;
  let mul = 1;
  let sub = 0;
  this[offset + i] = value & 0xFF;
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1;
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF;
  }

  return offset + byteLength
};

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);
  if (value < 0) value = 0xff + value + 1;
  this[offset] = (value & 0xff);
  return offset + 1
};

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
  this[offset] = (value & 0xff);
  this[offset + 1] = (value >>> 8);
  return offset + 2
};

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);
  this[offset] = (value >>> 8);
  this[offset + 1] = (value & 0xff);
  return offset + 2
};

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
  this[offset] = (value & 0xff);
  this[offset + 1] = (value >>> 8);
  this[offset + 2] = (value >>> 16);
  this[offset + 3] = (value >>> 24);
  return offset + 4
};

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);
  if (value < 0) value = 0xffffffff + value + 1;
  this[offset] = (value >>> 24);
  this[offset + 1] = (value >>> 16);
  this[offset + 2] = (value >>> 8);
  this[offset + 3] = (value & 0xff);
  return offset + 4
};

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
});

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
});

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4);
  }
  ieee754$1.write(buf, value, offset, littleEndian, 23, 4);
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
};

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
};

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value;
  offset = offset >>> 0;
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8);
  }
  ieee754$1.write(buf, value, offset, littleEndian, 52, 8);
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
};

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
};

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0;
  if (!end && end !== 0) end = this.length;
  if (targetStart >= target.length) targetStart = target.length;
  if (!targetStart) targetStart = 0;
  if (end > 0 && end < start) end = start;

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length;
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start;
  }

  const len = end - start;

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end);
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    );
  }

  return len
};

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start;
      start = 0;
      end = this.length;
    } else if (typeof end === 'string') {
      encoding = end;
      end = this.length;
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0);
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code;
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255;
  } else if (typeof val === 'boolean') {
    val = Number(val);
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0;
  end = end === undefined ? this.length : end >>> 0;

  if (!val) val = 0;

  let i;
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val;
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding);
    const len = bytes.length;
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len];
    }
  }

  return this
};

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {};
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super();

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      });

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`;
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack; // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name;
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      });
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  };
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError);
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError);
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`;
    let received = input;
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input));
    } else if (typeof input === 'bigint') {
      received = String(input);
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received);
      }
      received += 'n';
    }
    msg += ` It must be ${range}. Received ${received}`;
    return msg
  }, RangeError);

function addNumericalSeparator (val) {
  let res = '';
  let i = val.length;
  const start = val[0] === '-' ? 1 : 0;
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`;
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset');
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1));
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : '';
    let range;
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`;
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`;
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`;
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength);
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type);
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g;

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0];
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '');
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '=';
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity;
  let codePoint;
  const length = string.length;
  let leadSurrogate = null;
  const bytes = [];

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i);

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
          continue
        }

        // valid lead
        leadSurrogate = codePoint;

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
        leadSurrogate = codePoint;
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);
    }

    leadSurrogate = null;

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint);
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      );
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      );
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      );
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = [];
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF);
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo;
  const byteArray = [];
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i);
    hi = c >> 8;
    lo = c % 256;
    byteArray.push(lo);
    byteArray.push(hi);
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i;
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i];
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef';
  const table = new Array(256);
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16;
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j];
    }
  }
  return table
})();

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}
}(buffer));

var util$2 = {};

var types = {};

/* eslint complexity: [2, 18], max-statements: [2, 33] */
var shams$1 = function hasSymbols() {
	if (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }
	if (typeof Symbol.iterator === 'symbol') { return true; }

	var obj = {};
	var sym = Symbol('test');
	var symObj = Object(sym);
	if (typeof sym === 'string') { return false; }

	if (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }
	if (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }

	// temp disabled per https://github.com/ljharb/object.assign/issues/17
	// if (sym instanceof Symbol) { return false; }
	// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4
	// if (!(symObj instanceof Symbol)) { return false; }

	// if (typeof Symbol.prototype.toString !== 'function') { return false; }
	// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }

	var symVal = 42;
	obj[sym] = symVal;
	for (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop
	if (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }

	if (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }

	var syms = Object.getOwnPropertySymbols(obj);
	if (syms.length !== 1 || syms[0] !== sym) { return false; }

	if (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }

	if (typeof Object.getOwnPropertyDescriptor === 'function') {
		var descriptor = Object.getOwnPropertyDescriptor(obj, sym);
		if (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }
	}

	return true;
};

var hasSymbols$3 = shams$1;

var shams = function hasToStringTagShams() {
	return hasSymbols$3() && !!Symbol.toStringTag;
};

var origSymbol = typeof Symbol !== 'undefined' && Symbol;
var hasSymbolSham = shams$1;

var hasSymbols$2 = function hasNativeSymbols() {
	if (typeof origSymbol !== 'function') { return false; }
	if (typeof Symbol !== 'function') { return false; }
	if (typeof origSymbol('foo') !== 'symbol') { return false; }
	if (typeof Symbol('bar') !== 'symbol') { return false; }

	return hasSymbolSham();
};

/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice$1 = Array.prototype.slice;
var toStr$6 = Object.prototype.toString;
var funcType = '[object Function]';

var implementation$8 = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr$6.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice$1.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice$1.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice$1.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};

var implementation$7 = implementation$8;

var functionBind = Function.prototype.bind || implementation$7;

var bind$1 = functionBind;

var src = bind$1.call(Function.call, Object.prototype.hasOwnProperty);

var undefined$1;

var $SyntaxError = SyntaxError;
var $Function = Function;
var $TypeError = TypeError;

// eslint-disable-next-line consistent-return
var getEvalledConstructor = function (expressionSyntax) {
	try {
		return $Function('"use strict"; return (' + expressionSyntax + ').constructor;')();
	} catch (e) {}
};

var $gOPD$1 = Object.getOwnPropertyDescriptor;
if ($gOPD$1) {
	try {
		$gOPD$1({}, '');
	} catch (e) {
		$gOPD$1 = null; // this is IE 8, which has a broken gOPD
	}
}

var throwTypeError = function () {
	throw new $TypeError();
};
var ThrowTypeError = $gOPD$1
	? (function () {
		try {
			// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties
			arguments.callee; // IE 8 does not throw here
			return throwTypeError;
		} catch (calleeThrows) {
			try {
				// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')
				return $gOPD$1(arguments, 'callee').get;
			} catch (gOPDthrows) {
				return throwTypeError;
			}
		}
	}())
	: throwTypeError;

var hasSymbols$1 = hasSymbols$2();

var getProto$1 = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var needsEval = {};

var TypedArray = typeof Uint8Array === 'undefined' ? undefined$1 : getProto$1(Uint8Array);

var INTRINSICS = {
	'%AggregateError%': typeof AggregateError === 'undefined' ? undefined$1 : AggregateError,
	'%Array%': Array,
	'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined$1 : ArrayBuffer,
	'%ArrayIteratorPrototype%': hasSymbols$1 ? getProto$1([][Symbol.iterator]()) : undefined$1,
	'%AsyncFromSyncIteratorPrototype%': undefined$1,
	'%AsyncFunction%': needsEval,
	'%AsyncGenerator%': needsEval,
	'%AsyncGeneratorFunction%': needsEval,
	'%AsyncIteratorPrototype%': needsEval,
	'%Atomics%': typeof Atomics === 'undefined' ? undefined$1 : Atomics,
	'%BigInt%': typeof BigInt === 'undefined' ? undefined$1 : BigInt,
	'%Boolean%': Boolean,
	'%DataView%': typeof DataView === 'undefined' ? undefined$1 : DataView,
	'%Date%': Date,
	'%decodeURI%': decodeURI,
	'%decodeURIComponent%': decodeURIComponent,
	'%encodeURI%': encodeURI,
	'%encodeURIComponent%': encodeURIComponent,
	'%Error%': Error,
	'%eval%': eval, // eslint-disable-line no-eval
	'%EvalError%': EvalError,
	'%Float32Array%': typeof Float32Array === 'undefined' ? undefined$1 : Float32Array,
	'%Float64Array%': typeof Float64Array === 'undefined' ? undefined$1 : Float64Array,
	'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined$1 : FinalizationRegistry,
	'%Function%': $Function,
	'%GeneratorFunction%': needsEval,
	'%Int8Array%': typeof Int8Array === 'undefined' ? undefined$1 : Int8Array,
	'%Int16Array%': typeof Int16Array === 'undefined' ? undefined$1 : Int16Array,
	'%Int32Array%': typeof Int32Array === 'undefined' ? undefined$1 : Int32Array,
	'%isFinite%': isFinite,
	'%isNaN%': isNaN,
	'%IteratorPrototype%': hasSymbols$1 ? getProto$1(getProto$1([][Symbol.iterator]())) : undefined$1,
	'%JSON%': typeof JSON === 'object' ? JSON : undefined$1,
	'%Map%': typeof Map === 'undefined' ? undefined$1 : Map,
	'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols$1 ? undefined$1 : getProto$1(new Map()[Symbol.iterator]()),
	'%Math%': Math,
	'%Number%': Number,
	'%Object%': Object,
	'%parseFloat%': parseFloat,
	'%parseInt%': parseInt,
	'%Promise%': typeof Promise === 'undefined' ? undefined$1 : Promise,
	'%Proxy%': typeof Proxy === 'undefined' ? undefined$1 : Proxy,
	'%RangeError%': RangeError,
	'%ReferenceError%': ReferenceError,
	'%Reflect%': typeof Reflect === 'undefined' ? undefined$1 : Reflect,
	'%RegExp%': RegExp,
	'%Set%': typeof Set === 'undefined' ? undefined$1 : Set,
	'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols$1 ? undefined$1 : getProto$1(new Set()[Symbol.iterator]()),
	'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined$1 : SharedArrayBuffer,
	'%String%': String,
	'%StringIteratorPrototype%': hasSymbols$1 ? getProto$1(''[Symbol.iterator]()) : undefined$1,
	'%Symbol%': hasSymbols$1 ? Symbol : undefined$1,
	'%SyntaxError%': $SyntaxError,
	'%ThrowTypeError%': ThrowTypeError,
	'%TypedArray%': TypedArray,
	'%TypeError%': $TypeError,
	'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined$1 : Uint8Array,
	'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined$1 : Uint8ClampedArray,
	'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined$1 : Uint16Array,
	'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined$1 : Uint32Array,
	'%URIError%': URIError,
	'%WeakMap%': typeof WeakMap === 'undefined' ? undefined$1 : WeakMap,
	'%WeakRef%': typeof WeakRef === 'undefined' ? undefined$1 : WeakRef,
	'%WeakSet%': typeof WeakSet === 'undefined' ? undefined$1 : WeakSet
};

var doEval = function doEval(name) {
	var value;
	if (name === '%AsyncFunction%') {
		value = getEvalledConstructor('async function () {}');
	} else if (name === '%GeneratorFunction%') {
		value = getEvalledConstructor('function* () {}');
	} else if (name === '%AsyncGeneratorFunction%') {
		value = getEvalledConstructor('async function* () {}');
	} else if (name === '%AsyncGenerator%') {
		var fn = doEval('%AsyncGeneratorFunction%');
		if (fn) {
			value = fn.prototype;
		}
	} else if (name === '%AsyncIteratorPrototype%') {
		var gen = doEval('%AsyncGenerator%');
		if (gen) {
			value = getProto$1(gen.prototype);
		}
	}

	INTRINSICS[name] = value;

	return value;
};

var LEGACY_ALIASES = {
	'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],
	'%ArrayPrototype%': ['Array', 'prototype'],
	'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],
	'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],
	'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],
	'%ArrayProto_values%': ['Array', 'prototype', 'values'],
	'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],
	'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],
	'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],
	'%BooleanPrototype%': ['Boolean', 'prototype'],
	'%DataViewPrototype%': ['DataView', 'prototype'],
	'%DatePrototype%': ['Date', 'prototype'],
	'%ErrorPrototype%': ['Error', 'prototype'],
	'%EvalErrorPrototype%': ['EvalError', 'prototype'],
	'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],
	'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],
	'%FunctionPrototype%': ['Function', 'prototype'],
	'%Generator%': ['GeneratorFunction', 'prototype'],
	'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],
	'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],
	'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],
	'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],
	'%JSONParse%': ['JSON', 'parse'],
	'%JSONStringify%': ['JSON', 'stringify'],
	'%MapPrototype%': ['Map', 'prototype'],
	'%NumberPrototype%': ['Number', 'prototype'],
	'%ObjectPrototype%': ['Object', 'prototype'],
	'%ObjProto_toString%': ['Object', 'prototype', 'toString'],
	'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],
	'%PromisePrototype%': ['Promise', 'prototype'],
	'%PromiseProto_then%': ['Promise', 'prototype', 'then'],
	'%Promise_all%': ['Promise', 'all'],
	'%Promise_reject%': ['Promise', 'reject'],
	'%Promise_resolve%': ['Promise', 'resolve'],
	'%RangeErrorPrototype%': ['RangeError', 'prototype'],
	'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],
	'%RegExpPrototype%': ['RegExp', 'prototype'],
	'%SetPrototype%': ['Set', 'prototype'],
	'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],
	'%StringPrototype%': ['String', 'prototype'],
	'%SymbolPrototype%': ['Symbol', 'prototype'],
	'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],
	'%TypedArrayPrototype%': ['TypedArray', 'prototype'],
	'%TypeErrorPrototype%': ['TypeError', 'prototype'],
	'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],
	'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],
	'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],
	'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],
	'%URIErrorPrototype%': ['URIError', 'prototype'],
	'%WeakMapPrototype%': ['WeakMap', 'prototype'],
	'%WeakSetPrototype%': ['WeakSet', 'prototype']
};

var bind = functionBind;
var hasOwn = src;
var $concat = bind.call(Function.call, Array.prototype.concat);
var $spliceApply = bind.call(Function.apply, Array.prototype.splice);
var $replace = bind.call(Function.call, String.prototype.replace);
var $strSlice = bind.call(Function.call, String.prototype.slice);
var $exec = bind.call(Function.call, RegExp.prototype.exec);

/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */
var rePropName = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
var reEscapeChar = /\\(\\)?/g; /** Used to match backslashes in property paths. */
var stringToPath = function stringToPath(string) {
	var first = $strSlice(string, 0, 1);
	var last = $strSlice(string, -1);
	if (first === '%' && last !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected closing `%`');
	} else if (last === '%' && first !== '%') {
		throw new $SyntaxError('invalid intrinsic syntax, expected opening `%`');
	}
	var result = [];
	$replace(string, rePropName, function (match, number, quote, subString) {
		result[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;
	});
	return result;
};
/* end adaptation */

var getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {
	var intrinsicName = name;
	var alias;
	if (hasOwn(LEGACY_ALIASES, intrinsicName)) {
		alias = LEGACY_ALIASES[intrinsicName];
		intrinsicName = '%' + alias[0] + '%';
	}

	if (hasOwn(INTRINSICS, intrinsicName)) {
		var value = INTRINSICS[intrinsicName];
		if (value === needsEval) {
			value = doEval(intrinsicName);
		}
		if (typeof value === 'undefined' && !allowMissing) {
			throw new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
		}

		return {
			alias: alias,
			name: intrinsicName,
			value: value
		};
	}

	throw new $SyntaxError('intrinsic ' + name + ' does not exist!');
};

var getIntrinsic = function GetIntrinsic(name, allowMissing) {
	if (typeof name !== 'string' || name.length === 0) {
		throw new $TypeError('intrinsic name must be a non-empty string');
	}
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new $TypeError('"allowMissing" argument must be a boolean');
	}

	if ($exec(/^%?[^%]*%?$/g, name) === null) {
		throw new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');
	}
	var parts = stringToPath(name);
	var intrinsicBaseName = parts.length > 0 ? parts[0] : '';

	var intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);
	var intrinsicRealName = intrinsic.name;
	var value = intrinsic.value;
	var skipFurtherCaching = false;

	var alias = intrinsic.alias;
	if (alias) {
		intrinsicBaseName = alias[0];
		$spliceApply(parts, $concat([0, 1], alias));
	}

	for (var i = 1, isOwn = true; i < parts.length; i += 1) {
		var part = parts[i];
		var first = $strSlice(part, 0, 1);
		var last = $strSlice(part, -1);
		if (
			(
				(first === '"' || first === "'" || first === '`')
				|| (last === '"' || last === "'" || last === '`')
			)
			&& first !== last
		) {
			throw new $SyntaxError('property names with quotes must have matching quotes');
		}
		if (part === 'constructor' || !isOwn) {
			skipFurtherCaching = true;
		}

		intrinsicBaseName += '.' + part;
		intrinsicRealName = '%' + intrinsicBaseName + '%';

		if (hasOwn(INTRINSICS, intrinsicRealName)) {
			value = INTRINSICS[intrinsicRealName];
		} else if (value != null) {
			if (!(part in value)) {
				if (!allowMissing) {
					throw new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');
				}
				return void undefined$1;
			}
			if ($gOPD$1 && (i + 1) >= parts.length) {
				var desc = $gOPD$1(value, part);
				isOwn = !!desc;

				// By convention, when a data property is converted to an accessor
				// property to emulate a data property that does not suffer from
				// the override mistake, that accessor's getter is marked with
				// an `originalValue` property. Here, when we detect this, we
				// uphold the illusion by pretending to see that original data
				// property, i.e., returning the value rather than the getter
				// itself.
				if (isOwn && 'get' in desc && !('originalValue' in desc.get)) {
					value = desc.get;
				} else {
					value = value[part];
				}
			} else {
				isOwn = hasOwn(value, part);
				value = value[part];
			}

			if (isOwn && !skipFurtherCaching) {
				INTRINSICS[intrinsicRealName] = value;
			}
		}
	}
	return value;
};

var callBind$3 = {exports: {}};

(function (module) {

var bind = functionBind;
var GetIntrinsic = getIntrinsic;

var $apply = GetIntrinsic('%Function.prototype.apply%');
var $call = GetIntrinsic('%Function.prototype.call%');
var $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);

var $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);
var $defineProperty = GetIntrinsic('%Object.defineProperty%', true);
var $max = GetIntrinsic('%Math.max%');

if ($defineProperty) {
	try {
		$defineProperty({}, 'a', { value: 1 });
	} catch (e) {
		// IE 8 has a broken defineProperty
		$defineProperty = null;
	}
}

module.exports = function callBind(originalFunction) {
	var func = $reflectApply(bind, $call, arguments);
	if ($gOPD && $defineProperty) {
		var desc = $gOPD(func, 'length');
		if (desc.configurable) {
			// original length, plus the receiver, minus any additional arguments (after the receiver)
			$defineProperty(
				func,
				'length',
				{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }
			);
		}
	}
	return func;
};

var applyBind = function applyBind() {
	return $reflectApply(bind, $apply, arguments);
};

if ($defineProperty) {
	$defineProperty(module.exports, 'apply', { value: applyBind });
} else {
	module.exports.apply = applyBind;
}
}(callBind$3));

var GetIntrinsic$2 = getIntrinsic;

var callBind$2 = callBind$3.exports;

var $indexOf$1 = callBind$2(GetIntrinsic$2('String.prototype.indexOf'));

var callBound$3 = function callBoundIntrinsic(name, allowMissing) {
	var intrinsic = GetIntrinsic$2(name, !!allowMissing);
	if (typeof intrinsic === 'function' && $indexOf$1(name, '.prototype.') > -1) {
		return callBind$2(intrinsic);
	}
	return intrinsic;
};

var hasToStringTag$4 = shams();
var callBound$2 = callBound$3;

var $toString$2 = callBound$2('Object.prototype.toString');

var isStandardArguments = function isArguments(value) {
	if (hasToStringTag$4 && value && typeof value === 'object' && Symbol.toStringTag in value) {
		return false;
	}
	return $toString$2(value) === '[object Arguments]';
};

var isLegacyArguments = function isArguments(value) {
	if (isStandardArguments(value)) {
		return true;
	}
	return value !== null &&
		typeof value === 'object' &&
		typeof value.length === 'number' &&
		value.length >= 0 &&
		$toString$2(value) !== '[object Array]' &&
		$toString$2(value.callee) === '[object Function]';
};

var supportsStandardArguments = (function () {
	return isStandardArguments(arguments);
}());

isStandardArguments.isLegacyArguments = isLegacyArguments; // for tests

var isArguments$1 = supportsStandardArguments ? isStandardArguments : isLegacyArguments;

var toStr$5 = Object.prototype.toString;
var fnToStr$1 = Function.prototype.toString;
var isFnRegex = /^\s*(?:function)?\*/;
var hasToStringTag$3 = shams();
var getProto = Object.getPrototypeOf;
var getGeneratorFunc = function () { // eslint-disable-line consistent-return
	if (!hasToStringTag$3) {
		return false;
	}
	try {
		return Function('return function*() {}')();
	} catch (e) {
	}
};
var GeneratorFunction;

var isGeneratorFunction = function isGeneratorFunction(fn) {
	if (typeof fn !== 'function') {
		return false;
	}
	if (isFnRegex.test(fnToStr$1.call(fn))) {
		return true;
	}
	if (!hasToStringTag$3) {
		var str = toStr$5.call(fn);
		return str === '[object GeneratorFunction]';
	}
	if (!getProto) {
		return false;
	}
	if (typeof GeneratorFunction === 'undefined') {
		var generatorFunc = getGeneratorFunc();
		GeneratorFunction = generatorFunc ? getProto(generatorFunc) : false;
	}
	return getProto(fn) === GeneratorFunction;
};

var fnToStr = Function.prototype.toString;
var reflectApply = typeof Reflect === 'object' && Reflect !== null && Reflect.apply;
var badArrayLike;
var isCallableMarker;
if (typeof reflectApply === 'function' && typeof Object.defineProperty === 'function') {
	try {
		badArrayLike = Object.defineProperty({}, 'length', {
			get: function () {
				throw isCallableMarker;
			}
		});
		isCallableMarker = {};
		// eslint-disable-next-line no-throw-literal
		reflectApply(function () { throw 42; }, null, badArrayLike);
	} catch (_) {
		if (_ !== isCallableMarker) {
			reflectApply = null;
		}
	}
} else {
	reflectApply = null;
}

var constructorRegex = /^\s*class\b/;
var isES6ClassFn = function isES6ClassFunction(value) {
	try {
		var fnStr = fnToStr.call(value);
		return constructorRegex.test(fnStr);
	} catch (e) {
		return false; // not a function
	}
};

var tryFunctionObject = function tryFunctionToStr(value) {
	try {
		if (isES6ClassFn(value)) { return false; }
		fnToStr.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr$4 = Object.prototype.toString;
var fnClass = '[object Function]';
var genClass = '[object GeneratorFunction]';
var hasToStringTag$2 = typeof Symbol === 'function' && !!Symbol.toStringTag; // better: use `has-tostringtag`
/* globals document: false */
var documentDotAll = typeof document === 'object' && typeof document.all === 'undefined' && document.all !== undefined ? document.all : {};

var isCallable$1 = reflectApply
	? function isCallable(value) {
		if (value === documentDotAll) { return true; }
		if (!value) { return false; }
		if (typeof value !== 'function' && typeof value !== 'object') { return false; }
		if (typeof value === 'function' && !value.prototype) { return true; }
		try {
			reflectApply(value, null, badArrayLike);
		} catch (e) {
			if (e !== isCallableMarker) { return false; }
		}
		return !isES6ClassFn(value);
	}
	: function isCallable(value) {
		if (value === documentDotAll) { return true; }
		if (!value) { return false; }
		if (typeof value !== 'function' && typeof value !== 'object') { return false; }
		if (typeof value === 'function' && !value.prototype) { return true; }
		if (hasToStringTag$2) { return tryFunctionObject(value); }
		if (isES6ClassFn(value)) { return false; }
		var strClass = toStr$4.call(value);
		return strClass === fnClass || strClass === genClass;
	};

var isCallable = isCallable$1;

var toStr$3 = Object.prototype.toString;
var hasOwnProperty$1 = Object.prototype.hasOwnProperty;

var forEachArray = function forEachArray(array, iterator, receiver) {
    for (var i = 0, len = array.length; i < len; i++) {
        if (hasOwnProperty$1.call(array, i)) {
            if (receiver == null) {
                iterator(array[i], i, array);
            } else {
                iterator.call(receiver, array[i], i, array);
            }
        }
    }
};

var forEachString = function forEachString(string, iterator, receiver) {
    for (var i = 0, len = string.length; i < len; i++) {
        // no such thing as a sparse string.
        if (receiver == null) {
            iterator(string.charAt(i), i, string);
        } else {
            iterator.call(receiver, string.charAt(i), i, string);
        }
    }
};

var forEachObject = function forEachObject(object, iterator, receiver) {
    for (var k in object) {
        if (hasOwnProperty$1.call(object, k)) {
            if (receiver == null) {
                iterator(object[k], k, object);
            } else {
                iterator.call(receiver, object[k], k, object);
            }
        }
    }
};

var forEach$2 = function forEach(list, iterator, thisArg) {
    if (!isCallable(iterator)) {
        throw new TypeError('iterator must be a function');
    }

    var receiver;
    if (arguments.length >= 3) {
        receiver = thisArg;
    }

    if (toStr$3.call(list) === '[object Array]') {
        forEachArray(list, iterator, receiver);
    } else if (typeof list === 'string') {
        forEachString(list, iterator, receiver);
    } else {
        forEachObject(list, iterator, receiver);
    }
};

var forEach_1 = forEach$2;

var possibleNames = [
	'BigInt64Array',
	'BigUint64Array',
	'Float32Array',
	'Float64Array',
	'Int16Array',
	'Int32Array',
	'Int8Array',
	'Uint16Array',
	'Uint32Array',
	'Uint8Array',
	'Uint8ClampedArray'
];

var g$5 = typeof globalThis === 'undefined' ? commonjsGlobal : globalThis;

var availableTypedArrays$2 = function availableTypedArrays() {
	var out = [];
	for (var i = 0; i < possibleNames.length; i++) {
		if (typeof g$5[possibleNames[i]] === 'function') {
			out[out.length] = possibleNames[i];
		}
	}
	return out;
};

var GetIntrinsic$1 = getIntrinsic;

var $gOPD = GetIntrinsic$1('%Object.getOwnPropertyDescriptor%', true);
if ($gOPD) {
	try {
		$gOPD([], 'length');
	} catch (e) {
		// IE 8 has a broken gOPD
		$gOPD = null;
	}
}

var getOwnPropertyDescriptor = $gOPD;

var forEach$1 = forEach_1;
var availableTypedArrays$1 = availableTypedArrays$2;
var callBound$1 = callBound$3;

var $toString$1 = callBound$1('Object.prototype.toString');
var hasToStringTag$1 = shams();

var g$4 = typeof globalThis === 'undefined' ? commonjsGlobal : globalThis;
var typedArrays$1 = availableTypedArrays$1();

var $indexOf = callBound$1('Array.prototype.indexOf', true) || function indexOf(array, value) {
	for (var i = 0; i < array.length; i += 1) {
		if (array[i] === value) {
			return i;
		}
	}
	return -1;
};
var $slice$1 = callBound$1('String.prototype.slice');
var toStrTags$1 = {};
var gOPD$1 = getOwnPropertyDescriptor;
var getPrototypeOf$1 = Object.getPrototypeOf; // require('getprototypeof');
if (hasToStringTag$1 && gOPD$1 && getPrototypeOf$1) {
	forEach$1(typedArrays$1, function (typedArray) {
		var arr = new g$4[typedArray]();
		if (Symbol.toStringTag in arr) {
			var proto = getPrototypeOf$1(arr);
			var descriptor = gOPD$1(proto, Symbol.toStringTag);
			if (!descriptor) {
				var superProto = getPrototypeOf$1(proto);
				descriptor = gOPD$1(superProto, Symbol.toStringTag);
			}
			toStrTags$1[typedArray] = descriptor.get;
		}
	});
}

var tryTypedArrays$1 = function tryAllTypedArrays(value) {
	var anyTrue = false;
	forEach$1(toStrTags$1, function (getter, typedArray) {
		if (!anyTrue) {
			try {
				anyTrue = getter.call(value) === typedArray;
			} catch (e) { /**/ }
		}
	});
	return anyTrue;
};

var isTypedArray$1 = function isTypedArray(value) {
	if (!value || typeof value !== 'object') { return false; }
	if (!hasToStringTag$1 || !(Symbol.toStringTag in value)) {
		var tag = $slice$1($toString$1(value), 8, -1);
		return $indexOf(typedArrays$1, tag) > -1;
	}
	if (!gOPD$1) { return false; }
	return tryTypedArrays$1(value);
};

var forEach = forEach_1;
var availableTypedArrays = availableTypedArrays$2;
var callBound = callBound$3;

var $toString = callBound('Object.prototype.toString');
var hasToStringTag = shams();

var g$3 = typeof globalThis === 'undefined' ? commonjsGlobal : globalThis;
var typedArrays = availableTypedArrays();

var $slice = callBound('String.prototype.slice');
var toStrTags = {};
var gOPD = getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf; // require('getprototypeof');
if (hasToStringTag && gOPD && getPrototypeOf) {
	forEach(typedArrays, function (typedArray) {
		if (typeof g$3[typedArray] === 'function') {
			var arr = new g$3[typedArray]();
			if (Symbol.toStringTag in arr) {
				var proto = getPrototypeOf(arr);
				var descriptor = gOPD(proto, Symbol.toStringTag);
				if (!descriptor) {
					var superProto = getPrototypeOf(proto);
					descriptor = gOPD(superProto, Symbol.toStringTag);
				}
				toStrTags[typedArray] = descriptor.get;
			}
		}
	});
}

var tryTypedArrays = function tryAllTypedArrays(value) {
	var foundName = false;
	forEach(toStrTags, function (getter, typedArray) {
		if (!foundName) {
			try {
				var name = getter.call(value);
				if (name === typedArray) {
					foundName = name;
				}
			} catch (e) {}
		}
	});
	return foundName;
};

var isTypedArray = isTypedArray$1;

var whichTypedArray = function whichTypedArray(value) {
	if (!isTypedArray(value)) { return false; }
	if (!hasToStringTag || !(Symbol.toStringTag in value)) { return $slice($toString(value), 8, -1); }
	return tryTypedArrays(value);
};

(function (exports) {

var isArgumentsObject = isArguments$1;
var isGeneratorFunction$1 = isGeneratorFunction;
var whichTypedArray$1 = whichTypedArray;
var isTypedArray = isTypedArray$1;

function uncurryThis(f) {
  return f.call.bind(f);
}

var BigIntSupported = typeof BigInt !== 'undefined';
var SymbolSupported = typeof Symbol !== 'undefined';

var ObjectToString = uncurryThis(Object.prototype.toString);

var numberValue = uncurryThis(Number.prototype.valueOf);
var stringValue = uncurryThis(String.prototype.valueOf);
var booleanValue = uncurryThis(Boolean.prototype.valueOf);

if (BigIntSupported) {
  var bigIntValue = uncurryThis(BigInt.prototype.valueOf);
}

if (SymbolSupported) {
  var symbolValue = uncurryThis(Symbol.prototype.valueOf);
}

function checkBoxedPrimitive(value, prototypeValueOf) {
  if (typeof value !== 'object') {
    return false;
  }
  try {
    prototypeValueOf(value);
    return true;
  } catch(e) {
    return false;
  }
}

exports.isArgumentsObject = isArgumentsObject;
exports.isGeneratorFunction = isGeneratorFunction$1;
exports.isTypedArray = isTypedArray;

// Taken from here and modified for better browser support
// https://github.com/sindresorhus/p-is-promise/blob/cda35a513bda03f977ad5cde3a079d237e82d7ef/index.js
function isPromise(input) {
	return (
		(
			typeof Promise !== 'undefined' &&
			input instanceof Promise
		) ||
		(
			input !== null &&
			typeof input === 'object' &&
			typeof input.then === 'function' &&
			typeof input.catch === 'function'
		)
	);
}
exports.isPromise = isPromise;

function isArrayBufferView(value) {
  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {
    return ArrayBuffer.isView(value);
  }

  return (
    isTypedArray(value) ||
    isDataView(value)
  );
}
exports.isArrayBufferView = isArrayBufferView;


function isUint8Array(value) {
  return whichTypedArray$1(value) === 'Uint8Array';
}
exports.isUint8Array = isUint8Array;

function isUint8ClampedArray(value) {
  return whichTypedArray$1(value) === 'Uint8ClampedArray';
}
exports.isUint8ClampedArray = isUint8ClampedArray;

function isUint16Array(value) {
  return whichTypedArray$1(value) === 'Uint16Array';
}
exports.isUint16Array = isUint16Array;

function isUint32Array(value) {
  return whichTypedArray$1(value) === 'Uint32Array';
}
exports.isUint32Array = isUint32Array;

function isInt8Array(value) {
  return whichTypedArray$1(value) === 'Int8Array';
}
exports.isInt8Array = isInt8Array;

function isInt16Array(value) {
  return whichTypedArray$1(value) === 'Int16Array';
}
exports.isInt16Array = isInt16Array;

function isInt32Array(value) {
  return whichTypedArray$1(value) === 'Int32Array';
}
exports.isInt32Array = isInt32Array;

function isFloat32Array(value) {
  return whichTypedArray$1(value) === 'Float32Array';
}
exports.isFloat32Array = isFloat32Array;

function isFloat64Array(value) {
  return whichTypedArray$1(value) === 'Float64Array';
}
exports.isFloat64Array = isFloat64Array;

function isBigInt64Array(value) {
  return whichTypedArray$1(value) === 'BigInt64Array';
}
exports.isBigInt64Array = isBigInt64Array;

function isBigUint64Array(value) {
  return whichTypedArray$1(value) === 'BigUint64Array';
}
exports.isBigUint64Array = isBigUint64Array;

function isMapToString(value) {
  return ObjectToString(value) === '[object Map]';
}
isMapToString.working = (
  typeof Map !== 'undefined' &&
  isMapToString(new Map())
);

function isMap(value) {
  if (typeof Map === 'undefined') {
    return false;
  }

  return isMapToString.working
    ? isMapToString(value)
    : value instanceof Map;
}
exports.isMap = isMap;

function isSetToString(value) {
  return ObjectToString(value) === '[object Set]';
}
isSetToString.working = (
  typeof Set !== 'undefined' &&
  isSetToString(new Set())
);
function isSet(value) {
  if (typeof Set === 'undefined') {
    return false;
  }

  return isSetToString.working
    ? isSetToString(value)
    : value instanceof Set;
}
exports.isSet = isSet;

function isWeakMapToString(value) {
  return ObjectToString(value) === '[object WeakMap]';
}
isWeakMapToString.working = (
  typeof WeakMap !== 'undefined' &&
  isWeakMapToString(new WeakMap())
);
function isWeakMap(value) {
  if (typeof WeakMap === 'undefined') {
    return false;
  }

  return isWeakMapToString.working
    ? isWeakMapToString(value)
    : value instanceof WeakMap;
}
exports.isWeakMap = isWeakMap;

function isWeakSetToString(value) {
  return ObjectToString(value) === '[object WeakSet]';
}
isWeakSetToString.working = (
  typeof WeakSet !== 'undefined' &&
  isWeakSetToString(new WeakSet())
);
function isWeakSet(value) {
  return isWeakSetToString(value);
}
exports.isWeakSet = isWeakSet;

function isArrayBufferToString(value) {
  return ObjectToString(value) === '[object ArrayBuffer]';
}
isArrayBufferToString.working = (
  typeof ArrayBuffer !== 'undefined' &&
  isArrayBufferToString(new ArrayBuffer())
);
function isArrayBuffer(value) {
  if (typeof ArrayBuffer === 'undefined') {
    return false;
  }

  return isArrayBufferToString.working
    ? isArrayBufferToString(value)
    : value instanceof ArrayBuffer;
}
exports.isArrayBuffer = isArrayBuffer;

function isDataViewToString(value) {
  return ObjectToString(value) === '[object DataView]';
}
isDataViewToString.working = (
  typeof ArrayBuffer !== 'undefined' &&
  typeof DataView !== 'undefined' &&
  isDataViewToString(new DataView(new ArrayBuffer(1), 0, 1))
);
function isDataView(value) {
  if (typeof DataView === 'undefined') {
    return false;
  }

  return isDataViewToString.working
    ? isDataViewToString(value)
    : value instanceof DataView;
}
exports.isDataView = isDataView;

// Store a copy of SharedArrayBuffer in case it's deleted elsewhere
var SharedArrayBufferCopy = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : undefined;
function isSharedArrayBufferToString(value) {
  return ObjectToString(value) === '[object SharedArrayBuffer]';
}
function isSharedArrayBuffer(value) {
  if (typeof SharedArrayBufferCopy === 'undefined') {
    return false;
  }

  if (typeof isSharedArrayBufferToString.working === 'undefined') {
    isSharedArrayBufferToString.working = isSharedArrayBufferToString(new SharedArrayBufferCopy());
  }

  return isSharedArrayBufferToString.working
    ? isSharedArrayBufferToString(value)
    : value instanceof SharedArrayBufferCopy;
}
exports.isSharedArrayBuffer = isSharedArrayBuffer;

function isAsyncFunction(value) {
  return ObjectToString(value) === '[object AsyncFunction]';
}
exports.isAsyncFunction = isAsyncFunction;

function isMapIterator(value) {
  return ObjectToString(value) === '[object Map Iterator]';
}
exports.isMapIterator = isMapIterator;

function isSetIterator(value) {
  return ObjectToString(value) === '[object Set Iterator]';
}
exports.isSetIterator = isSetIterator;

function isGeneratorObject(value) {
  return ObjectToString(value) === '[object Generator]';
}
exports.isGeneratorObject = isGeneratorObject;

function isWebAssemblyCompiledModule(value) {
  return ObjectToString(value) === '[object WebAssembly.Module]';
}
exports.isWebAssemblyCompiledModule = isWebAssemblyCompiledModule;

function isNumberObject(value) {
  return checkBoxedPrimitive(value, numberValue);
}
exports.isNumberObject = isNumberObject;

function isStringObject(value) {
  return checkBoxedPrimitive(value, stringValue);
}
exports.isStringObject = isStringObject;

function isBooleanObject(value) {
  return checkBoxedPrimitive(value, booleanValue);
}
exports.isBooleanObject = isBooleanObject;

function isBigIntObject(value) {
  return BigIntSupported && checkBoxedPrimitive(value, bigIntValue);
}
exports.isBigIntObject = isBigIntObject;

function isSymbolObject(value) {
  return SymbolSupported && checkBoxedPrimitive(value, symbolValue);
}
exports.isSymbolObject = isSymbolObject;

function isBoxedPrimitive(value) {
  return (
    isNumberObject(value) ||
    isStringObject(value) ||
    isBooleanObject(value) ||
    isBigIntObject(value) ||
    isSymbolObject(value)
  );
}
exports.isBoxedPrimitive = isBoxedPrimitive;

function isAnyArrayBuffer(value) {
  return typeof Uint8Array !== 'undefined' && (
    isArrayBuffer(value) ||
    isSharedArrayBuffer(value)
  );
}
exports.isAnyArrayBuffer = isAnyArrayBuffer;

['isProxy', 'isExternal', 'isModuleNamespaceObject'].forEach(function(method) {
  Object.defineProperty(exports, method, {
    enumerable: false,
    value: function() {
      throw new Error(method + ' is not supported in userland');
    }
  });
});
}(types));

var isBuffer = function isBuffer(arg) {
  return arg instanceof Buffer;
};

var inherits = {exports: {}};

var inherits_browser = {exports: {}};

if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  inherits_browser.exports = function inherits(ctor, superCtor) {
    if (superCtor) {
      ctor.super_ = superCtor;
      ctor.prototype = Object.create(superCtor.prototype, {
        constructor: {
          value: ctor,
          enumerable: false,
          writable: true,
          configurable: true
        }
      });
    }
  };
} else {
  // old school shim for old browsers
  inherits_browser.exports = function inherits(ctor, superCtor) {
    if (superCtor) {
      ctor.super_ = superCtor;
      var TempCtor = function () {};
      TempCtor.prototype = superCtor.prototype;
      ctor.prototype = new TempCtor();
      ctor.prototype.constructor = ctor;
    }
  };
}

try {
  var util$1 = require('util');
  /* istanbul ignore next */
  if (typeof util$1.inherits !== 'function') throw '';
  inherits.exports = util$1.inherits;
} catch (e) {
  /* istanbul ignore next */
  inherits.exports = inherits_browser.exports;
}

(function (exports) {
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||
  function getOwnPropertyDescriptors(obj) {
    var keys = Object.keys(obj);
    var descriptors = {};
    for (var i = 0; i < keys.length; i++) {
      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);
    }
    return descriptors;
  };

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  if (typeof process !== 'undefined' && process.noDeprecation === true) {
    return fn;
  }

  // Allow for deprecating things in the process of starting up.
  if (typeof process === 'undefined') {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnvRegex = /^$/;

if (process.env.NODE_DEBUG) {
  var debugEnv = process.env.NODE_DEBUG;
  debugEnv = debugEnv.replace(/[|\\{}()[\]^$+?.]/g, '\\$&')
    .replace(/\*/g, '.*')
    .replace(/,/g, '$|^')
    .toUpperCase();
  debugEnvRegex = new RegExp('^' + debugEnv + '$', 'i');
}
exports.debuglog = function(set) {
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (debugEnvRegex.test(set)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var length = output.reduce(function(prev, cur) {
    if (cur.indexOf('\n') >= 0) ;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
exports.types = types;

function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;
exports.types.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;
exports.types.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;
exports.types.isNativeError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = isBuffer;

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = inherits.exports;

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

var kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;

exports.promisify = function promisify(original) {
  if (typeof original !== 'function')
    throw new TypeError('The "original" argument must be of type Function');

  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {
    var fn = original[kCustomPromisifiedSymbol];
    if (typeof fn !== 'function') {
      throw new TypeError('The "util.promisify.custom" argument must be of type Function');
    }
    Object.defineProperty(fn, kCustomPromisifiedSymbol, {
      value: fn, enumerable: false, writable: false, configurable: true
    });
    return fn;
  }

  function fn() {
    var promiseResolve, promiseReject;
    var promise = new Promise(function (resolve, reject) {
      promiseResolve = resolve;
      promiseReject = reject;
    });

    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }
    args.push(function (err, value) {
      if (err) {
        promiseReject(err);
      } else {
        promiseResolve(value);
      }
    });

    try {
      original.apply(this, args);
    } catch (err) {
      promiseReject(err);
    }

    return promise;
  }

  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));

  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {
    value: fn, enumerable: false, writable: false, configurable: true
  });
  return Object.defineProperties(
    fn,
    getOwnPropertyDescriptors(original)
  );
};

exports.promisify.custom = kCustomPromisifiedSymbol;

function callbackifyOnRejected(reason, cb) {
  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).
  // Because `null` is a special error value in callbacks which means "no error
  // occurred", we error-wrap so the callback consumer can distinguish between
  // "the promise rejected with null" or "the promise fulfilled with undefined".
  if (!reason) {
    var newReason = new Error('Promise was rejected with a falsy value');
    newReason.reason = reason;
    reason = newReason;
  }
  return cb(reason);
}

function callbackify(original) {
  if (typeof original !== 'function') {
    throw new TypeError('The "original" argument must be of type Function');
  }

  // We DO NOT return the promise as it gives the user a false sense that
  // the promise is actually somehow related to the callback's execution
  // and that the callback throwing will reject the promise.
  function callbackified() {
    var args = [];
    for (var i = 0; i < arguments.length; i++) {
      args.push(arguments[i]);
    }

    var maybeCb = args.pop();
    if (typeof maybeCb !== 'function') {
      throw new TypeError('The last argument must be of type Function');
    }
    var self = this;
    var cb = function() {
      return maybeCb.apply(self, arguments);
    };
    // In true node style we process the callback on `nextTick` with all the
    // implications (stack, `uncaughtException`, `async_hooks`)
    original.apply(this, args)
      .then(function(ret) { process.nextTick(cb.bind(null, null, ret)); },
            function(rej) { process.nextTick(callbackifyOnRejected.bind(null, rej, cb)); });
  }

  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));
  Object.defineProperties(callbackified,
                          getOwnPropertyDescriptors(original));
  return callbackified;
}
exports.callbackify = callbackify;
}(util$2));

var assert$2 = {exports: {}};

var errors = {};

// longer be forced to treat every error message change as a semver-major
// change. The NodeError classes here all expose a `code` property whose
// value statically and permanently identifies the error. While the error
// message may change, the code should not.

function _typeof$3(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof$3(obj); }

function _classCallCheck$2(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn$1(self, call) { if (call && (_typeof$3(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized$1(self); }

function _assertThisInitialized$1(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf$1(o) { _getPrototypeOf$1 = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf$1(o); }

function _inherits$1(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf$1(subClass, superClass); }

function _setPrototypeOf$1(o, p) { _setPrototypeOf$1 = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf$1(o, p); }

var codes = {}; // Lazy loaded

var assert$1;
var util;

function createErrorType(code, message, Base) {
  if (!Base) {
    Base = Error;
  }

  function getMessage(arg1, arg2, arg3) {
    if (typeof message === 'string') {
      return message;
    } else {
      return message(arg1, arg2, arg3);
    }
  }

  var NodeError =
  /*#__PURE__*/
  function (_Base) {
    _inherits$1(NodeError, _Base);

    function NodeError(arg1, arg2, arg3) {
      var _this;

      _classCallCheck$2(this, NodeError);

      _this = _possibleConstructorReturn$1(this, _getPrototypeOf$1(NodeError).call(this, getMessage(arg1, arg2, arg3)));
      _this.code = code;
      return _this;
    }

    return NodeError;
  }(Base);

  codes[code] = NodeError;
} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js


function oneOf(expected, thing) {
  if (Array.isArray(expected)) {
    var len = expected.length;
    expected = expected.map(function (i) {
      return String(i);
    });

    if (len > 2) {
      return "one of ".concat(thing, " ").concat(expected.slice(0, len - 1).join(', '), ", or ") + expected[len - 1];
    } else if (len === 2) {
      return "one of ".concat(thing, " ").concat(expected[0], " or ").concat(expected[1]);
    } else {
      return "of ".concat(thing, " ").concat(expected[0]);
    }
  } else {
    return "of ".concat(thing, " ").concat(String(expected));
  }
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith


function startsWith(str, search, pos) {
  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith


function endsWith$1(str, search, this_len) {
  if (this_len === undefined || this_len > str.length) {
    this_len = str.length;
  }

  return str.substring(this_len - search.length, this_len) === search;
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes


function includes(str, search, start) {
  if (typeof start !== 'number') {
    start = 0;
  }

  if (start + search.length > str.length) {
    return false;
  } else {
    return str.indexOf(search, start) !== -1;
  }
}

createErrorType('ERR_AMBIGUOUS_ARGUMENT', 'The "%s" argument is ambiguous. %s', TypeError);
createErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {
  if (assert$1 === undefined) assert$1 = assert$2.exports;
  assert$1(typeof name === 'string', "'name' must be a string"); // determiner: 'must be' or 'must not be'

  var determiner;

  if (typeof expected === 'string' && startsWith(expected, 'not ')) {
    determiner = 'must not be';
    expected = expected.replace(/^not /, '');
  } else {
    determiner = 'must be';
  }

  var msg;

  if (endsWith$1(name, ' argument')) {
    // For cases like 'first argument'
    msg = "The ".concat(name, " ").concat(determiner, " ").concat(oneOf(expected, 'type'));
  } else {
    var type = includes(name, '.') ? 'property' : 'argument';
    msg = "The \"".concat(name, "\" ").concat(type, " ").concat(determiner, " ").concat(oneOf(expected, 'type'));
  } // TODO(BridgeAR): Improve the output by showing `null` and similar.


  msg += ". Received type ".concat(_typeof$3(actual));
  return msg;
}, TypeError);
createErrorType('ERR_INVALID_ARG_VALUE', function (name, value) {
  var reason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'is invalid';
  if (util === undefined) util = util$2;
  var inspected = util.inspect(value);

  if (inspected.length > 128) {
    inspected = "".concat(inspected.slice(0, 128), "...");
  }

  return "The argument '".concat(name, "' ").concat(reason, ". Received ").concat(inspected);
}, TypeError);
createErrorType('ERR_INVALID_RETURN_VALUE', function (input, name, value) {
  var type;

  if (value && value.constructor && value.constructor.name) {
    type = "instance of ".concat(value.constructor.name);
  } else {
    type = "type ".concat(_typeof$3(value));
  }

  return "Expected ".concat(input, " to be returned from the \"").concat(name, "\"") + " function but got ".concat(type, ".");
}, TypeError);
createErrorType('ERR_MISSING_ARGS', function () {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (assert$1 === undefined) assert$1 = assert$2.exports;
  assert$1(args.length > 0, 'At least one arg needs to be specified');
  var msg = 'The ';
  var len = args.length;
  args = args.map(function (a) {
    return "\"".concat(a, "\"");
  });

  switch (len) {
    case 1:
      msg += "".concat(args[0], " argument");
      break;

    case 2:
      msg += "".concat(args[0], " and ").concat(args[1], " arguments");
      break;

    default:
      msg += args.slice(0, len - 1).join(', ');
      msg += ", and ".concat(args[len - 1], " arguments");
      break;
  }

  return "".concat(msg, " must be specified");
}, TypeError);
errors.codes = codes;

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck$1(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof$2(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _typeof$2(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof$2(obj); }

var _require$1 = util$2,
    inspect$1 = _require$1.inspect;

var _require2$1 = errors,
    ERR_INVALID_ARG_TYPE$1 = _require2$1.codes.ERR_INVALID_ARG_TYPE; // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith


function endsWith(str, search, this_len) {
  if (this_len === undefined || this_len > str.length) {
    this_len = str.length;
  }

  return str.substring(this_len - search.length, this_len) === search;
} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/repeat


function repeat(str, count) {
  count = Math.floor(count);
  if (str.length == 0 || count == 0) return '';
  var maxCount = str.length * count;
  count = Math.floor(Math.log(count) / Math.log(2));

  while (count) {
    str += str;
    count--;
  }

  str += str.substring(0, maxCount - str.length);
  return str;
}

var blue = '';
var green = '';
var red = '';
var white = '';
var kReadableOperator = {
  deepStrictEqual: 'Expected values to be strictly deep-equal:',
  strictEqual: 'Expected values to be strictly equal:',
  strictEqualObject: 'Expected "actual" to be reference-equal to "expected":',
  deepEqual: 'Expected values to be loosely deep-equal:',
  equal: 'Expected values to be loosely equal:',
  notDeepStrictEqual: 'Expected "actual" not to be strictly deep-equal to:',
  notStrictEqual: 'Expected "actual" to be strictly unequal to:',
  notStrictEqualObject: 'Expected "actual" not to be reference-equal to "expected":',
  notDeepEqual: 'Expected "actual" not to be loosely deep-equal to:',
  notEqual: 'Expected "actual" to be loosely unequal to:',
  notIdentical: 'Values identical but not reference-equal:'
}; // Comparing short primitives should just show === / !== instead of using the
// diff.

var kMaxShortLength = 10;

function copyError(source) {
  var keys = Object.keys(source);
  var target = Object.create(Object.getPrototypeOf(source));
  keys.forEach(function (key) {
    target[key] = source[key];
  });
  Object.defineProperty(target, 'message', {
    value: source.message
  });
  return target;
}

function inspectValue(val) {
  // The util.inspect default values could be changed. This makes sure the
  // error messages contain the necessary information nevertheless.
  return inspect$1(val, {
    compact: false,
    customInspect: false,
    depth: 1000,
    maxArrayLength: Infinity,
    // Assert compares only enumerable properties (with a few exceptions).
    showHidden: false,
    // Having a long line as error is better than wrapping the line for
    // comparison for now.
    // TODO(BridgeAR): `breakLength` should be limited as soon as soon as we
    // have meta information about the inspected properties (i.e., know where
    // in what line the property starts and ends).
    breakLength: Infinity,
    // Assert does not detect proxies currently.
    showProxy: false,
    sorted: true,
    // Inspect getters as we also check them when comparing entries.
    getters: true
  });
}

function createErrDiff(actual, expected, operator) {
  var other = '';
  var res = '';
  var lastPos = 0;
  var end = '';
  var skipped = false;
  var actualInspected = inspectValue(actual);
  var actualLines = actualInspected.split('\n');
  var expectedLines = inspectValue(expected).split('\n');
  var i = 0;
  var indicator = ''; // In case both values are objects explicitly mark them as not reference equal
  // for the `strictEqual` operator.

  if (operator === 'strictEqual' && _typeof$2(actual) === 'object' && _typeof$2(expected) === 'object' && actual !== null && expected !== null) {
    operator = 'strictEqualObject';
  } // If "actual" and "expected" fit on a single line and they are not strictly
  // equal, check further special handling.


  if (actualLines.length === 1 && expectedLines.length === 1 && actualLines[0] !== expectedLines[0]) {
    var inputLength = actualLines[0].length + expectedLines[0].length; // If the character length of "actual" and "expected" together is less than
    // kMaxShortLength and if neither is an object and at least one of them is
    // not `zero`, use the strict equal comparison to visualize the output.

    if (inputLength <= kMaxShortLength) {
      if ((_typeof$2(actual) !== 'object' || actual === null) && (_typeof$2(expected) !== 'object' || expected === null) && (actual !== 0 || expected !== 0)) {
        // -0 === +0
        return "".concat(kReadableOperator[operator], "\n\n") + "".concat(actualLines[0], " !== ").concat(expectedLines[0], "\n");
      }
    } else if (operator !== 'strictEqualObject') {
      // If the stderr is a tty and the input length is lower than the current
      // columns per line, add a mismatch indicator below the output. If it is
      // not a tty, use a default value of 80 characters.
      var maxLength = process.stderr && process.stderr.isTTY ? process.stderr.columns : 80;

      if (inputLength < maxLength) {
        while (actualLines[0][i] === expectedLines[0][i]) {
          i++;
        } // Ignore the first characters.


        if (i > 2) {
          // Add position indicator for the first mismatch in case it is a
          // single line and the input length is less than the column length.
          indicator = "\n  ".concat(repeat(' ', i), "^");
          i = 0;
        }
      }
    }
  } // Remove all ending lines that match (this optimizes the output for
  // readability by reducing the number of total changed lines).


  var a = actualLines[actualLines.length - 1];
  var b = expectedLines[expectedLines.length - 1];

  while (a === b) {
    if (i++ < 2) {
      end = "\n  ".concat(a).concat(end);
    } else {
      other = a;
    }

    actualLines.pop();
    expectedLines.pop();
    if (actualLines.length === 0 || expectedLines.length === 0) break;
    a = actualLines[actualLines.length - 1];
    b = expectedLines[expectedLines.length - 1];
  }

  var maxLines = Math.max(actualLines.length, expectedLines.length); // Strict equal with identical objects that are not identical by reference.
  // E.g., assert.deepStrictEqual({ a: Symbol() }, { a: Symbol() })

  if (maxLines === 0) {
    // We have to get the result again. The lines were all removed before.
    var _actualLines = actualInspected.split('\n'); // Only remove lines in case it makes sense to collapse those.
    // TODO: Accept env to always show the full error.


    if (_actualLines.length > 30) {
      _actualLines[26] = "".concat(blue, "...").concat(white);

      while (_actualLines.length > 27) {
        _actualLines.pop();
      }
    }

    return "".concat(kReadableOperator.notIdentical, "\n\n").concat(_actualLines.join('\n'), "\n");
  }

  if (i > 3) {
    end = "\n".concat(blue, "...").concat(white).concat(end);
    skipped = true;
  }

  if (other !== '') {
    end = "\n  ".concat(other).concat(end);
    other = '';
  }

  var printedLines = 0;
  var msg = kReadableOperator[operator] + "\n".concat(green, "+ actual").concat(white, " ").concat(red, "- expected").concat(white);
  var skippedMsg = " ".concat(blue, "...").concat(white, " Lines skipped");

  for (i = 0; i < maxLines; i++) {
    // Only extra expected lines exist
    var cur = i - lastPos;

    if (actualLines.length < i + 1) {
      // If the last diverging line is more than one line above and the
      // current line is at least line three, add some of the former lines and
      // also add dots to indicate skipped entries.
      if (cur > 1 && i > 2) {
        if (cur > 4) {
          res += "\n".concat(blue, "...").concat(white);
          skipped = true;
        } else if (cur > 3) {
          res += "\n  ".concat(expectedLines[i - 2]);
          printedLines++;
        }

        res += "\n  ".concat(expectedLines[i - 1]);
        printedLines++;
      } // Mark the current line as the last diverging one.


      lastPos = i; // Add the expected line to the cache.

      other += "\n".concat(red, "-").concat(white, " ").concat(expectedLines[i]);
      printedLines++; // Only extra actual lines exist
    } else if (expectedLines.length < i + 1) {
      // If the last diverging line is more than one line above and the
      // current line is at least line three, add some of the former lines and
      // also add dots to indicate skipped entries.
      if (cur > 1 && i > 2) {
        if (cur > 4) {
          res += "\n".concat(blue, "...").concat(white);
          skipped = true;
        } else if (cur > 3) {
          res += "\n  ".concat(actualLines[i - 2]);
          printedLines++;
        }

        res += "\n  ".concat(actualLines[i - 1]);
        printedLines++;
      } // Mark the current line as the last diverging one.


      lastPos = i; // Add the actual line to the result.

      res += "\n".concat(green, "+").concat(white, " ").concat(actualLines[i]);
      printedLines++; // Lines diverge
    } else {
      var expectedLine = expectedLines[i];
      var actualLine = actualLines[i]; // If the lines diverge, specifically check for lines that only diverge by
      // a trailing comma. In that case it is actually identical and we should
      // mark it as such.

      var divergingLines = actualLine !== expectedLine && (!endsWith(actualLine, ',') || actualLine.slice(0, -1) !== expectedLine); // If the expected line has a trailing comma but is otherwise identical,
      // add a comma at the end of the actual line. Otherwise the output could
      // look weird as in:
      //
      //   [
      //     1         // No comma at the end!
      // +   2
      //   ]
      //

      if (divergingLines && endsWith(expectedLine, ',') && expectedLine.slice(0, -1) === actualLine) {
        divergingLines = false;
        actualLine += ',';
      }

      if (divergingLines) {
        // If the last diverging line is more than one line above and the
        // current line is at least line three, add some of the former lines and
        // also add dots to indicate skipped entries.
        if (cur > 1 && i > 2) {
          if (cur > 4) {
            res += "\n".concat(blue, "...").concat(white);
            skipped = true;
          } else if (cur > 3) {
            res += "\n  ".concat(actualLines[i - 2]);
            printedLines++;
          }

          res += "\n  ".concat(actualLines[i - 1]);
          printedLines++;
        } // Mark the current line as the last diverging one.


        lastPos = i; // Add the actual line to the result and cache the expected diverging
        // line so consecutive diverging lines show up as +++--- and not +-+-+-.

        res += "\n".concat(green, "+").concat(white, " ").concat(actualLine);
        other += "\n".concat(red, "-").concat(white, " ").concat(expectedLine);
        printedLines += 2; // Lines are identical
      } else {
        // Add all cached information to the result before adding other things
        // and reset the cache.
        res += other;
        other = ''; // If the last diverging line is exactly one line above or if it is the
        // very first line, add the line to the result.

        if (cur === 1 || i === 0) {
          res += "\n  ".concat(actualLine);
          printedLines++;
        }
      }
    } // Inspected object to big (Show ~20 rows max)


    if (printedLines > 20 && i < maxLines - 2) {
      return "".concat(msg).concat(skippedMsg, "\n").concat(res, "\n").concat(blue, "...").concat(white).concat(other, "\n") + "".concat(blue, "...").concat(white);
    }
  }

  return "".concat(msg).concat(skipped ? skippedMsg : '', "\n").concat(res).concat(other).concat(end).concat(indicator);
}

var AssertionError$1 =
/*#__PURE__*/
function (_Error) {
  _inherits(AssertionError, _Error);

  function AssertionError(options) {
    var _this;

    _classCallCheck$1(this, AssertionError);

    if (_typeof$2(options) !== 'object' || options === null) {
      throw new ERR_INVALID_ARG_TYPE$1('options', 'Object', options);
    }

    var message = options.message,
        operator = options.operator,
        stackStartFn = options.stackStartFn;
    var actual = options.actual,
        expected = options.expected;
    var limit = Error.stackTraceLimit;
    Error.stackTraceLimit = 0;

    if (message != null) {
      _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, String(message)));
    } else {
      if (process.stderr && process.stderr.isTTY) {
        // Reset on each call to make sure we handle dynamically set environment
        // variables correct.
        if (process.stderr && process.stderr.getColorDepth && process.stderr.getColorDepth() !== 1) {
          blue = "\x1B[34m";
          green = "\x1B[32m";
          white = "\x1B[39m";
          red = "\x1B[31m";
        } else {
          blue = '';
          green = '';
          white = '';
          red = '';
        }
      } // Prevent the error stack from being visible by duplicating the error
      // in a very close way to the original in case both sides are actually
      // instances of Error.


      if (_typeof$2(actual) === 'object' && actual !== null && _typeof$2(expected) === 'object' && expected !== null && 'stack' in actual && actual instanceof Error && 'stack' in expected && expected instanceof Error) {
        actual = copyError(actual);
        expected = copyError(expected);
      }

      if (operator === 'deepStrictEqual' || operator === 'strictEqual') {
        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, createErrDiff(actual, expected, operator)));
      } else if (operator === 'notDeepStrictEqual' || operator === 'notStrictEqual') {
        // In case the objects are equal but the operator requires unequal, show
        // the first object and say A equals B
        var base = kReadableOperator[operator];
        var res = inspectValue(actual).split('\n'); // In case "actual" is an object, it should not be reference equal.

        if (operator === 'notStrictEqual' && _typeof$2(actual) === 'object' && actual !== null) {
          base = kReadableOperator.notStrictEqualObject;
        } // Only remove lines in case it makes sense to collapse those.
        // TODO: Accept env to always show the full error.


        if (res.length > 30) {
          res[26] = "".concat(blue, "...").concat(white);

          while (res.length > 27) {
            res.pop();
          }
        } // Only print a single input.


        if (res.length === 1) {
          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, "".concat(base, " ").concat(res[0])));
        } else {
          _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, "".concat(base, "\n\n").concat(res.join('\n'), "\n")));
        }
      } else {
        var _res = inspectValue(actual);

        var other = '';
        var knownOperators = kReadableOperator[operator];

        if (operator === 'notDeepEqual' || operator === 'notEqual') {
          _res = "".concat(kReadableOperator[operator], "\n\n").concat(_res);

          if (_res.length > 1024) {
            _res = "".concat(_res.slice(0, 1021), "...");
          }
        } else {
          other = "".concat(inspectValue(expected));

          if (_res.length > 512) {
            _res = "".concat(_res.slice(0, 509), "...");
          }

          if (other.length > 512) {
            other = "".concat(other.slice(0, 509), "...");
          }

          if (operator === 'deepEqual' || operator === 'equal') {
            _res = "".concat(knownOperators, "\n\n").concat(_res, "\n\nshould equal\n\n");
          } else {
            other = " ".concat(operator, " ").concat(other);
          }
        }

        _this = _possibleConstructorReturn(this, _getPrototypeOf(AssertionError).call(this, "".concat(_res).concat(other)));
      }
    }

    Error.stackTraceLimit = limit;
    _this.generatedMessage = !message;
    Object.defineProperty(_assertThisInitialized(_this), 'name', {
      value: 'AssertionError [ERR_ASSERTION]',
      enumerable: false,
      writable: true,
      configurable: true
    });
    _this.code = 'ERR_ASSERTION';
    _this.actual = actual;
    _this.expected = expected;
    _this.operator = operator;

    if (Error.captureStackTrace) {
      // eslint-disable-next-line no-restricted-syntax
      Error.captureStackTrace(_assertThisInitialized(_this), stackStartFn);
    } // Create error message including the error code in the name.


    _this.stack; // Reset the name.

    _this.name = 'AssertionError';
    return _possibleConstructorReturn(_this);
  }

  _createClass(AssertionError, [{
    key: "toString",
    value: function toString() {
      return "".concat(this.name, " [").concat(this.code, "]: ").concat(this.message);
    }
  }, {
    key: inspect$1.custom,
    value: function value(recurseTimes, ctx) {
      // This limits the `actual` and `expected` property default inspection to
      // the minimum depth. Otherwise those values would be too verbose compared
      // to the actual error message which contains a combined view of these two
      // input values.
      return inspect$1(this, _objectSpread({}, ctx, {
        customInspect: false,
        depth: 0
      }));
    }
  }]);

  return AssertionError;
}(_wrapNativeSuper(Error));

var assertion_error = AssertionError$1;

/**
 * Code refactored from Mozilla Developer Network:
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign
 */

function assign(target, firstSource) {
  if (target === undefined || target === null) {
    throw new TypeError('Cannot convert first argument to object');
  }

  var to = Object(target);
  for (var i = 1; i < arguments.length; i++) {
    var nextSource = arguments[i];
    if (nextSource === undefined || nextSource === null) {
      continue;
    }

    var keysArray = Object.keys(Object(nextSource));
    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {
      var nextKey = keysArray[nextIndex];
      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);
      if (desc !== undefined && desc.enumerable) {
        to[nextKey] = nextSource[nextKey];
      }
    }
  }
  return to;
}

function polyfill$4() {
  if (!Object.assign) {
    Object.defineProperty(Object, 'assign', {
      enumerable: false,
      configurable: true,
      writable: true,
      value: assign
    });
  }
}

var es6ObjectAssign = {
  assign: assign,
  polyfill: polyfill$4
};

var toStr$2 = Object.prototype.toString;

var isArguments = function isArguments(value) {
	var str = toStr$2.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr$2.call(value.callee) === '[object Function]';
	}
	return isArgs;
};

var keysShim$1;
if (!Object.keys) {
	// modified from https://github.com/es-shims/es5-shim
	var has = Object.prototype.hasOwnProperty;
	var toStr$1 = Object.prototype.toString;
	var isArgs$1 = isArguments; // eslint-disable-line global-require
	var isEnumerable = Object.prototype.propertyIsEnumerable;
	var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
	var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
	var dontEnums = [
		'toString',
		'toLocaleString',
		'valueOf',
		'hasOwnProperty',
		'isPrototypeOf',
		'propertyIsEnumerable',
		'constructor'
	];
	var equalsConstructorPrototype = function (o) {
		var ctor = o.constructor;
		return ctor && ctor.prototype === o;
	};
	var excludedKeys = {
		$applicationCache: true,
		$console: true,
		$external: true,
		$frame: true,
		$frameElement: true,
		$frames: true,
		$innerHeight: true,
		$innerWidth: true,
		$onmozfullscreenchange: true,
		$onmozfullscreenerror: true,
		$outerHeight: true,
		$outerWidth: true,
		$pageXOffset: true,
		$pageYOffset: true,
		$parent: true,
		$scrollLeft: true,
		$scrollTop: true,
		$scrollX: true,
		$scrollY: true,
		$self: true,
		$webkitIndexedDB: true,
		$webkitStorageInfo: true,
		$window: true
	};
	var hasAutomationEqualityBug = (function () {
		/* global window */
		if (typeof window === 'undefined') { return false; }
		for (var k in window) {
			try {
				if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
					try {
						equalsConstructorPrototype(window[k]);
					} catch (e) {
						return true;
					}
				}
			} catch (e) {
				return true;
			}
		}
		return false;
	}());
	var equalsConstructorPrototypeIfNotBuggy = function (o) {
		/* global window */
		if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
			return equalsConstructorPrototype(o);
		}
		try {
			return equalsConstructorPrototype(o);
		} catch (e) {
			return false;
		}
	};

	keysShim$1 = function keys(object) {
		var isObject = object !== null && typeof object === 'object';
		var isFunction = toStr$1.call(object) === '[object Function]';
		var isArguments = isArgs$1(object);
		var isString = isObject && toStr$1.call(object) === '[object String]';
		var theKeys = [];

		if (!isObject && !isFunction && !isArguments) {
			throw new TypeError('Object.keys called on a non-object');
		}

		var skipProto = hasProtoEnumBug && isFunction;
		if (isString && object.length > 0 && !has.call(object, 0)) {
			for (var i = 0; i < object.length; ++i) {
				theKeys.push(String(i));
			}
		}

		if (isArguments && object.length > 0) {
			for (var j = 0; j < object.length; ++j) {
				theKeys.push(String(j));
			}
		} else {
			for (var name in object) {
				if (!(skipProto && name === 'prototype') && has.call(object, name)) {
					theKeys.push(String(name));
				}
			}
		}

		if (hasDontEnumBug) {
			var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

			for (var k = 0; k < dontEnums.length; ++k) {
				if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
					theKeys.push(dontEnums[k]);
				}
			}
		}
		return theKeys;
	};
}
var implementation$6 = keysShim$1;

var slice = Array.prototype.slice;
var isArgs = isArguments;

var origKeys = Object.keys;
var keysShim = origKeys ? function keys(o) { return origKeys(o); } : implementation$6;

var originalKeys = Object.keys;

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			var args = Object.keys(arguments);
			return args && args.length === arguments.length;
		}(1, 2));
		if (!keysWorksWithArguments) {
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				}
				return originalKeys(object);
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

var objectKeys = keysShim;

var GetIntrinsic = getIntrinsic;

var $defineProperty = GetIntrinsic('%Object.defineProperty%', true);

var hasPropertyDescriptors$1 = function hasPropertyDescriptors() {
	if ($defineProperty) {
		try {
			$defineProperty({}, 'a', { value: 1 });
			return true;
		} catch (e) {
			// IE 8 has a broken defineProperty
			return false;
		}
	}
	return false;
};

hasPropertyDescriptors$1.hasArrayLengthDefineBug = function hasArrayLengthDefineBug() {
	// node v0.6 has a bug where array lengths can be Set but not Defined
	if (!hasPropertyDescriptors$1()) {
		return null;
	}
	try {
		return $defineProperty([], 'length', { value: 1 }).length !== 1;
	} catch (e) {
		// In Firefox 4-22, defining length on an array throws an exception.
		return true;
	}
};

var hasPropertyDescriptors_1 = hasPropertyDescriptors$1;

var keys = objectKeys;
var hasSymbols = typeof Symbol === 'function' && typeof Symbol('foo') === 'symbol';

var toStr = Object.prototype.toString;
var concat = Array.prototype.concat;
var origDefineProperty = Object.defineProperty;

var isFunction = function (fn) {
	return typeof fn === 'function' && toStr.call(fn) === '[object Function]';
};

var hasPropertyDescriptors = hasPropertyDescriptors_1();

var supportsDescriptors = origDefineProperty && hasPropertyDescriptors;

var defineProperty = function (object, name, value, predicate) {
	if (name in object && (!isFunction(predicate) || !predicate())) {
		return;
	}
	if (supportsDescriptors) {
		origDefineProperty(object, name, {
			configurable: true,
			enumerable: false,
			value: value,
			writable: true
		});
	} else {
		object[name] = value; // eslint-disable-line no-param-reassign
	}
};

var defineProperties = function (object, map) {
	var predicates = arguments.length > 2 ? arguments[2] : {};
	var props = keys(map);
	if (hasSymbols) {
		props = concat.call(props, Object.getOwnPropertySymbols(map));
	}
	for (var i = 0; i < props.length; i += 1) {
		defineProperty(object, props[i], map[props[i]], predicates[props[i]]);
	}
};

defineProperties.supportsDescriptors = !!supportsDescriptors;

var defineProperties_1 = defineProperties;

var numberIsNaN$1 = function (value) {
	return value !== value;
};

var implementation$5 = function is(a, b) {
	if (a === 0 && b === 0) {
		return 1 / a === 1 / b;
	}
	if (a === b) {
		return true;
	}
	if (numberIsNaN$1(a) && numberIsNaN$1(b)) {
		return true;
	}
	return false;
};

var implementation$4 = implementation$5;

var polyfill$3 = function getPolyfill() {
	return typeof Object.is === 'function' ? Object.is : implementation$4;
};

var getPolyfill$3 = polyfill$3;
var define$3 = defineProperties_1;

var shim$3 = function shimObjectIs() {
	var polyfill = getPolyfill$3();
	define$3(Object, { is: polyfill }, {
		is: function testObjectIs() {
			return Object.is !== polyfill;
		}
	});
	return polyfill;
};

var define$2 = defineProperties_1;
var callBind$1 = callBind$3.exports;

var implementation$3 = implementation$5;
var getPolyfill$2 = polyfill$3;
var shim$2 = shim$3;

var polyfill$2 = callBind$1(getPolyfill$2(), Object);

define$2(polyfill$2, {
	getPolyfill: getPolyfill$2,
	implementation: implementation$3,
	shim: shim$2
});

var objectIs$2 = polyfill$2;

/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */

var implementation$2 = function isNaN(value) {
	return value !== value;
};

var implementation$1 = implementation$2;

var polyfill$1 = function getPolyfill() {
	if (Number.isNaN && Number.isNaN(NaN) && !Number.isNaN('a')) {
		return Number.isNaN;
	}
	return implementation$1;
};

var define$1 = defineProperties_1;
var getPolyfill$1 = polyfill$1;

/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */

var shim$1 = function shimNumberIsNaN() {
	var polyfill = getPolyfill$1();
	define$1(Number, { isNaN: polyfill }, {
		isNaN: function testIsNaN() {
			return Number.isNaN !== polyfill;
		}
	});
	return polyfill;
};

var callBind = callBind$3.exports;
var define = defineProperties_1;

var implementation = implementation$2;
var getPolyfill = polyfill$1;
var shim = shim$1;

var polyfill = callBind(getPolyfill(), Number);

/* http://www.ecma-international.org/ecma-262/6.0/#sec-number.isnan */

define(polyfill, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

var isNan = polyfill;

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _typeof$1(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof$1(obj); }

var regexFlagsSupported = /a/g.flags !== undefined;

var arrayFromSet = function arrayFromSet(set) {
  var array = [];
  set.forEach(function (value) {
    return array.push(value);
  });
  return array;
};

var arrayFromMap = function arrayFromMap(map) {
  var array = [];
  map.forEach(function (value, key) {
    return array.push([key, value]);
  });
  return array;
};

var objectIs$1 = Object.is ? Object.is : objectIs$2;
var objectGetOwnPropertySymbols = Object.getOwnPropertySymbols ? Object.getOwnPropertySymbols : function () {
  return [];
};
var numberIsNaN = Number.isNaN ? Number.isNaN : isNan;

function uncurryThis(f) {
  return f.call.bind(f);
}

var hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);
var propertyIsEnumerable = uncurryThis(Object.prototype.propertyIsEnumerable);
var objectToString = uncurryThis(Object.prototype.toString);

var _require$types$1 = util$2.types,
    isAnyArrayBuffer = _require$types$1.isAnyArrayBuffer,
    isArrayBufferView = _require$types$1.isArrayBufferView,
    isDate = _require$types$1.isDate,
    isMap = _require$types$1.isMap,
    isRegExp$1 = _require$types$1.isRegExp,
    isSet = _require$types$1.isSet,
    isNativeError = _require$types$1.isNativeError,
    isBoxedPrimitive = _require$types$1.isBoxedPrimitive,
    isNumberObject = _require$types$1.isNumberObject,
    isStringObject = _require$types$1.isStringObject,
    isBooleanObject = _require$types$1.isBooleanObject,
    isBigIntObject = _require$types$1.isBigIntObject,
    isSymbolObject = _require$types$1.isSymbolObject,
    isFloat32Array = _require$types$1.isFloat32Array,
    isFloat64Array = _require$types$1.isFloat64Array;

function isNonIndex(key) {
  if (key.length === 0 || key.length > 10) return true;

  for (var i = 0; i < key.length; i++) {
    var code = key.charCodeAt(i);
    if (code < 48 || code > 57) return true;
  } // The maximum size for an array is 2 ** 32 -1.


  return key.length === 10 && key >= Math.pow(2, 32);
}

function getOwnNonIndexProperties(value) {
  return Object.keys(value).filter(isNonIndex).concat(objectGetOwnPropertySymbols(value).filter(Object.prototype.propertyIsEnumerable.bind(value)));
} // Taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js
// original notice:

/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */


function compare(a, b) {
  if (a === b) {
    return 0;
  }

  var x = a.length;
  var y = b.length;

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i];
      y = b[i];
      break;
    }
  }

  if (x < y) {
    return -1;
  }

  if (y < x) {
    return 1;
  }

  return 0;
}
var kStrict = true;
var kLoose = false;
var kNoIterator = 0;
var kIsArray = 1;
var kIsSet = 2;
var kIsMap = 3; // Check if they have the same source and flags

function areSimilarRegExps(a, b) {
  return regexFlagsSupported ? a.source === b.source && a.flags === b.flags : RegExp.prototype.toString.call(a) === RegExp.prototype.toString.call(b);
}

function areSimilarFloatArrays(a, b) {
  if (a.byteLength !== b.byteLength) {
    return false;
  }

  for (var offset = 0; offset < a.byteLength; offset++) {
    if (a[offset] !== b[offset]) {
      return false;
    }
  }

  return true;
}

function areSimilarTypedArrays(a, b) {
  if (a.byteLength !== b.byteLength) {
    return false;
  }

  return compare(new Uint8Array(a.buffer, a.byteOffset, a.byteLength), new Uint8Array(b.buffer, b.byteOffset, b.byteLength)) === 0;
}

function areEqualArrayBuffers(buf1, buf2) {
  return buf1.byteLength === buf2.byteLength && compare(new Uint8Array(buf1), new Uint8Array(buf2)) === 0;
}

function isEqualBoxedPrimitive(val1, val2) {
  if (isNumberObject(val1)) {
    return isNumberObject(val2) && objectIs$1(Number.prototype.valueOf.call(val1), Number.prototype.valueOf.call(val2));
  }

  if (isStringObject(val1)) {
    return isStringObject(val2) && String.prototype.valueOf.call(val1) === String.prototype.valueOf.call(val2);
  }

  if (isBooleanObject(val1)) {
    return isBooleanObject(val2) && Boolean.prototype.valueOf.call(val1) === Boolean.prototype.valueOf.call(val2);
  }

  if (isBigIntObject(val1)) {
    return isBigIntObject(val2) && BigInt.prototype.valueOf.call(val1) === BigInt.prototype.valueOf.call(val2);
  }

  return isSymbolObject(val2) && Symbol.prototype.valueOf.call(val1) === Symbol.prototype.valueOf.call(val2);
} // Notes: Type tags are historical [[Class]] properties that can be set by
// FunctionTemplate::SetClassName() in C++ or Symbol.toStringTag in JS
// and retrieved using Object.prototype.toString.call(obj) in JS
// See https://tc39.github.io/ecma262/#sec-object.prototype.tostring
// for a list of tags pre-defined in the spec.
// There are some unspecified tags in the wild too (e.g. typed array tags).
// Since tags can be altered, they only serve fast failures
//
// Typed arrays and buffers are checked by comparing the content in their
// underlying ArrayBuffer. This optimization requires that it's
// reasonable to interpret their underlying memory in the same way,
// which is checked by comparing their type tags.
// (e.g. a Uint8Array and a Uint16Array with the same memory content
// could still be different because they will be interpreted differently).
//
// For strict comparison, objects should have
// a) The same built-in type tags
// b) The same prototypes.


function innerDeepEqual(val1, val2, strict, memos) {
  // All identical values are equivalent, as determined by ===.
  if (val1 === val2) {
    if (val1 !== 0) return true;
    return strict ? objectIs$1(val1, val2) : true;
  } // Check more closely if val1 and val2 are equal.


  if (strict) {
    if (_typeof$1(val1) !== 'object') {
      return typeof val1 === 'number' && numberIsNaN(val1) && numberIsNaN(val2);
    }

    if (_typeof$1(val2) !== 'object' || val1 === null || val2 === null) {
      return false;
    }

    if (Object.getPrototypeOf(val1) !== Object.getPrototypeOf(val2)) {
      return false;
    }
  } else {
    if (val1 === null || _typeof$1(val1) !== 'object') {
      if (val2 === null || _typeof$1(val2) !== 'object') {
        // eslint-disable-next-line eqeqeq
        return val1 == val2;
      }

      return false;
    }

    if (val2 === null || _typeof$1(val2) !== 'object') {
      return false;
    }
  }

  var val1Tag = objectToString(val1);
  var val2Tag = objectToString(val2);

  if (val1Tag !== val2Tag) {
    return false;
  }

  if (Array.isArray(val1)) {
    // Check for sparse arrays and general fast path
    if (val1.length !== val2.length) {
      return false;
    }

    var keys1 = getOwnNonIndexProperties(val1);
    var keys2 = getOwnNonIndexProperties(val2);

    if (keys1.length !== keys2.length) {
      return false;
    }

    return keyCheck(val1, val2, strict, memos, kIsArray, keys1);
  } // [browserify] This triggers on certain types in IE (Map/Set) so we don't
  // wan't to early return out of the rest of the checks. However we can check
  // if the second value is one of these values and the first isn't.


  if (val1Tag === '[object Object]') {
    // return keyCheck(val1, val2, strict, memos, kNoIterator);
    if (!isMap(val1) && isMap(val2) || !isSet(val1) && isSet(val2)) {
      return false;
    }
  }

  if (isDate(val1)) {
    if (!isDate(val2) || Date.prototype.getTime.call(val1) !== Date.prototype.getTime.call(val2)) {
      return false;
    }
  } else if (isRegExp$1(val1)) {
    if (!isRegExp$1(val2) || !areSimilarRegExps(val1, val2)) {
      return false;
    }
  } else if (isNativeError(val1) || val1 instanceof Error) {
    // Do not compare the stack as it might differ even though the error itself
    // is otherwise identical.
    if (val1.message !== val2.message || val1.name !== val2.name) {
      return false;
    }
  } else if (isArrayBufferView(val1)) {
    if (!strict && (isFloat32Array(val1) || isFloat64Array(val1))) {
      if (!areSimilarFloatArrays(val1, val2)) {
        return false;
      }
    } else if (!areSimilarTypedArrays(val1, val2)) {
      return false;
    } // Buffer.compare returns true, so val1.length === val2.length. If they both
    // only contain numeric keys, we don't need to exam further than checking
    // the symbols.


    var _keys = getOwnNonIndexProperties(val1);

    var _keys2 = getOwnNonIndexProperties(val2);

    if (_keys.length !== _keys2.length) {
      return false;
    }

    return keyCheck(val1, val2, strict, memos, kNoIterator, _keys);
  } else if (isSet(val1)) {
    if (!isSet(val2) || val1.size !== val2.size) {
      return false;
    }

    return keyCheck(val1, val2, strict, memos, kIsSet);
  } else if (isMap(val1)) {
    if (!isMap(val2) || val1.size !== val2.size) {
      return false;
    }

    return keyCheck(val1, val2, strict, memos, kIsMap);
  } else if (isAnyArrayBuffer(val1)) {
    if (!areEqualArrayBuffers(val1, val2)) {
      return false;
    }
  } else if (isBoxedPrimitive(val1) && !isEqualBoxedPrimitive(val1, val2)) {
    return false;
  }

  return keyCheck(val1, val2, strict, memos, kNoIterator);
}

function getEnumerables(val, keys) {
  return keys.filter(function (k) {
    return propertyIsEnumerable(val, k);
  });
}

function keyCheck(val1, val2, strict, memos, iterationType, aKeys) {
  // For all remaining Object pairs, including Array, objects and Maps,
  // equivalence is determined by having:
  // a) The same number of owned enumerable properties
  // b) The same set of keys/indexes (although not necessarily the same order)
  // c) Equivalent values for every corresponding key/index
  // d) For Sets and Maps, equal contents
  // Note: this accounts for both named and indexed properties on Arrays.
  if (arguments.length === 5) {
    aKeys = Object.keys(val1);
    var bKeys = Object.keys(val2); // The pair must have the same number of owned properties.

    if (aKeys.length !== bKeys.length) {
      return false;
    }
  } // Cheap key test


  var i = 0;

  for (; i < aKeys.length; i++) {
    if (!hasOwnProperty(val2, aKeys[i])) {
      return false;
    }
  }

  if (strict && arguments.length === 5) {
    var symbolKeysA = objectGetOwnPropertySymbols(val1);

    if (symbolKeysA.length !== 0) {
      var count = 0;

      for (i = 0; i < symbolKeysA.length; i++) {
        var key = symbolKeysA[i];

        if (propertyIsEnumerable(val1, key)) {
          if (!propertyIsEnumerable(val2, key)) {
            return false;
          }

          aKeys.push(key);
          count++;
        } else if (propertyIsEnumerable(val2, key)) {
          return false;
        }
      }

      var symbolKeysB = objectGetOwnPropertySymbols(val2);

      if (symbolKeysA.length !== symbolKeysB.length && getEnumerables(val2, symbolKeysB).length !== count) {
        return false;
      }
    } else {
      var _symbolKeysB = objectGetOwnPropertySymbols(val2);

      if (_symbolKeysB.length !== 0 && getEnumerables(val2, _symbolKeysB).length !== 0) {
        return false;
      }
    }
  }

  if (aKeys.length === 0 && (iterationType === kNoIterator || iterationType === kIsArray && val1.length === 0 || val1.size === 0)) {
    return true;
  } // Use memos to handle cycles.


  if (memos === undefined) {
    memos = {
      val1: new Map(),
      val2: new Map(),
      position: 0
    };
  } else {
    // We prevent up to two map.has(x) calls by directly retrieving the value
    // and checking for undefined. The map can only contain numbers, so it is
    // safe to check for undefined only.
    var val2MemoA = memos.val1.get(val1);

    if (val2MemoA !== undefined) {
      var val2MemoB = memos.val2.get(val2);

      if (val2MemoB !== undefined) {
        return val2MemoA === val2MemoB;
      }
    }

    memos.position++;
  }

  memos.val1.set(val1, memos.position);
  memos.val2.set(val2, memos.position);
  var areEq = objEquiv(val1, val2, strict, aKeys, memos, iterationType);
  memos.val1.delete(val1);
  memos.val2.delete(val2);
  return areEq;
}

function setHasEqualElement(set, val1, strict, memo) {
  // Go looking.
  var setValues = arrayFromSet(set);

  for (var i = 0; i < setValues.length; i++) {
    var val2 = setValues[i];

    if (innerDeepEqual(val1, val2, strict, memo)) {
      // Remove the matching element to make sure we do not check that again.
      set.delete(val2);
      return true;
    }
  }

  return false;
} // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness#Loose_equality_using
// Sadly it is not possible to detect corresponding values properly in case the
// type is a string, number, bigint or boolean. The reason is that those values
// can match lots of different string values (e.g., 1n == '+00001').


function findLooseMatchingPrimitives(prim) {
  switch (_typeof$1(prim)) {
    case 'undefined':
      return null;

    case 'object':
      // Only pass in null as object!
      return undefined;

    case 'symbol':
      return false;

    case 'string':
      prim = +prim;
    // Loose equal entries exist only if the string is possible to convert to
    // a regular number and not NaN.
    // Fall through

    case 'number':
      if (numberIsNaN(prim)) {
        return false;
      }

  }

  return true;
}

function setMightHaveLoosePrim(a, b, prim) {
  var altValue = findLooseMatchingPrimitives(prim);
  if (altValue != null) return altValue;
  return b.has(altValue) && !a.has(altValue);
}

function mapMightHaveLoosePrim(a, b, prim, item, memo) {
  var altValue = findLooseMatchingPrimitives(prim);

  if (altValue != null) {
    return altValue;
  }

  var curB = b.get(altValue);

  if (curB === undefined && !b.has(altValue) || !innerDeepEqual(item, curB, false, memo)) {
    return false;
  }

  return !a.has(altValue) && innerDeepEqual(item, curB, false, memo);
}

function setEquiv(a, b, strict, memo) {
  // This is a lazily initiated Set of entries which have to be compared
  // pairwise.
  var set = null;
  var aValues = arrayFromSet(a);

  for (var i = 0; i < aValues.length; i++) {
    var val = aValues[i]; // Note: Checking for the objects first improves the performance for object
    // heavy sets but it is a minor slow down for primitives. As they are fast
    // to check this improves the worst case scenario instead.

    if (_typeof$1(val) === 'object' && val !== null) {
      if (set === null) {
        set = new Set();
      } // If the specified value doesn't exist in the second set its an not null
      // object (or non strict only: a not matching primitive) we'll need to go
      // hunting for something thats deep-(strict-)equal to it. To make this
      // O(n log n) complexity we have to copy these values in a new set first.


      set.add(val);
    } else if (!b.has(val)) {
      if (strict) return false; // Fast path to detect missing string, symbol, undefined and null values.

      if (!setMightHaveLoosePrim(a, b, val)) {
        return false;
      }

      if (set === null) {
        set = new Set();
      }

      set.add(val);
    }
  }

  if (set !== null) {
    var bValues = arrayFromSet(b);

    for (var _i = 0; _i < bValues.length; _i++) {
      var _val = bValues[_i]; // We have to check if a primitive value is already
      // matching and only if it's not, go hunting for it.

      if (_typeof$1(_val) === 'object' && _val !== null) {
        if (!setHasEqualElement(set, _val, strict, memo)) return false;
      } else if (!strict && !a.has(_val) && !setHasEqualElement(set, _val, strict, memo)) {
        return false;
      }
    }

    return set.size === 0;
  }

  return true;
}

function mapHasEqualEntry(set, map, key1, item1, strict, memo) {
  // To be able to handle cases like:
  //   Map([[{}, 'a'], [{}, 'b']]) vs Map([[{}, 'b'], [{}, 'a']])
  // ... we need to consider *all* matching keys, not just the first we find.
  var setValues = arrayFromSet(set);

  for (var i = 0; i < setValues.length; i++) {
    var key2 = setValues[i];

    if (innerDeepEqual(key1, key2, strict, memo) && innerDeepEqual(item1, map.get(key2), strict, memo)) {
      set.delete(key2);
      return true;
    }
  }

  return false;
}

function mapEquiv(a, b, strict, memo) {
  var set = null;
  var aEntries = arrayFromMap(a);

  for (var i = 0; i < aEntries.length; i++) {
    var _aEntries$i = _slicedToArray(aEntries[i], 2),
        key = _aEntries$i[0],
        item1 = _aEntries$i[1];

    if (_typeof$1(key) === 'object' && key !== null) {
      if (set === null) {
        set = new Set();
      }

      set.add(key);
    } else {
      // By directly retrieving the value we prevent another b.has(key) check in
      // almost all possible cases.
      var item2 = b.get(key);

      if (item2 === undefined && !b.has(key) || !innerDeepEqual(item1, item2, strict, memo)) {
        if (strict) return false; // Fast path to detect missing string, symbol, undefined and null
        // keys.

        if (!mapMightHaveLoosePrim(a, b, key, item1, memo)) return false;

        if (set === null) {
          set = new Set();
        }

        set.add(key);
      }
    }
  }

  if (set !== null) {
    var bEntries = arrayFromMap(b);

    for (var _i2 = 0; _i2 < bEntries.length; _i2++) {
      var _bEntries$_i = _slicedToArray(bEntries[_i2], 2),
          key = _bEntries$_i[0],
          item = _bEntries$_i[1];

      if (_typeof$1(key) === 'object' && key !== null) {
        if (!mapHasEqualEntry(set, a, key, item, strict, memo)) return false;
      } else if (!strict && (!a.has(key) || !innerDeepEqual(a.get(key), item, false, memo)) && !mapHasEqualEntry(set, a, key, item, false, memo)) {
        return false;
      }
    }

    return set.size === 0;
  }

  return true;
}

function objEquiv(a, b, strict, keys, memos, iterationType) {
  // Sets and maps don't have their entries accessible via normal object
  // properties.
  var i = 0;

  if (iterationType === kIsSet) {
    if (!setEquiv(a, b, strict, memos)) {
      return false;
    }
  } else if (iterationType === kIsMap) {
    if (!mapEquiv(a, b, strict, memos)) {
      return false;
    }
  } else if (iterationType === kIsArray) {
    for (; i < a.length; i++) {
      if (hasOwnProperty(a, i)) {
        if (!hasOwnProperty(b, i) || !innerDeepEqual(a[i], b[i], strict, memos)) {
          return false;
        }
      } else if (hasOwnProperty(b, i)) {
        return false;
      } else {
        // Array is sparse.
        var keysA = Object.keys(a);

        for (; i < keysA.length; i++) {
          var key = keysA[i];

          if (!hasOwnProperty(b, key) || !innerDeepEqual(a[key], b[key], strict, memos)) {
            return false;
          }
        }

        if (keysA.length !== Object.keys(b).length) {
          return false;
        }

        return true;
      }
    }
  } // The pair must have equivalent values for every corresponding key.
  // Possibly expensive deep test:


  for (i = 0; i < keys.length; i++) {
    var _key = keys[i];

    if (!innerDeepEqual(a[_key], b[_key], strict, memos)) {
      return false;
    }
  }

  return true;
}

function isDeepEqual$1(val1, val2) {
  return innerDeepEqual(val1, val2, kLoose);
}

function isDeepStrictEqual$1(val1, val2) {
  return innerDeepEqual(val1, val2, kStrict);
}

var comparisons = {
  isDeepEqual: isDeepEqual$1,
  isDeepStrictEqual: isDeepStrictEqual$1
};

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _require = errors,
    _require$codes = _require.codes,
    ERR_AMBIGUOUS_ARGUMENT = _require$codes.ERR_AMBIGUOUS_ARGUMENT,
    ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,
    ERR_INVALID_ARG_VALUE = _require$codes.ERR_INVALID_ARG_VALUE,
    ERR_INVALID_RETURN_VALUE = _require$codes.ERR_INVALID_RETURN_VALUE,
    ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS;

var AssertionError = assertion_error;

var _require2 = util$2,
    inspect = _require2.inspect;

var _require$types = util$2.types,
    isPromise = _require$types.isPromise,
    isRegExp = _require$types.isRegExp;

var objectAssign = Object.assign ? Object.assign : es6ObjectAssign.assign;
var objectIs = Object.is ? Object.is : objectIs$2;
var isDeepEqual;
var isDeepStrictEqual;

function lazyLoadComparison() {
  var comparison = comparisons;

  isDeepEqual = comparison.isDeepEqual;
  isDeepStrictEqual = comparison.isDeepStrictEqual;
} // Escape control characters but not \n and \t to keep the line breaks and

var warned = false; // The assert module provides functions that throw
// AssertionError's when particular conditions are not met. The
// assert module must conform to the following interface.

var assert = assert$2.exports = ok;
var NO_EXCEPTION_SENTINEL = {}; // All of the following functions must throw an AssertionError
// when a corresponding condition is not met, with a message that
// may be undefined if not provided. All assertion methods provide
// both the actual and expected values to the assertion error for
// display purposes.

function innerFail(obj) {
  if (obj.message instanceof Error) throw obj.message;
  throw new AssertionError(obj);
}

function fail(actual, expected, message, operator, stackStartFn) {
  var argsLen = arguments.length;
  var internalMessage;

  if (argsLen === 0) {
    internalMessage = 'Failed';
  } else if (argsLen === 1) {
    message = actual;
    actual = undefined;
  } else {
    if (warned === false) {
      warned = true;
      var warn = process.emitWarning ? process.emitWarning : console.warn.bind(console);
      warn('assert.fail() with more than one argument is deprecated. ' + 'Please use assert.strictEqual() instead or only pass a message.', 'DeprecationWarning', 'DEP0094');
    }

    if (argsLen === 2) operator = '!=';
  }

  if (message instanceof Error) throw message;
  var errArgs = {
    actual: actual,
    expected: expected,
    operator: operator === undefined ? 'fail' : operator,
    stackStartFn: stackStartFn || fail
  };

  if (message !== undefined) {
    errArgs.message = message;
  }

  var err = new AssertionError(errArgs);

  if (internalMessage) {
    err.message = internalMessage;
    err.generatedMessage = true;
  }

  throw err;
}

assert.fail = fail; // The AssertionError is defined in internal/error.

assert.AssertionError = AssertionError;

function innerOk(fn, argLen, value, message) {
  if (!value) {
    var generatedMessage = false;

    if (argLen === 0) {
      generatedMessage = true;
      message = 'No value argument passed to `assert.ok()`';
    } else if (message instanceof Error) {
      throw message;
    }

    var err = new AssertionError({
      actual: value,
      expected: true,
      message: message,
      operator: '==',
      stackStartFn: fn
    });
    err.generatedMessage = generatedMessage;
    throw err;
  }
} // Pure assertion tests whether a value is truthy, as determined
// by !!value.


function ok() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  innerOk.apply(void 0, [ok, args.length].concat(args));
}

assert.ok = ok; // The equality assertion tests shallow, coercive equality with ==.

/* eslint-disable no-restricted-properties */

assert.equal = function equal(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  } // eslint-disable-next-line eqeqeq


  if (actual != expected) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: '==',
      stackStartFn: equal
    });
  }
}; // The non-equality assertion tests for whether two objects are not
// equal with !=.


assert.notEqual = function notEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  } // eslint-disable-next-line eqeqeq


  if (actual == expected) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: '!=',
      stackStartFn: notEqual
    });
  }
}; // The equivalence assertion tests a deep equality relation.


assert.deepEqual = function deepEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (isDeepEqual === undefined) lazyLoadComparison();

  if (!isDeepEqual(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'deepEqual',
      stackStartFn: deepEqual
    });
  }
}; // The non-equivalence assertion tests for any deep inequality.


assert.notDeepEqual = function notDeepEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (isDeepEqual === undefined) lazyLoadComparison();

  if (isDeepEqual(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'notDeepEqual',
      stackStartFn: notDeepEqual
    });
  }
};
/* eslint-enable */


assert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (isDeepEqual === undefined) lazyLoadComparison();

  if (!isDeepStrictEqual(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'deepStrictEqual',
      stackStartFn: deepStrictEqual
    });
  }
};

assert.notDeepStrictEqual = notDeepStrictEqual;

function notDeepStrictEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (isDeepEqual === undefined) lazyLoadComparison();

  if (isDeepStrictEqual(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'notDeepStrictEqual',
      stackStartFn: notDeepStrictEqual
    });
  }
}

assert.strictEqual = function strictEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (!objectIs(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'strictEqual',
      stackStartFn: strictEqual
    });
  }
};

assert.notStrictEqual = function notStrictEqual(actual, expected, message) {
  if (arguments.length < 2) {
    throw new ERR_MISSING_ARGS('actual', 'expected');
  }

  if (objectIs(actual, expected)) {
    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: 'notStrictEqual',
      stackStartFn: notStrictEqual
    });
  }
};

var Comparison = function Comparison(obj, keys, actual) {
  var _this = this;

  _classCallCheck(this, Comparison);

  keys.forEach(function (key) {
    if (key in obj) {
      if (actual !== undefined && typeof actual[key] === 'string' && isRegExp(obj[key]) && obj[key].test(actual[key])) {
        _this[key] = actual[key];
      } else {
        _this[key] = obj[key];
      }
    }
  });
};

function compareExceptionKey(actual, expected, key, message, keys, fn) {
  if (!(key in actual) || !isDeepStrictEqual(actual[key], expected[key])) {
    if (!message) {
      // Create placeholder objects to create a nice output.
      var a = new Comparison(actual, keys);
      var b = new Comparison(expected, keys, actual);
      var err = new AssertionError({
        actual: a,
        expected: b,
        operator: 'deepStrictEqual',
        stackStartFn: fn
      });
      err.actual = actual;
      err.expected = expected;
      err.operator = fn.name;
      throw err;
    }

    innerFail({
      actual: actual,
      expected: expected,
      message: message,
      operator: fn.name,
      stackStartFn: fn
    });
  }
}

function expectedException(actual, expected, msg, fn) {
  if (typeof expected !== 'function') {
    if (isRegExp(expected)) return expected.test(actual); // assert.doesNotThrow does not accept objects.

    if (arguments.length === 2) {
      throw new ERR_INVALID_ARG_TYPE('expected', ['Function', 'RegExp'], expected);
    } // Handle primitives properly.


    if (_typeof(actual) !== 'object' || actual === null) {
      var err = new AssertionError({
        actual: actual,
        expected: expected,
        message: msg,
        operator: 'deepStrictEqual',
        stackStartFn: fn
      });
      err.operator = fn.name;
      throw err;
    }

    var keys = Object.keys(expected); // Special handle errors to make sure the name and the message are compared
    // as well.

    if (expected instanceof Error) {
      keys.push('name', 'message');
    } else if (keys.length === 0) {
      throw new ERR_INVALID_ARG_VALUE('error', expected, 'may not be an empty object');
    }

    if (isDeepEqual === undefined) lazyLoadComparison();
    keys.forEach(function (key) {
      if (typeof actual[key] === 'string' && isRegExp(expected[key]) && expected[key].test(actual[key])) {
        return;
      }

      compareExceptionKey(actual, expected, key, msg, keys, fn);
    });
    return true;
  } // Guard instanceof against arrow functions as they don't have a prototype.


  if (expected.prototype !== undefined && actual instanceof expected) {
    return true;
  }

  if (Error.isPrototypeOf(expected)) {
    return false;
  }

  return expected.call({}, actual) === true;
}

function getActual(fn) {
  if (typeof fn !== 'function') {
    throw new ERR_INVALID_ARG_TYPE('fn', 'Function', fn);
  }

  try {
    fn();
  } catch (e) {
    return e;
  }

  return NO_EXCEPTION_SENTINEL;
}

function checkIsPromise(obj) {
  // Accept native ES6 promises and promises that are implemented in a similar
  // way. Do not accept thenables that use a function as `obj` and that have no
  // `catch` handler.
  // TODO: thenables are checked up until they have the correct methods,
  // but according to documentation, the `then` method should receive
  // the `fulfill` and `reject` arguments as well or it may be never resolved.
  return isPromise(obj) || obj !== null && _typeof(obj) === 'object' && typeof obj.then === 'function' && typeof obj.catch === 'function';
}

function waitForActual(promiseFn) {
  return Promise.resolve().then(function () {
    var resultPromise;

    if (typeof promiseFn === 'function') {
      // Return a rejected promise if `promiseFn` throws synchronously.
      resultPromise = promiseFn(); // Fail in case no promise is returned.

      if (!checkIsPromise(resultPromise)) {
        throw new ERR_INVALID_RETURN_VALUE('instance of Promise', 'promiseFn', resultPromise);
      }
    } else if (checkIsPromise(promiseFn)) {
      resultPromise = promiseFn;
    } else {
      throw new ERR_INVALID_ARG_TYPE('promiseFn', ['Function', 'Promise'], promiseFn);
    }

    return Promise.resolve().then(function () {
      return resultPromise;
    }).then(function () {
      return NO_EXCEPTION_SENTINEL;
    }).catch(function (e) {
      return e;
    });
  });
}

function expectsError(stackStartFn, actual, error, message) {
  if (typeof error === 'string') {
    if (arguments.length === 4) {
      throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);
    }

    if (_typeof(actual) === 'object' && actual !== null) {
      if (actual.message === error) {
        throw new ERR_AMBIGUOUS_ARGUMENT('error/message', "The error message \"".concat(actual.message, "\" is identical to the message."));
      }
    } else if (actual === error) {
      throw new ERR_AMBIGUOUS_ARGUMENT('error/message', "The error \"".concat(actual, "\" is identical to the message."));
    }

    message = error;
    error = undefined;
  } else if (error != null && _typeof(error) !== 'object' && typeof error !== 'function') {
    throw new ERR_INVALID_ARG_TYPE('error', ['Object', 'Error', 'Function', 'RegExp'], error);
  }

  if (actual === NO_EXCEPTION_SENTINEL) {
    var details = '';

    if (error && error.name) {
      details += " (".concat(error.name, ")");
    }

    details += message ? ": ".concat(message) : '.';
    var fnType = stackStartFn.name === 'rejects' ? 'rejection' : 'exception';
    innerFail({
      actual: undefined,
      expected: error,
      operator: stackStartFn.name,
      message: "Missing expected ".concat(fnType).concat(details),
      stackStartFn: stackStartFn
    });
  }

  if (error && !expectedException(actual, error, message, stackStartFn)) {
    throw actual;
  }
}

function expectsNoError(stackStartFn, actual, error, message) {
  if (actual === NO_EXCEPTION_SENTINEL) return;

  if (typeof error === 'string') {
    message = error;
    error = undefined;
  }

  if (!error || expectedException(actual, error)) {
    var details = message ? ": ".concat(message) : '.';
    var fnType = stackStartFn.name === 'doesNotReject' ? 'rejection' : 'exception';
    innerFail({
      actual: actual,
      expected: error,
      operator: stackStartFn.name,
      message: "Got unwanted ".concat(fnType).concat(details, "\n") + "Actual message: \"".concat(actual && actual.message, "\""),
      stackStartFn: stackStartFn
    });
  }

  throw actual;
}

assert.throws = function throws(promiseFn) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }

  expectsError.apply(void 0, [throws, getActual(promiseFn)].concat(args));
};

assert.rejects = function rejects(promiseFn) {
  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
    args[_key3 - 1] = arguments[_key3];
  }

  return waitForActual(promiseFn).then(function (result) {
    return expectsError.apply(void 0, [rejects, result].concat(args));
  });
};

assert.doesNotThrow = function doesNotThrow(fn) {
  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
    args[_key4 - 1] = arguments[_key4];
  }

  expectsNoError.apply(void 0, [doesNotThrow, getActual(fn)].concat(args));
};

assert.doesNotReject = function doesNotReject(fn) {
  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
    args[_key5 - 1] = arguments[_key5];
  }

  return waitForActual(fn).then(function (result) {
    return expectsNoError.apply(void 0, [doesNotReject, result].concat(args));
  });
};

assert.ifError = function ifError(err) {
  if (err !== null && err !== undefined) {
    var message = 'ifError got unwanted exception: ';

    if (_typeof(err) === 'object' && typeof err.message === 'string') {
      if (err.message.length === 0 && err.constructor) {
        message += err.constructor.name;
      } else {
        message += err.message;
      }
    } else {
      message += inspect(err);
    }

    var newErr = new AssertionError({
      actual: err,
      expected: null,
      operator: 'ifError',
      message: message,
      stackStartFn: ifError
    }); // Make sure we actually have a stack trace!

    var origStack = err.stack;

    if (typeof origStack === 'string') {
      // This will remove any duplicated frames from the error frames taken
      // from within `ifError` and add the original error frames to the newly
      // created ones.
      var tmp2 = origStack.split('\n');
      tmp2.shift(); // Filter all frames existing in err.stack.

      var tmp1 = newErr.stack.split('\n');

      for (var i = 0; i < tmp2.length; i++) {
        // Find the first occurrence of the frame.
        var pos = tmp1.indexOf(tmp2[i]);

        if (pos !== -1) {
          // Only keep new frames.
          tmp1 = tmp1.slice(0, pos);
          break;
        }
      }

      newErr.stack = "".concat(tmp1.join('\n'), "\n").concat(tmp2.join('\n'));
    }

    throw newErr;
  }
}; // Expose a strict only variant of assert


function strict() {
  for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
    args[_key6] = arguments[_key6];
  }

  innerOk.apply(void 0, [strict, args.length].concat(args));
}

assert.strict = objectAssign(strict, assert, {
  equal: assert.strictEqual,
  deepEqual: assert.deepStrictEqual,
  notEqual: assert.notStrictEqual,
  notDeepEqual: assert.notDeepStrictEqual
});
assert.strict.strict = assert.strict;

var s$2 = assert$2.exports;

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function p$2(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e));}catch(e){o(e);}}function a(e){try{c(n.throw(e));}catch(e){o(e);}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t);}))).then(s,a);}c((n=n.apply(e,t||[])).next());}))}const h$2=e=>e?e.split(";").map((e=>e.split("="))).reduce(((e,t)=>(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim()),e)),{}):{};var f$2={},y$2={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
!function(t,r){var n=buffer,i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r];}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)};}(y$2,y$2.exports);var m$2=y$2.exports.Buffer,w$2=t$1;function g$2(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=m$2.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=m$2.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close");}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}util$2.inherits(g$2,w$2),g$2.prototype.write=function(e){this.buffer=m$2.concat([this.buffer,m$2.from(e)]),this.emit("data",e);},g$2.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1;};var v$2=g$2,_$1=buffer.Buffer,b$2=buffer.SlowBuffer,S$1=E$2;function E$2(e,t){if(!_$1.isBuffer(e)||!_$1.isBuffer(t))return !1;if(e.length!==t.length)return !1;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}E$2.install=function(){_$1.prototype.equal=b$2.prototype.equal=function(e){return E$2(this,e)};};var k$2=_$1.prototype.equal,P$2=b$2.prototype.equal;function A$1(e){return (e/8|0)+(e%8==0?0:1)}E$2.restore=function(){_$1.prototype.equal=k$2,b$2.prototype.equal=P$2;};var j$2={ES256:A$1(256),ES384:A$1(384),ES512:A$1(521)};var T$1=function(e){var t=j$2[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')},J$1=y$2.exports.Buffer,O$1=T$1;function x$2(e){if(J$1.isBuffer(e))return e;if("string"==typeof e)return J$1.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function W$1(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}var K$2={derToJose:function(e,t){e=x$2(e);var r=O$1(t),n=r+1,i=e.length,o=0;if(48!==e[o++])throw new Error('Could not find expected "seq"');var s=e[o++];if(129===s&&(s=e[o++]),i-o<s)throw new Error('"seq" specified length of "'+s+'", only "'+(i-o)+'" remaining');if(2!==e[o++])throw new Error('Could not find expected "int" for "r"');var a=e[o++];if(i-o-2<a)throw new Error('"r" specified length of "'+a+'", only "'+(i-o-2)+'" available');if(n<a)throw new Error('"r" specified length of "'+a+'", max of "'+n+'" is acceptable');var c=o;if(o+=a,2!==e[o++])throw new Error('Could not find expected "int" for "s"');var u=e[o++];if(i-o!==u)throw new Error('"s" specified length of "'+u+'", expected "'+(i-o)+'"');if(n<u)throw new Error('"s" specified length of "'+u+'", max of "'+n+'" is acceptable');var d=o;if((o+=u)!==i)throw new Error('Expected to consume entire buffer, but "'+(i-o)+'" bytes remain');var l=r-a,p=r-u,h=J$1.allocUnsafe(l+a+p+u);for(o=0;o<l;++o)h[o]=0;e.copy(h,o,c+Math.max(-l,0),c+a);for(var f=o=r;o<f+p;++o)h[o]=0;return e.copy(h,o,d+Math.max(-p,0),d+u),h=(h=h.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=x$2(e);var r=O$1(t),n=e.length;if(n!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+n+'"');var i=W$1(e,0,r),o=W$1(e,r,e.length),s=r-i,a=r-o,c=2+s+1+1+a,u=c<128,d=J$1.allocUnsafe((u?2:3)+c),l=0;return d[l++]=48,u?d[l++]=c:(d[l++]=129,d[l++]=255&c),d[l++]=2,d[l++]=s,i<0?(d[l++]=0,l+=e.copy(d,l,0,r)):l+=e.copy(d,l,i,r),d[l++]=2,d[l++]=a,o<0?(d[l++]=0,e.copy(d,l,r)):e.copy(d,l,r+o),d}},C$2=S$1,I$1=y$2.exports.Buffer,H$1=n,R$1=K$2,M$2=util$2,D$2="secret must be a string or buffer",N$1="key must be a string or a buffer",$$1="function"==typeof H$1.createPublicKey;function B$2(e){if(!I$1.isBuffer(e)&&"string"!=typeof e){if(!$$1)throw z$2(N$1);if("object"!=typeof e)throw z$2(N$1);if("string"!=typeof e.type)throw z$2(N$1);if("string"!=typeof e.asymmetricKeyType)throw z$2(N$1);if("function"!=typeof e.export)throw z$2(N$1)}}function U$2(e){if(!I$1.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw z$2("key must be a string, a buffer or an object")}function L$2(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function V$1(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function z$2(e){var t=[].slice.call(arguments,1),r=M$2.format.bind(M$2,e).apply(null,t);return new TypeError(r)}function F$2(e){var t;return t=e,I$1.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function q$2(e){return function(t,r){!function(e){if(!I$1.isBuffer(e)){if("string"==typeof e)return e;if(!$$1)throw z$2(D$2);if("object"!=typeof e)throw z$2(D$2);if("secret"!==e.type)throw z$2(D$2);if("function"!=typeof e.export)throw z$2(D$2)}}(r),t=F$2(t);var n=H$1.createHmac("sha"+e,r);return L$2((n.update(t),n.digest("base64")))}}function G$2(e){return function(t,r,n){var i=q$2(e)(t,n);return C$2(I$1.from(r),I$1.from(i))}}function X$1(e){return function(t,r){U$2(r),t=F$2(t);var n=H$1.createSign("RSA-SHA"+e);return L$2((n.update(t),n.sign(r,"base64")))}}function Y$1(e){return function(t,r,n){B$2(n),t=F$2(t),r=V$1(r);var i=H$1.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function Z$1(e){return function(t,r){U$2(r),t=F$2(t);var n=H$1.createSign("RSA-SHA"+e);return L$2((n.update(t),n.sign({key:r,padding:H$1.constants.RSA_PKCS1_PSS_PADDING,saltLength:H$1.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function Q$1(e){return function(t,r,n){B$2(n),t=F$2(t),r=V$1(r);var i=H$1.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:H$1.constants.RSA_PKCS1_PSS_PADDING,saltLength:H$1.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function ee$1(e){var t=X$1(e);return function(){var r=t.apply(null,arguments);return r=R$1.derToJose(r,"ES"+e)}}function te$1(e){var t=Y$1(e);return function(r,n,i){return n=R$1.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function re$1(){return function(){return ""}}function ne$1(){return function(e,t){return ""===t}}$$1&&(N$1+=" or a KeyObject",D$2+="or a KeyObject");var ie$1=function(e){var t={hs:q$2,rs:X$1,ps:Z$1,es:ee$1,none:re$1},r={hs:G$2,rs:Y$1,ps:Q$1,es:te$1,none:ne$1},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw z$2('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),o=n[2];return {sign:t[i](o),verify:r[i](o)}},oe$1=buffer.Buffer,se$1=function(e){return "string"==typeof e?e:"number"==typeof e||oe$1.isBuffer(e)?e.toString():JSON.stringify(e)},ae$1=y$2.exports.Buffer,ce$1=v$2,ue$1=ie$1,de$1=t$1,le$1=se$1,pe$2=util$2;function he$1(e,t){return ae$1.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fe$1(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,o=ue$1(t.alg),s=function(e,t,r){r=r||"utf8";var n=he$1(le$1(e),"binary"),i=he$1(le$1(t),r);return pe$2.format("%s.%s",n,i)}(t,r,i),a=o.sign(s,n);return pe$2.format("%s.%s",s,a)}function ye$2(e){var t=e.secret||e.privateKey||e.key,r=new ce$1(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new ce$1(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign();}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign();}.bind(this));}pe$2.inherits(ye$2,de$1),ye$2.prototype.sign=function(){try{var e=fe$1({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close");}},ye$2.sign=fe$1;var me$2=ye$2,we$2=y$2.exports.Buffer,ge$2=v$2,ve$2=ie$1,_e$2=t$1,be$2=se$1,Se$2=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function Ee$2(e){if(function(e){return "[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function ke$2(e){var t=e.split(".",1)[0];return Ee$2(we$2.from(t,"base64").toString("binary"))}function Pe$2(e){return e.split(".")[2]}function Ae$2(e){return Se$2.test(e)&&!!ke$2(e)}function je$2(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=Pe$2(e=be$2(e)),o=function(e){return e.split(".",2).join(".")}(e);return ve$2(t).verify(o,i,r)}function Te$2(e,t){if(t=t||{},!Ae$2(e=be$2(e)))return null;var r=ke$2(e);if(!r)return null;var n=function(e,t){t=t||"utf8";var r=e.split(".")[1];return we$2.from(r,"base64").toString(t)}(e);return ("JWT"===r.typ||t.json)&&(n=JSON.parse(n,t.encoding)),{header:r,payload:n,signature:Pe$2(e)}}function Je$2(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new ge$2(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new ge$2(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify();}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify();}.bind(this));}util$2.inherits(Je$2,_e$2),Je$2.prototype.verify=function(){try{var e=je$2(this.signature.buffer,this.algorithm,this.key.buffer),t=Te$2(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close");}},Je$2.decode=Te$2,Je$2.isValid=Ae$2,Je$2.verify=je$2;var Oe$2=me$2,xe$2=Je$2;f$2.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],f$2.sign=Oe$2.sign,f$2.verify=xe$2.verify,f$2.decode=xe$2.decode,f$2.isValid=xe$2.isValid,f$2.createSign=function(e){return new Oe$2(e)},f$2.createVerify=function(e){return new xe$2(e)};var We$2=f$2,Ke$2=function(e,t){t=t||{};var r=We$2.decode(e,t);if(!r)return null;var n=r.payload;if("string"==typeof n)try{var i=JSON.parse(n);null!==i&&"object"==typeof i&&(n=i);}catch(e){}return !0===t.complete?{header:r.header,payload:n,signature:r.signature}:n},Ce$2=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t);};(Ce$2.prototype=Object.create(Error.prototype)).constructor=Ce$2;var Ie$2=Ce$2,He$2=Ie$2,Re$2=function(e,t){He$2.call(this,e),this.name="NotBeforeError",this.date=t;};(Re$2.prototype=Object.create(He$2.prototype)).constructor=Re$2;var Me$2=Re$2,De$2=Ie$2,Ne$2=function(e,t){De$2.call(this,e),this.name="TokenExpiredError",this.expiredAt=t;};(Ne$2.prototype=Object.create(De$2.prototype)).constructor=Ne$2;var $e$2=Ne$2,Be$2=1e3,Ue$2=60*Be$2,Le$2=60*Ue$2,Ve$2=24*Le$2,ze$2=7*Ve$2,Fe$2=365.25*Ve$2;function qe$2(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}var Ge$2=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*Fe$2;case"weeks":case"week":case"w":return r*ze$2;case"days":case"day":case"d":return r*Ve$2;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Le$2;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ue$2;case"seconds":case"second":case"secs":case"sec":case"s":return r*Be$2;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Ve$2)return qe$2(e,t,Ve$2,"day");if(t>=Le$2)return qe$2(e,t,Le$2,"hour");if(t>=Ue$2)return qe$2(e,t,Ue$2,"minute");if(t>=Be$2)return qe$2(e,t,Be$2,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Ve$2)return Math.round(e/Ve$2)+"d";if(t>=Le$2)return Math.round(e/Le$2)+"h";if(t>=Ue$2)return Math.round(e/Ue$2)+"m";if(t>=Be$2)return Math.round(e/Be$2)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},Xe$2=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var n=Ge$2(e);if(void 0===n)return;return Math.floor(r+n/1e3)}return "number"==typeof e?r+e:void 0},Ye$2={exports:{}};!function(e,t){var r;t=Ye$2.exports=z,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e);}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=s++;o[d]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var l=s++;o[l]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var h=s++;o[h]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var y=s++;o[y]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var w=s++;o[w]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var g=s++,v="v?"+o[d]+o[f]+"?"+o[w]+"?";o[g]="^"+v+"$";var _="[v=\\s]*"+o[l]+o[y]+"?"+o[w]+"?",b=s++;o[b]="^"+_+"$";var S=s++;o[S]="((?:<|>)?=?)";var E=s++;o[E]=o[c]+"|x|X|\\*";var k=s++;o[k]=o[a]+"|x|X|\\*";var P=s++;o[P]="[v=\\s]*("+o[k]+")(?:\\.("+o[k]+")(?:\\.("+o[k]+")(?:"+o[f]+")?"+o[w]+"?)?)?";var A=s++;o[A]="[v=\\s]*("+o[E]+")(?:\\.("+o[E]+")(?:\\.("+o[E]+")(?:"+o[y]+")?"+o[w]+"?)?)?";var j=s++;o[j]="^"+o[S]+"\\s*"+o[P]+"$";var T=s++;o[T]="^"+o[S]+"\\s*"+o[A]+"$";var J=s++;o[J]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var x=s++;o[x]="(\\s*)"+o[O]+"\\s+",i[x]=new RegExp(o[x],"g");var W=s++;o[W]="^"+o[O]+o[P]+"$";var K=s++;o[K]="^"+o[O]+o[A]+"$";var C=s++;o[C]="(?:\\^)";var I=s++;o[I]="(\\s*)"+o[C]+"\\s+",i[I]=new RegExp(o[I],"g");var H=s++;o[H]="^"+o[C]+o[P]+"$";var R=s++;o[R]="^"+o[C]+o[A]+"$";var M=s++;o[M]="^"+o[S]+"\\s*("+_+")$|^$";var D=s++;o[D]="^"+o[S]+"\\s*("+v+")$|^$";var N=s++;o[N]="(\\s*)"+o[S]+"\\s*("+_+"|"+o[P]+")",i[N]=new RegExp(o[N],"g");var $=s++;o[$]="^\\s*("+o[P]+")\\s+-\\s+("+o[P]+")\\s*$";var B=s++;o[B]="^\\s*("+o[A]+")\\s+-\\s+("+o[A]+")\\s*$";var U=s++;o[U]="(<|>)?=?\\s*\\*";for(var L=0;L<35;L++)r(L,o[L]),i[L]||(i[L]=new RegExp(o[L]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[b]:i[g]).test(e))return null;try{return new z(e,t)}catch(e){return null}}function z(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z){if(e.loose===t.loose)return e;e=e.version;}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof z))return new z(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[b]:i[g]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format();}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=z,z.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},z.prototype.toString=function(){return this.version},z.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof z||(e=new z(e,this.options)),this.compareMain(e)||this.comparePre(e)},z.prototype.compareMain=function(e){return e instanceof z||(e=new z(e,this.options)),q(this.major,e.major)||q(this.minor,e.minor)||q(this.patch,e.patch)},z.prototype.comparePre=function(e){if(e instanceof z||(e=new z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return -1;if(n!==i)return q(n,i)}while(++t)},z.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else {for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0);}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new z(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=V(e),n=V(t),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease";}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return i+s;return o},t.compareIdentifiers=q;var F=/^[0-9]+$/;function q(e,t){var r=F.test(e),n=F.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function G(e,t,r){return new z(e,r).compare(new z(t,r))}function X(e,t,r){return G(e,t,r)>0}function Y(e,t,r){return G(e,t,r)<0}function Z(e,t,r){return 0===G(e,t,r)}function Q(e,t,r){return 0!==G(e,t,r)}function ee(e,t,r){return G(e,t,r)>=0}function te(e,t,r){return G(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return "object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return "object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Z(e,r,n);case"!=":return Q(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Y(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value;}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this);}t.rcompareIdentifiers=function(e,t){return q(t,e)},t.major=function(e,t){return new z(e,t).major},t.minor=function(e,t){return new z(e,t).minor},t.patch=function(e,t){return new z(e,t).patch},t.compare=G,t.compareLoose=function(e,t){return G(e,t,!0)},t.rcompare=function(e,t,r){return G(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Y,t.eq=Z,t.neq=Q,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof ne)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format();}function se(e){return !e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,r,n,i,o,s,a,c,u,d,l,p){return ((t=se(r)?"":se(n)?">="+r+".0.0":se(i)?">="+r+"."+n+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(d)?"<"+c+"."+(+u+1)+".0":l?"<="+c+"."+u+"."+d+"-"+l:"<="+a)).trim()}function ce(e,t,n){for(var i=0;i<e.length;i++)if(!e[i].test(t))return !1;if(t.prerelease.length&&!n.includePrerelease){for(i=0;i<e.length;i++)if(r(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return !0}return !1}return !0}function ue(e,t,r){try{t=new oe(t,r);}catch(e){return !1}return t.test(e)}function de(e,t,r,n){var i,o,s,a,c;switch(e=new z(e,n),t=new oe(t,n),r){case">":i=X,o=te,s=Y,a=">",c=">=";break;case"<":i=Y,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return !1;for(var u=0;u<t.set.length;++u){var d=t.set[u],l=null,p=null;if(d.forEach((function(e){e.semver===ie&&(e=new ne(">=0.0.0")),l=l||e,p=p||e,i(e.semver,l.semver,n)?l=e:s(e.semver,p.semver,n)&&(p=e);})),l.operator===a||l.operator===c)return !1;if((!p.operator||p.operator===a)&&o(e,p.semver))return !1;if(p.operator===c&&s(e,p.semver))return !1}return !0}ne.prototype.parse=function(e){var t=this.options.loose?i[M]:i[D],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new z(r[2],this.options.loose):this.semver=ie;},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new z(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new oe(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new oe(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[B]:i[$];e=e.replace(n,ae),r("hyphen replace",e),e=e.replace(i[N],"$1$2$3"),r("comparator trim",e,i[N]),e=(e=(e=e.replace(i[x],"$1~")).replace(i[I],"$1^")).split(/\s+/).join(" ");var o=t?i[M]:i[D],s=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[R]:i[H];return e.replace(n,(function(t,n,i,o,s){var a;return r("caret",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===i?">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",a),a}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?i[K]:i[W];return e.replace(n,(function(t,n,i,o,s){var a;return r("tilde",e,t,n,i,o,s),se(n)?a="":se(i)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(o)?a=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+i+"."+o+"-"+s+" <"+n+"."+(+i+1)+".0"):a=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?i[T]:i[j];return e.replace(n,(function(t,n,i,o,s,a){r("xRange",e,t,n,i,o,s,a);var c=se(i),u=c||se(o),d=u||se(s);return "="===n&&d&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&d?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":d&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[U],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return !!e.match(o)}))),s=s.map((function(e){return new ne(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return !1;"string"==typeof e&&(e=new z(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return !0;return !1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r);}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new z(n=e,r)));})),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new oe(t,r);}catch(e){return null}return e.forEach((function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new z(n=e,r)));})),n},t.minVersion=function(e,t){e=new oe(e,t);var r=new z("0.0.0");if(e.test(r))return r;if(r=new z("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new z(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return de(e,t,"<",r)},t.gtr=function(e,t,r){return de(e,t,">",r)},t.outside=de,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new oe(e,r),t=new oe(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof z)return e;if("string"!=typeof e)return null;var t=e.match(i[J]);if(null==t)return null;return V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))};}(0,Ye$2.exports);var Ze$2=Ye$2.exports.satisfies(process.version,"^6.12.0 || >=8.0.0"),Qe$2=Ie$2,et$2=Me$2,tt$2=$e$2,rt$1=Ke$2,nt$1=Xe$2,it$1=f$2,ot$1=["RS256","RS384","RS512","ES256","ES384","ES512"],st$1=["RS256","RS384","RS512"],at$1=["HS256","HS384","HS512"];Ze$2&&(ot$1.splice(3,0,"PS256","PS384","PS512"),st$1.splice(3,0,"PS256","PS384","PS512"));var ct$1=17976931348623157e292,ut$1="[object GeneratorFunction]",dt$1=/^\s+|\s+$/g,lt$1=/^[-+]0x[0-9a-f]+$/i,pt$1=/^0b[01]+$/i,ht$1=/^0o[0-7]+$/i,ft$1=/^(?:0|[1-9]\d*)$/,yt$2=parseInt;function mt$1(e){return e!=e}function wt$2(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(t,(function(t){return e[t]}))}var gt$1,vt$1,_t$2=Object.prototype,bt$2=_t$2.hasOwnProperty,St$1=_t$2.toString,Et$1=_t$2.propertyIsEnumerable,kt$1=(gt$1=Object.keys,vt$1=Object,function(e){return gt$1(vt$1(e))}),Pt$2=Math.max;function At$1(e,t){var r=Jt$2(e)||function(e){return function(e){return Wt$2(e)&&Ot$1(e)}(e)&&bt$2.call(e,"callee")&&(!Et$1.call(e,"callee")||"[object Arguments]"==St$1.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!bt$2.call(e,o)||i&&("length"==o||Tt$1(o,n))||r.push(o);return r}function jt$1(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||_t$2,t!==n)return kt$1(e);var t,r,n,i=[];for(var o in Object(e))bt$2.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Tt$1(e,t){return !!(t=null==t?9007199254740991:t)&&("number"==typeof e||ft$1.test(e))&&e>-1&&e%1==0&&e<t}var Jt$2=Array.isArray;function Ot$1(e){return null!=e&&function(e){return "number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=xt$1(e)?St$1.call(e):"";return "[object Function]"==t||t==ut$1}(e)}function xt$1(e){var t=typeof e;return !!e&&("object"==t||"function"==t)}function Wt$2(e){return !!e&&"object"==typeof e}var Kt$2=function(e,t,r,n){var i;e=Ot$1(e)?e:(i=e)?wt$2(i,function(e){return Ot$1(e)?At$1(e):jt$1(e)}(i)):[],r=r&&!n?function(e){var t=function(e){if(!e)return 0===e?e:0;if(Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return "symbol"==typeof e||Wt$2(e)&&"[object Symbol]"==St$1.call(e)}(e))return NaN;if(xt$1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=xt$1(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(dt$1,"");var r=pt$1.test(e);return r||ht$1.test(e)?yt$2(e.slice(2),r?2:8):lt$1.test(e)?NaN:+e}(e))||-Infinity===e){return (e<0?-1:1)*ct$1}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(r):0;var o=e.length;return r<0&&(r=Pt$2(o+r,0)),function(e){return "string"==typeof e||!Jt$2(e)&&Wt$2(e)&&"[object String]"==St$1.call(e)}(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return -1}(e,mt$1,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r)>-1},Ct$1=Object.prototype.toString;var It$2=function(e){return !0===e||!1===e||function(e){return !!e&&"object"==typeof e}(e)&&"[object Boolean]"==Ct$1.call(e)},Ht$1=17976931348623157e292,Rt$1=/^\s+|\s+$/g,Mt$1=/^[-+]0x[0-9a-f]+$/i,Dt$1=/^0b[01]+$/i,Nt$1=/^0o[0-7]+$/i,$t$1=parseInt,Bt$1=Object.prototype.toString;function Ut$1(e){var t=typeof e;return !!e&&("object"==t||"function"==t)}var Lt$1=function(e){return "number"==typeof e&&e==function(e){var t=function(e){if(!e)return 0===e?e:0;if(Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return "symbol"==typeof e||function(e){return !!e&&"object"==typeof e}(e)&&"[object Symbol]"==Bt$1.call(e)}(e))return NaN;if(Ut$1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ut$1(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Rt$1,"");var r=Dt$1.test(e);return r||Nt$1.test(e)?$t$1(e.slice(2),r?2:8):Mt$1.test(e)?NaN:+e}(e))||-Infinity===e){return (e<0?-1:1)*Ht$1}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(e)},Vt$1=Object.prototype.toString;var zt$2=function(e){return "number"==typeof e||function(e){return !!e&&"object"==typeof e}(e)&&"[object Number]"==Vt$1.call(e)};var Ft$1=Function.prototype,qt$1=Object.prototype,Gt$1=Ft$1.toString,Xt$1=qt$1.hasOwnProperty,Yt$1=Gt$1.call(Object),Zt$1=qt$1.toString,Qt$1=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var er$2=function(e){if(!function(e){return !!e&&"object"==typeof e}(e)||"[object Object]"!=Zt$1.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"");}catch(e){}return t}(e))return !1;var t=Qt$1(e);if(null===t)return !0;var r=Xt$1.call(t,"constructor")&&t.constructor;return "function"==typeof r&&r instanceof r&&Gt$1.call(r)==Yt$1},tr$2=Object.prototype.toString,rr$2=Array.isArray;var nr$2=function(e){return "string"==typeof e||!rr$2(e)&&function(e){return !!e&&"object"==typeof e}(e)&&"[object String]"==tr$2.call(e)},ir$2=17976931348623157e292,or$2=/^\s+|\s+$/g,sr$2=/^[-+]0x[0-9a-f]+$/i,ar$2=/^0b[01]+$/i,cr$2=/^0o[0-7]+$/i,ur$2=parseInt,dr$2=Object.prototype.toString;function lr$2(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if(Infinity===(e=function(e){if("number"==typeof e)return e;if(function(e){return "symbol"==typeof e||function(e){return !!e&&"object"==typeof e}(e)&&"[object Symbol]"==dr$2.call(e)}(e))return NaN;if(pr$2(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=pr$2(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(or$2,"");var r=ar$2.test(e);return r||cr$2.test(e)?ur$2(e.slice(2),r?2:8):sr$2.test(e)?NaN:+e}(e))||-Infinity===e){return (e<0?-1:1)*ir$2}return e==e?e:0}(e),r=t%1;return t==t?r?t-r:t:0}(e),function(){return --e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}function pr$2(e){var t=typeof e;return !!e&&("object"==t||"function"==t)}var hr$2=function(e){return lr$2(2,e)},fr$2=Xe$2,yr$2=f$2,mr$2=Kt$2,wr$2=It$2,gr$2=Lt$1,vr$2=zt$2,_r$2=er$2,br$2=nr$2,Sr$2=hr$2,Er$2=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];Ze$2&&Er$2.splice(3,0,"PS256","PS384","PS512");var kr$2={expiresIn:{isValid:function(e){return gr$2(e)||br$2(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return gr$2(e)||br$2(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return br$2(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:mr$2.bind(null,Er$2),message:'"algorithm" must be a valid string enum value'},header:{isValid:_r$2,message:'"header" must be an object'},encoding:{isValid:br$2,message:'"encoding" must be a string'},issuer:{isValid:br$2,message:'"issuer" must be a string'},subject:{isValid:br$2,message:'"subject" must be a string'},jwtid:{isValid:br$2,message:'"jwtid" must be a string'},noTimestamp:{isValid:wr$2,message:'"noTimestamp" must be a boolean'},keyid:{isValid:br$2,message:'"keyid" must be a string'},mutatePayload:{isValid:wr$2,message:'"mutatePayload" must be a boolean'}},Pr$2={iat:{isValid:vr$2,message:'"iat" should be a number of seconds'},exp:{isValid:vr$2,message:'"exp" should be a number of seconds'},nbf:{isValid:vr$2,message:'"nbf" should be a number of seconds'}};function Ar$2(e,t,r,n){if(!_r$2(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(i){var o=e[i];if(o){if(!o.isValid(r[i]))throw new Error(o.message)}else if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"')}));}var jr$2={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},Tr$2=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"],Jr$2=function(e,t,r,n){var i;if("function"!=typeof r||n||(n=r,r={}),r||(r={}),r=Object.assign({},r),i=n||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return i(new Qe$2("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return i(new Qe$2("nonce must be a non-empty string"));var o=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return i(new Qe$2("jwt must be provided"));if("string"!=typeof e)return i(new Qe$2("jwt must be a string"));var s,a=e.split(".");if(3!==a.length)return i(new Qe$2("jwt malformed"));try{s=rt$1(e,{complete:!0});}catch(e){return i(e)}if(!s)return i(new Qe$2("invalid token"));var c,u=s.header;if("function"==typeof t){if(!n)return i(new Qe$2("verify must be called asynchronous if secret or public key is provided as a callback"));c=t;}else c=function(e,r){return r(null,t)};return c(u,(function(t,n){if(t)return i(new Qe$2("error in secret or public key callback: "+t.message));var c,d=""!==a[2].trim();if(!d&&n)return i(new Qe$2("jwt signature is required"));if(d&&!n)return i(new Qe$2("secret or public key must be provided"));if(d||r.algorithms||(r.algorithms=["none"]),r.algorithms||(r.algorithms=~n.toString().indexOf("BEGIN CERTIFICATE")||~n.toString().indexOf("BEGIN PUBLIC KEY")?ot$1:~n.toString().indexOf("BEGIN RSA PUBLIC KEY")?st$1:at$1),!~r.algorithms.indexOf(s.header.alg))return i(new Qe$2("invalid algorithm"));try{c=it$1.verify(e,s.header.alg,n);}catch(e){return i(e)}if(!c)return i(new Qe$2("invalid signature"));var l=s.payload;if(void 0!==l.nbf&&!r.ignoreNotBefore){if("number"!=typeof l.nbf)return i(new Qe$2("invalid nbf value"));if(l.nbf>o+(r.clockTolerance||0))return i(new et$2("jwt not active",new Date(1e3*l.nbf)))}if(void 0!==l.exp&&!r.ignoreExpiration){if("number"!=typeof l.exp)return i(new Qe$2("invalid exp value"));if(o>=l.exp+(r.clockTolerance||0))return i(new tt$2("jwt expired",new Date(1e3*l.exp)))}if(r.audience){var p=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(l.aud)?l.aud:[l.aud]).some((function(e){return p.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return i(new Qe$2("jwt audience invalid. expected: "+p.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&l.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(l.iss)))return i(new Qe$2("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&l.sub!==r.subject)return i(new Qe$2("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&l.jti!==r.jwtid)return i(new Qe$2("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&l.nonce!==r.nonce)return i(new Qe$2("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof l.iat)return i(new Qe$2("iat required when maxAge is specified"));var h=nt$1(r.maxAge,l.iat);if(void 0===h)return i(new Qe$2('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(o>=h+(r.clockTolerance||0))return i(new tt$2("maxAge exceeded",new Date(1e3*h)))}if(!0===r.complete){var f=s.signature;return i(null,{header:u,payload:l,signature:f})}return i(null,l)}))},Or$2=function(e,t,r,n){"function"==typeof r?(n=r,r={}):r=r||{};var i="object"==typeof e&&!Buffer.isBuffer(e),o=Object.assign({alg:r.algorithm||"HS256",typ:i?"JWT":void 0,kid:r.keyid},r.header);function s(e){if(n)return n(e);throw e}if(!t&&"none"!==r.algorithm)return s(new Error("secretOrPrivateKey must have a value"));if(void 0===e)return s(new Error("payload is required"));if(i){try{!function(e){Ar$2(Pr$2,!0,e,"payload");}(e);}catch(e){return s(e)}r.mutatePayload||(e=Object.assign({},e));}else {var a=Tr$2.filter((function(e){return void 0!==r[e]}));if(a.length>0)return s(new Error("invalid "+a.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return s(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return s(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){Ar$2(kr$2,!1,e,"options");}(r);}catch(e){return s(e)}var c=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:i&&(e.iat=c),void 0!==r.notBefore){try{e.nbf=fr$2(r.notBefore,c);}catch(e){return s(e)}if(void 0===e.nbf)return s(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=fr$2(r.expiresIn,c);}catch(e){return s(e)}if(void 0===e.exp)return s(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(jr$2).forEach((function(t){var n=jr$2[t];if(void 0!==r[t]){if(void 0!==e[n])return s(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t];}}));var u=r.encoding||"utf8";if("function"!=typeof n)return yr$2.sign({header:o,payload:e,secret:t,encoding:u});n=n&&Sr$2(n),yr$2.createSign({header:o,privateKey:t,payload:e,encoding:u}).once("error",n).once("done",(function(e){n(null,e);}));};const{format:xr$2}=util$2;class Wr$2 extends Error{constructor({error_description:e,error:t,error_uri:r,session_state:n,state:i,scope:o},s){super(e?`${t} (${e})`:t),Object.assign(this,{error:t},e&&{error_description:e},r&&{error_uri:r},i&&{state:i},o&&{scope:o},n&&{session_state:n}),s&&Object.defineProperty(this,"response",{value:s}),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor);}}class Kr$2 extends Error{constructor(...e){if("string"==typeof e[0])super(xr$2(...e));else {const{message:t,printf:r,response:n,...i}=e[0];super(r?xr$2(...r):t),Object.assign(this,i),n&&Object.defineProperty(this,"response",{value:n});}this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor);}}var Cr$2={OPError:Wr$2,RPError:Kr$2},Ir$2={exports:{}},Hr$2={},Rr$2={},Mr$2={},Dr$2={},Nr$2={},$r$2={};Object.defineProperty($r$2,"__esModule",{value:!0});const Br$2=n;$r$2.default=(e,t)=>(0, Br$2.createHash)(e).update(t).digest(),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.concatKdf=e.lengthAndInput=e.uint32be=e.uint64be=e.p2s=e.concat=e.decoder=e.encoder=void 0;const t=$r$2;e.encoder=new TextEncoder,e.decoder=new TextDecoder;const r=2**32;function n(...e){const t=e.reduce(((e,{length:t})=>e+t),0),r=new Uint8Array(t);let n=0;return e.forEach((e=>{r.set(e,n),n+=e.length;})),r}function i(e,t,n){if(t<0||t>=r)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n);}function o(e){const t=new Uint8Array(4);return i(t,e),t}e.concat=n,e.p2s=function(t,r){return n(e.encoder.encode(t),new Uint8Array([0]),r)},e.uint64be=function(e){const t=Math.floor(e/r),n=e%r,o=new Uint8Array(8);return i(o,t,0),i(o,n,4),o},e.uint32be=o,e.lengthAndInput=function(e){return n(o(e.length),e)},e.concatKdf=async function(e,r,n){const i=Math.ceil((r>>3)/32),s=new Uint8Array(32*i);for(let r=0;r<i;r++){const i=new Uint8Array(4+e.length+n.length);i.set(o(r+1)),i.set(e,4),i.set(n,4+e.length),s.set(await(0, t.default)("sha256",i),32*r);}return s.slice(0,r>>3)};}(Nr$2),Object.defineProperty(Dr$2,"__esModule",{value:!0}),Dr$2.decode=Dr$2.encode=Dr$2.encodeBase64=Dr$2.decodeBase64=void 0;const Ur$2=buffer,Lr$2=Nr$2;let Vr$2;Dr$2.encode=Vr$2,Ur$2.Buffer.isEncoding("base64url")?Dr$2.encode=Vr$2=e=>Ur$2.Buffer.from(e).toString("base64url"):Dr$2.encode=Vr$2=e=>Ur$2.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");Dr$2.decodeBase64=e=>Ur$2.Buffer.from(e,"base64");Dr$2.encodeBase64=e=>Ur$2.Buffer.from(e).toString("base64");Dr$2.decode=e=>Ur$2.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=Lr$2.decoder.decode(t)),t}(e),"base64");var zr$2={},Fr$2={},qr$2={};Object.defineProperty(qr$2,"__esModule",{value:!0}),qr$2.JWSSignatureVerificationFailed=qr$2.JWKSTimeout=qr$2.JWKSMultipleMatchingKeys=qr$2.JWKSNoMatchingKey=qr$2.JWKSInvalid=qr$2.JWKInvalid=qr$2.JWTInvalid=qr$2.JWSInvalid=qr$2.JWEInvalid=qr$2.JWEDecryptionFailed=qr$2.JOSENotSupported=qr$2.JOSEAlgNotAllowed=qr$2.JWTExpired=qr$2.JWTClaimValidationFailed=qr$2.JOSEError=void 0;class Gr$2 extends Error{constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor);}static get code(){return "ERR_JOSE_GENERIC"}}qr$2.JOSEError=Gr$2;qr$2.JWTClaimValidationFailed=class extends Gr$2{constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r;}static get code(){return "ERR_JWT_CLAIM_VALIDATION_FAILED"}};qr$2.JWTExpired=class extends Gr$2{constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r;}static get code(){return "ERR_JWT_EXPIRED"}};qr$2.JOSEAlgNotAllowed=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED";}static get code(){return "ERR_JOSE_ALG_NOT_ALLOWED"}};qr$2.JOSENotSupported=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED";}static get code(){return "ERR_JOSE_NOT_SUPPORTED"}};qr$2.JWEDecryptionFailed=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed";}static get code(){return "ERR_JWE_DECRYPTION_FAILED"}};qr$2.JWEInvalid=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWE_INVALID";}static get code(){return "ERR_JWE_INVALID"}};qr$2.JWSInvalid=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWS_INVALID";}static get code(){return "ERR_JWS_INVALID"}};qr$2.JWTInvalid=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWT_INVALID";}static get code(){return "ERR_JWT_INVALID"}};qr$2.JWKInvalid=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWK_INVALID";}static get code(){return "ERR_JWK_INVALID"}};qr$2.JWKSInvalid=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID";}static get code(){return "ERR_JWKS_INVALID"}};qr$2.JWKSNoMatchingKey=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set";}static get code(){return "ERR_JWKS_NO_MATCHING_KEY"}};qr$2.JWKSMultipleMatchingKeys=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set";}static get code(){return "ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};qr$2.JWKSTimeout=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out";}static get code(){return "ERR_JWKS_TIMEOUT"}};qr$2.JWSSignatureVerificationFailed=class extends Gr$2{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed";}static get code(){return "ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}};var Xr$2={},Yr$2={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.randomFillSync}});}(Yr$2),Object.defineProperty(Xr$2,"__esModule",{value:!0}),Xr$2.bitLength=void 0;const Zr$2=qr$2,Qr$2=Yr$2;function en$2(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Zr$2.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}Xr$2.bitLength=en$2,Xr$2.default=e=>(0, Qr$2.default)(new Uint8Array(en$2(e)>>3)),Object.defineProperty(Fr$2,"__esModule",{value:!0});const tn$2=qr$2,rn$2=Xr$2;Fr$2.default=(e,t)=>{if(t.length<<3!==(0, rn$2.bitLength)(e))throw new tn$2.JWEInvalid("Invalid Initialization Vector length")};var nn$2={},on$2={};Object.defineProperty(on$2,"__esModule",{value:!0});const sn$2=n,an$2=util$2;on$2.default=an$2.types.isKeyObject?e=>an$2.types.isKeyObject(e):e=>null!=e&&e instanceof sn$2.KeyObject,Object.defineProperty(nn$2,"__esModule",{value:!0});const cn$2=qr$2,un$2=on$2;nn$2.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new cn$2.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){if(t.length<<3!==r)throw new cn$2.JWEInvalid("Invalid Content Encryption Key length")}else {if(!(0, un$2.default)(t)||"secret"!==t.type)throw new TypeError("Invalid Content Encryption Key type");if(t.symmetricKeySize<<3!==r)throw new cn$2.JWEInvalid("Invalid Content Encryption Key length")}};var dn$2={};Object.defineProperty(dn$2,"__esModule",{value:!0});const ln$2=n.timingSafeEqual;dn$2.default=ln$2;var pn$2={};Object.defineProperty(pn$2,"__esModule",{value:!0});const hn$2=n,fn$2=Nr$2;pn$2.default=function(e,t,r,n,i,o){const s=(0, fn$2.concat)(e,t,r,(0, fn$2.uint64be)(e.length<<3)),a=(0, hn$2.createHmac)(`sha${n}`,i);return a.update(s),a.digest().slice(0,o>>3)};var yn$2={};Object.defineProperty(yn$2,"__esModule",{value:!0}),yn$2.isCryptoKey=void 0;const mn$2=util$2,wn$2=n.webcrypto;yn$2.default=wn$2,yn$2.isCryptoKey=mn$2.types.isCryptoKey?e=>mn$2.types.isCryptoKey(e):e=>!1;var gn$2={},vn$2={};Object.defineProperty(vn$2,"__esModule",{value:!0}),vn$2.isNodeJs=vn$2.isCloudflareWorkers=void 0,vn$2.isCloudflareWorkers=function(){return !1},vn$2.isNodeJs=function(){return !0},Object.defineProperty(gn$2,"__esModule",{value:!0}),gn$2.checkEncCryptoKey=gn$2.checkSigCryptoKey=void 0;const _n$2=vn$2;function bn$2(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Sn$2(e,t){return e.name===t}function En$2(e){return parseInt(e.name.slice(4),10)}function kn$2(e,t){if(t.length&&!t.some((t=>e.usages.includes(t)))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`;}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw new TypeError(e)}}gn$2.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!Sn$2(e.algorithm,"HMAC"))throw bn$2("HMAC");const r=parseInt(t.slice(2),10);if(En$2(e.algorithm.hash)!==r)throw bn$2(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Sn$2(e.algorithm,"RSASSA-PKCS1-v1_5"))throw bn$2("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(En$2(e.algorithm.hash)!==r)throw bn$2(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Sn$2(e.algorithm,"RSA-PSS"))throw bn$2("RSA-PSS");const r=parseInt(t.slice(2),10);if(En$2(e.algorithm.hash)!==r)throw bn$2(`SHA-${r}`,"algorithm.hash");break}case(0, _n$2.isNodeJs)()&&"EdDSA":if("NODE-ED25519"!==e.algorithm.name&&"NODE-ED448"!==e.algorithm.name)throw bn$2("NODE-ED25519 or NODE-ED448");break;case(0, _n$2.isCloudflareWorkers)()&&"EdDSA":if(!Sn$2(e.algorithm,"NODE-ED25519"))throw bn$2("NODE-ED25519");break;case"ES256":case"ES384":case"ES512":{if(!Sn$2(e.algorithm,"ECDSA"))throw bn$2("ECDSA");const r=function(e){switch(e){case"ES256":return "P-256";case"ES384":return "P-384";case"ES512":return "P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw bn$2(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}kn$2(e,r);},gn$2.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Sn$2(e.algorithm,"AES-GCM"))throw bn$2("AES-GCM");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw bn$2(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Sn$2(e.algorithm,"AES-KW"))throw bn$2("AES-KW");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw bn$2(r,"algorithm.length");break}case"ECDH":if(!Sn$2(e.algorithm,"ECDH"))throw bn$2("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Sn$2(e.algorithm,"PBKDF2"))throw bn$2("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Sn$2(e.algorithm,"RSA-OAEP"))throw bn$2("RSA-OAEP");const r=parseInt(t.slice(9),10)||1;if(En$2(e.algorithm.hash)!==r)throw bn$2(`SHA-${r}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}kn$2(e,r);};var Pn$2={};Object.defineProperty(Pn$2,"__esModule",{value:!0}),Pn$2.default=(e,...t)=>{let r="Key must be ";if(t.length>2){const e=t.pop();r+=`one of type ${t.join(", ")}, or ${e}.`;}else 2===t.length?r+=`one of type ${t[0]} or ${t[1]}.`:r+=`of type ${t[0]}.`;return null==e?r+=` Received ${e}`:"function"==typeof e&&e.name?r+=` Received function ${e.name}`:"object"==typeof e&&null!=e&&e.constructor&&e.constructor.name&&(r+=` Received an instance of ${e.constructor.name}`),r};var An$2={};Object.defineProperty(An$2,"__esModule",{value:!0});const jn$2=n;let Tn$2;An$2.default=e=>(Tn$2||(Tn$2=new Set((0, jn$2.getCiphers)())),Tn$2.has(e));var Jn$2={};Object.defineProperty(Jn$2,"__esModule",{value:!0}),Jn$2.types=void 0;const On$2=yn$2,xn$2=on$2;Jn$2.default=e=>(0, xn$2.default)(e)||(0, On$2.isCryptoKey)(e);const Wn$2=["KeyObject"];Jn$2.types=Wn$2,parseInt(process.versions.node)>=16&&Wn$2.push("CryptoKey"),Object.defineProperty(zr$2,"__esModule",{value:!0});const Kn$2=n,Cn$2=Fr$2,In$2=nn$2,Hn$2=Nr$2,Rn$2=qr$2,Mn$2=dn$2,Dn$2=pn$2,Nn$2=yn$2,$n$2=gn$2,Bn$2=on$2,Un$2=Pn$2,Ln$2=An$2,Vn$2=Jn$2;zr$2.default=(e,t,r,n,i,o)=>{let s;if((0, Nn$2.isCryptoKey)(t))(0, $n$2.checkEncCryptoKey)(t,e,"decrypt"),s=Kn$2.KeyObject.from(t);else {if(!(t instanceof Uint8Array||(0, Bn$2.default)(t)))throw new TypeError((0, Un$2.default)(t,...Vn$2.types,"Uint8Array"));s=t;}switch((0, In$2.default)(e,s),(0, Cn$2.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i,o){const s=parseInt(e.slice(1,4),10);(0, Bn$2.default)(t)&&(t=t.export());const a=t.subarray(s>>3),c=t.subarray(0,s>>3),u=parseInt(e.slice(-3),10),d=`aes-${s}-cbc`;if(!(0, Ln$2.default)(d))throw new Rn$2.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const l=(0, Dn$2.default)(o,n,r,u,c,s);let p,h;try{p=(0,Mn$2.default)(i,l);}catch{}if(!p)throw new Rn$2.JWEDecryptionFailed;try{const e=(0,Kn$2.createDecipheriv)(d,a,n);h=(0,Hn$2.concat)(e.update(r),e.final());}catch{}if(!h)throw new Rn$2.JWEDecryptionFailed;return h}(e,s,r,n,i,o);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i,o){const s=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0, Ln$2.default)(s))throw new Rn$2.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{const e=(0,Kn$2.createDecipheriv)(s,t,n,{authTagLength:16});e.setAuthTag(i),o.byteLength&&e.setAAD(o,{plaintextLength:r.length});const a=e.update(r);return e.final(),a}catch{throw new Rn$2.JWEDecryptionFailed}}(e,s,r,n,i,o);default:throw new Rn$2.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};var zn$2={};Object.defineProperty(zn$2,"__esModule",{value:!0}),zn$2.deflate=zn$2.inflate=void 0;const Fn$2=util$2,qn$2=c$2,Gn$2=(0, Fn$2.promisify)(qn$2.inflateRaw),Xn$2=(0, Fn$2.promisify)(qn$2.deflateRaw);zn$2.inflate=e=>Gn$2(e);zn$2.deflate=e=>Xn$2(e);var Yn$1={};Object.defineProperty(Yn$1,"__esModule",{value:!0});Yn$1.default=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return !0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return !1;r.add(e);}else r=new Set(t);}return !0};var Zn$2={};Object.defineProperty(Zn$2,"__esModule",{value:!0}),Zn$2.default=function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return !1;var t;if(null===Object.getPrototypeOf(e))return !0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r};var Qn$1={},ei$1={};Object.defineProperty(ei$1,"__esModule",{value:!0}),ei$1.unwrap=ei$1.wrap=void 0;const ti$1=buffer,ri$1=n,ni$1=qr$2,ii$1=Nr$2,oi$2=yn$2,si$1=gn$2,ai$1=on$2,ci$1=Pn$2,ui$1=An$2,di$1=Jn$2;function li$1(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${t}`)}function pi$1(e,t,r){if((0, ai$1.default)(e))return e;if(e instanceof Uint8Array)return (0, ri$1.createSecretKey)(e);if((0, oi$2.isCryptoKey)(e))return (0, si$1.checkEncCryptoKey)(e,t,r),ri$1.KeyObject.from(e);throw new TypeError((0, ci$1.default)(e,...di$1.types,"Uint8Array"))}ei$1.wrap=(e,t,r)=>{const n=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0, ui$1.default)(n))throw new ni$1.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const i=pi$1(t,e,"wrapKey");li$1(i,e);const o=(0, ri$1.createCipheriv)(n,i,ti$1.Buffer.alloc(8,166));return (0, ii$1.concat)(o.update(r),o.final())};ei$1.unwrap=(e,t,r)=>{const n=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0, ui$1.default)(n))throw new ni$1.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const i=pi$1(t,e,"unwrapKey");li$1(i,e);const o=(0, ri$1.createDecipheriv)(n,i,ti$1.Buffer.alloc(8,166));return (0, ii$1.concat)(o.update(r),o.final())};var hi$1={},fi$1={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.setCurve=t.weakMap=void 0;const r=buffer,i=n,o=qr$2,s=yn$2,a=on$2,c=Pn$2,u=Jn$2,d=r.Buffer.from([42,134,72,206,61,3,1,7]),l=r.Buffer.from([43,129,4,0,34]),p=r.Buffer.from([43,129,4,0,35]),h=r.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;const f=(e,r)=>{var n;let y;if((0, s.isCryptoKey)(e))y=i.KeyObject.from(e);else {if(!(0, a.default)(e))throw new TypeError((0, c.default)(e,...u.types));y=e;}if("secret"===y.type)throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(y.asymmetricKeyType){case"ed25519":case"ed448":return `Ed${y.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return `X${y.asymmetricKeyType.slice(1)}`;case"ec":{if(t.weakMap.has(y))return t.weakMap.get(y);let e=null===(n=y.asymmetricKeyDetails)||void 0===n?void 0:n.namedCurve;if(e||"private"!==y.type){if(!e){const t=y.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],i=t.slice(r+1,r+1+n);if(i.equals(d))e="prime256v1";else if(i.equals(l))e="secp384r1";else if(i.equals(p))e="secp521r1";else {if(!i.equals(h))throw new o.JOSENotSupported("Unsupported key curve for this operation");e="secp256k1";}}}else e=f((0, i.createPublicKey)(y),!0);if(r)return e;const s=(e=>{switch(e){case"prime256v1":return "P-256";case"secp384r1":return "P-384";case"secp521r1":return "P-521";case"secp256k1":return "secp256k1";default:throw new o.JOSENotSupported("Unsupported key curve for this operation")}})(e);return t.weakMap.set(y,s),s}default:throw new TypeError("Invalid asymmetric key type for this operation")}};t.setCurve=function(e,r){t.weakMap.set(e,r);},t.default=f;}(fi$1),Object.defineProperty(hi$1,"__esModule",{value:!0}),hi$1.ecdhAllowed=hi$1.generateEpk=hi$1.deriveKey=void 0;const yi$1=n,mi$1=fi$1,wi$1=Nr$2,gi$1=qr$2,vi$2=yn$2,_i$2=gn$2,bi$1=on$2,Si$1=Pn$2,Ei$2=Jn$2,ki$2=(0, util$2.promisify)(yi$1.generateKeyPair);hi$1.deriveKey=async function(e,t,r,n,i=new Uint8Array(0),o=new Uint8Array(0)){let s,a;if((0, vi$2.isCryptoKey)(e))(0, _i$2.checkEncCryptoKey)(e,"ECDH"),s=yi$1.KeyObject.from(e);else {if(!(0, bi$1.default)(e))throw new TypeError((0, Si$1.default)(e,...Ei$2.types));s=e;}if((0, vi$2.isCryptoKey)(t))(0, _i$2.checkEncCryptoKey)(t,"ECDH","deriveBits"),a=yi$1.KeyObject.from(t);else {if(!(0, bi$1.default)(t))throw new TypeError((0, Si$1.default)(t,...Ei$2.types));a=t;}const c=(0, wi$1.concat)((0, wi$1.lengthAndInput)(wi$1.encoder.encode(r)),(0, wi$1.lengthAndInput)(i),(0, wi$1.lengthAndInput)(o),(0, wi$1.uint32be)(n)),u=(0, yi$1.diffieHellman)({privateKey:a,publicKey:s});return (0, wi$1.concatKdf)(u,n,c)},hi$1.generateEpk=async function(e){let t;if((0, vi$2.isCryptoKey)(e))t=yi$1.KeyObject.from(e);else {if(!(0, bi$1.default)(e))throw new TypeError((0, Si$1.default)(e,...Ei$2.types));t=e;}switch(t.asymmetricKeyType){case"x25519":return ki$2("x25519");case"x448":return ki$2("x448");case"ec":{const e=(0, mi$1.default)(t);return ki$2("ec",{namedCurve:e})}default:throw new gi$1.JOSENotSupported("Invalid or unsupported EPK")}};hi$1.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0, mi$1.default)(e));var Pi$1={},Ai$2={};Object.defineProperty(Ai$2,"__esModule",{value:!0});const ji$1=qr$2;Ai$2.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new ji$1.JWEInvalid("PBES2 Salt Input must be 8 or more octets")},Object.defineProperty(Pi$1,"__esModule",{value:!0}),Pi$1.decrypt=Pi$1.encrypt=void 0;const Ti$1=n,Ji$1=Yr$2,Oi$1=Nr$2,xi$1=Dr$2,Wi$1=ei$1,Ki$2=Ai$2,Ci$1=yn$2,Ii$1=gn$2,Hi$1=on$2,Ri$1=Pn$2,Mi$2=Jn$2,Di$2=(0, util$2.promisify)(Ti$1.pbkdf2);function Ni$1(e,t){if((0, Hi$1.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0, Ci$1.isCryptoKey)(e))return (0, Ii$1.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),Ti$1.KeyObject.from(e).export();throw new TypeError((0, Ri$1.default)(e,...Mi$2.types,"Uint8Array"))}Pi$1.encrypt=async(e,t,r,n=2048,i=(0, Ji$1.default)(new Uint8Array(16)))=>{(0, Ki$2.default)(i);const o=(0, Oi$1.p2s)(e,i),s=parseInt(e.slice(13,16),10)>>3,a=Ni$1(t,e),c=await Di$2(a,o,n,s,`sha${e.slice(8,11)}`);return {encryptedKey:await(0, Wi$1.wrap)(e.slice(-6),c,r),p2c:n,p2s:(0, xi$1.encode)(i)}};Pi$1.decrypt=async(e,t,r,n,i)=>{(0, Ki$2.default)(i);const o=(0, Oi$1.p2s)(e,i),s=parseInt(e.slice(13,16),10)>>3,a=Ni$1(t,e),c=await Di$2(a,o,n,s,`sha${e.slice(8,11)}`);return (0, Wi$1.unwrap)(e.slice(-6),c,r)};var $i$1={},Bi$1={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setModulusLength=e.weakMap=void 0,e.weakMap=new WeakMap;const t=(e,r)=>{let n=e.readUInt8(1);if(0==(128&n))return 0===r?n:t(e.subarray(2+n),r-1);const i=127&n;n=0;for(let t=0;t<i;t++){n<<=8;n|=e.readUInt8(2+t);}return 0===r?n:t(e.subarray(2+n),r-1)},r=r=>{var n,i;if(e.weakMap.has(r))return e.weakMap.get(r);const o=null!==(i=null===(n=r.asymmetricKeyDetails)||void 0===n?void 0:n.modulusLength)&&void 0!==i?i:((e,r)=>{const n=e.readUInt8(1);if(0==(128&n))return t(e.subarray(2),r);const i=127&n;return t(e.subarray(2+i),r)})(r.export({format:"der",type:"pkcs1"}),"private"===r.type?1:0)-1<<3;return e.weakMap.set(r,o),o};e.setModulusLength=(t,r)=>{e.weakMap.set(t,r);},e.default=(e,t)=>{if(r(e)<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)};}(Bi$1),Object.defineProperty($i$1,"__esModule",{value:!0}),$i$1.decrypt=$i$1.encrypt=void 0;const Ui$2=n,Li$2=Bi$1,Vi$1=yn$2,zi$1=gn$2,Fi$1=on$2,qi$2=Pn$2,Gi$1=Jn$2,Xi$1=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0, Li$2.default)(e,t);},Yi$1=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return Ui$2.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return Ui$2.constants.RSA_PKCS1_PADDING;default:return}},Zi$1=e=>{switch(e){case"RSA-OAEP":return "sha1";case"RSA-OAEP-256":return "sha256";case"RSA-OAEP-384":return "sha384";case"RSA-OAEP-512":return "sha512";default:return}};function Qi$1(e,t,...r){if((0, Fi$1.default)(e))return e;if((0, Vi$1.isCryptoKey)(e))return (0, zi$1.checkEncCryptoKey)(e,t,...r),Ui$2.KeyObject.from(e);throw new TypeError((0, qi$2.default)(e,...Gi$1.types))}$i$1.encrypt=(e,t,r)=>{const n=Yi$1(e),i=Zi$1(e),o=Qi$1(t,e,"wrapKey","encrypt");return Xi$1(o,e),(0, Ui$2.publicEncrypt)({key:o,oaepHash:i,padding:n},r)};$i$1.decrypt=(e,t,r)=>{const n=Yi$1(e),i=Zi$1(e),o=Qi$1(t,e,"unwrapKey","decrypt");return Xi$1(o,e),(0, Ui$2.privateDecrypt)({key:o,oaepHash:i,padding:n},r)};var eo$1={};Object.defineProperty(eo$1,"__esModule",{value:!0}),eo$1.bitLength=void 0;const to$1=qr$2,ro$1=Yr$2;function no$1(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new to$1.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}eo$1.bitLength=no$1,eo$1.default=e=>(0, ro$1.default)(new Uint8Array(no$1(e)>>3));var io$1={},oo$1={};Object.defineProperty(oo$1,"__esModule",{value:!0}),oo$1.fromSPKI=oo$1.fromPKCS8=oo$1.toPKCS8=oo$1.toSPKI=void 0;const so$1=n,ao$1=buffer,co$1=yn$2,uo$1=on$2,lo$1=Pn$2,po$1=Jn$2,ho$1=(e,t,r)=>{let n;if((0, co$1.isCryptoKey)(r)){if(!r.extractable)throw new TypeError("CryptoKey is not extractable");n=so$1.KeyObject.from(r);}else {if(!(0, uo$1.default)(r))throw new TypeError((0, lo$1.default)(r,...po$1.types));n=r;}if(n.type!==e)throw new TypeError(`key is not a ${e} key`);return n.export({format:"pem",type:t})};oo$1.toSPKI=e=>ho$1("public","spki",e);oo$1.toPKCS8=e=>ho$1("private","pkcs8",e);oo$1.fromPKCS8=e=>(0, so$1.createPrivateKey)({key:ao$1.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});oo$1.fromSPKI=e=>(0, so$1.createPublicKey)({key:ao$1.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});var fo$1={},yo$1={};Object.defineProperty(yo$1,"__esModule",{value:!0});const mo$1=buffer,wo$1=qr$2,go$1=mo$1.Buffer.from([0]),vo$1=mo$1.Buffer.from([2]),_o$1=mo$1.Buffer.from([3]),bo$1=mo$1.Buffer.from([48]),So$1=mo$1.Buffer.from([4]),Eo$1=e=>{if(e<128)return mo$1.Buffer.from([e]);const t=mo$1.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},ko$1=new Map([["P-256",mo$1.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",mo$1.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",mo$1.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",mo$1.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",mo$1.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",mo$1.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",mo$1.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",mo$1.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",mo$1.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);yo$1.default=class{constructor(){this.length=0,this.elements=[];}oidFor(e){const t=ko$1.get(e);if(!t)throw new wo$1.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length;}zero(){this.elements.push(vo$1,mo$1.Buffer.from([1]),go$1),this.length+=3;}one(){this.elements.push(vo$1,mo$1.Buffer.from([1]),mo$1.Buffer.from([1])),this.length+=3;}unsignedInteger(e){if(128&e[0]){const t=Eo$1(e.length+1);this.elements.push(vo$1,t,go$1,e),this.length+=2+t.length+e.length;}else {let t=0;for(;0===e[t]&&0==(128&e[t+1]);)t++;const r=Eo$1(e.length-t);this.elements.push(vo$1,Eo$1(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t;}}octStr(e){const t=Eo$1(e.length);this.elements.push(So$1,Eo$1(e.length),e),this.length+=1+t.length+e.length;}bitStr(e){const t=Eo$1(e.length+1);this.elements.push(_o$1,Eo$1(e.length+1),go$1,e),this.length+=1+t.length+e.length+1;}add(e){this.elements.push(e),this.length+=e.length;}end(e=bo$1){const t=Eo$1(this.length);return mo$1.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}},Object.defineProperty(fo$1,"__esModule",{value:!0});const Po$1=buffer,Ao$1=n,jo=Dr$2,To$1=qr$2,Jo=fi$1,Oo$1=Bi$1,xo$1=yo$1,[Wo,Ko]=process.version.slice(1).split(".").map((e=>parseInt(e,10))),Co$1=Wo>=16||15===Wo&&Ko>=12;fo$1.default=e=>{if(Co$1&&"oct"!==e.kty)return e.d?(0, Ao$1.createPrivateKey)({format:"jwk",key:e}):(0, Ao$1.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return (0, Ao$1.createSecretKey)((0, jo.decode)(e.k));case"RSA":{const t=new xo$1.default,r=void 0!==e.d,n=Po$1.Buffer.from(e.n,"base64"),i=Po$1.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(n),t.unsignedInteger(i),t.unsignedInteger(Po$1.Buffer.from(e.d,"base64")),t.unsignedInteger(Po$1.Buffer.from(e.p,"base64")),t.unsignedInteger(Po$1.Buffer.from(e.q,"base64")),t.unsignedInteger(Po$1.Buffer.from(e.dp,"base64")),t.unsignedInteger(Po$1.Buffer.from(e.dq,"base64")),t.unsignedInteger(Po$1.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(n),t.unsignedInteger(i));const o={key:t.end(),format:"der",type:"pkcs1"},s=r?(0, Ao$1.createPrivateKey)(o):(0, Ao$1.createPublicKey)(o);return (0, Oo$1.setModulusLength)(s,n.length<<3),s}case"EC":{const t=new xo$1.default,r=void 0!==e.d,n=Po$1.Buffer.concat([Po$1.Buffer.alloc(1,4),Po$1.Buffer.from(e.x,"base64"),Po$1.Buffer.from(e.y,"base64")]);if(r){t.zero();const r=new xo$1.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());const i=new xo$1.default;i.one(),i.octStr(Po$1.Buffer.from(e.d,"base64"));const o=new xo$1.default;o.bitStr(n);const s=o.end(Po$1.Buffer.from([161]));i.add(s);const a=i.end(),c=new xo$1.default;c.add(a);const u=c.end(Po$1.Buffer.from([4]));t.add(u);const d=t.end(),l=(0, Ao$1.createPrivateKey)({key:d,format:"der",type:"pkcs8"});return (0, Jo.setCurve)(l,e.crv),l}const i=new xo$1.default;i.oidFor("ecPublicKey"),i.oidFor(e.crv),t.add(i.end()),t.bitStr(n);const o=t.end(),s=(0, Ao$1.createPublicKey)({key:o,format:"der",type:"spki"});return (0, Jo.setCurve)(s,e.crv),s}case"OKP":{const t=new xo$1.default;if(void 0!==e.d){t.zero();const r=new xo$1.default;r.oidFor(e.crv),t.add(r.end());const n=new xo$1.default;n.octStr(Po$1.Buffer.from(e.d,"base64"));const i=n.end(Po$1.Buffer.from([4]));t.add(i);const o=t.end();return (0, Ao$1.createPrivateKey)({key:o,format:"der",type:"pkcs8"})}const r=new xo$1.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(Po$1.Buffer.from(e.x,"base64"));const n=t.end();return (0, Ao$1.createPublicKey)({key:n,format:"der",type:"spki"})}default:throw new To$1.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}};var Io$1={};Object.defineProperty(Io$1,"__esModule",{value:!0}),Io$1.default=(e,t)=>`-----BEGIN ${t}-----\n${(e.match(/.{1,64}/g)||[]).join("\n")}\n-----END ${t}-----`,Object.defineProperty(io$1,"__esModule",{value:!0}),io$1.importJWK=io$1.importPKCS8=io$1.importX509=io$1.importSPKI=void 0;const Ho=Dr$2,Ro$1=oo$1,Mo$1=oo$1,Do=fo$1,No$1=qr$2,$o=Io$1,Bo$1=Zn$2;function Uo$1(e){let t=[],r=0;for(;r<e.length;){let n=Lo$1(e.subarray(r));t.push(n),r+=n.byteLength;}return t}function Lo$1(e){let t=0,r=31&e[0];if(t++,31===r){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++;}let n=0;if(e[t]<128)n=e[t],t++;else {let r=127&e[t];t++,n=0;for(let i=0;i<r;i++)n=256*n+e[t],t++;}if(128===n){for(n=0;0!==e[t+n]||0!==e[t+n+1];)n++;const r=t+n+2;return {byteLength:r,contents:e.subarray(t,t+n),raw:e.subarray(0,r)}}const i=t+n;return {byteLength:i,contents:e.subarray(t,i),raw:e.subarray(0,i)}}function Vo(e){const t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),r=(0, Ho.decodeBase64)(t);return (0, $o.default)(function(e){const t=Uo$1(Uo$1(Lo$1(e).contents)[0].contents);return (0, Ho.encodeBase64)(t[160===t[0].raw[0]?6:5].raw)}(r),"PUBLIC KEY")}io$1.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return (0, Ro$1.fromSPKI)(e,t,r)},io$1.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');const n=Vo(e);return (0, Ro$1.fromSPKI)(n,t,r)},io$1.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PCKS8 formatted string');return (0, Mo$1.fromPKCS8)(e,t,r)},io$1.importJWK=async function(e,t,r){if(!(0, Bo$1.default)(e))throw new TypeError("JWK must be an object");if(t||(t=e.alg),"string"!=typeof t||!t)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');switch(e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?(0, Do.default)({...e,alg:t,ext:!1}):(0, Ho.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new No$1.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return (0, Do.default)({...e,alg:t});default:throw new No$1.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}};var zo={};Object.defineProperty(zo,"__esModule",{value:!0});const Fo$1=Pn$2,qo$1=Jn$2;zo.default=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?(e=>{if(!(e instanceof Uint8Array)){if(!(0, qo$1.default)(e))throw new TypeError((0, Fo$1.default)(e,...qo$1.types,"Uint8Array"));if("secret"!==e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(t):((e,t)=>{if(!(0, qo$1.default)(e))throw new TypeError((0, Fo$1.default)(e,...qo$1.types));if("secret"===e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===t&&"public"===e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===t&&"public"===e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&"verify"===t&&"private"===e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&"encrypt"===t&&"private"===e.type)throw new TypeError(`${qo$1.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(t,r);};var Go$1={},Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});const Yo=n,Zo=Fr$2,Qo=nn$2,es=Nr$2,ts=pn$2,rs=yn$2,ns=gn$2,is=on$2,os=Pn$2,ss=qr$2,as=An$2,cs=Jn$2;Xo.default=(e,t,r,n,i)=>{let o;if((0, rs.isCryptoKey)(r))(0, ns.checkEncCryptoKey)(r,e,"encrypt"),o=Yo.KeyObject.from(r);else {if(!(r instanceof Uint8Array||(0, is.default)(r)))throw new TypeError((0, os.default)(r,...cs.types,"Uint8Array"));o=r;}switch((0, Qo.default)(e,o),(0, Zo.default)(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,n,i){const o=parseInt(e.slice(1,4),10);(0, is.default)(r)&&(r=r.export());const s=r.subarray(o>>3),a=r.subarray(0,o>>3),c=`aes-${o}-cbc`;if(!(0, as.default)(c))throw new ss.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const u=(0, Yo.createCipheriv)(c,s,n),d=(0, es.concat)(u.update(t),u.final()),l=parseInt(e.slice(-3),10);return {ciphertext:d,tag:(0, ts.default)(i,n,d,l,a,o)}}(e,t,o,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,n,i){const o=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0, as.default)(o))throw new ss.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const s=(0, Yo.createCipheriv)(o,r,n,{authTagLength:16});i.byteLength&&s.setAAD(i,{plaintextLength:t.length});const a=s.update(t);return s.final(),{ciphertext:a,tag:s.getAuthTag()}}(e,t,o,n,i);default:throw new ss.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}},Object.defineProperty(Go$1,"__esModule",{value:!0}),Go$1.unwrap=Go$1.wrap=void 0;const us=Xo,ds=zr$2,ls=Xr$2,ps=Dr$2;Go$1.wrap=async function(e,t,r,n){const i=e.slice(0,7);n||(n=(0, ls.default)(i));const{ciphertext:o,tag:s}=await(0, us.default)(i,r,t,n,new Uint8Array(0));return {encryptedKey:o,iv:(0, ps.encode)(n),tag:(0, ps.encode)(s)}},Go$1.unwrap=async function(e,t,r,n,i){const o=e.slice(0,7);return (0, ds.default)(o,t,r,n,i,new Uint8Array(0))},Object.defineProperty(Qn$1,"__esModule",{value:!0});const hs=ei$1,fs=hi$1,ys=Pi$1,ms=$i$1,ws=Dr$2,gs=qr$2,vs=eo$1,_s=io$1,bs=zo,Ss=Zn$2,Es=Go$1;Qn$1.default=async function(e,t,r,n){switch((0, bs.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new gs.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new gs.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0, Ss.default)(n.epk))throw new gs.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!fs.ecdhAllowed(t))throw new gs.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const i=await(0, _s.importJWK)(n.epk,e);let o,s;if(void 0!==n.apu){if("string"!=typeof n.apu)throw new gs.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');o=(0, ws.decode)(n.apu);}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new gs.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');s=(0, ws.decode)(n.apv);}const a=await fs.deriveKey(i,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?(0, vs.bitLength)(n.enc):parseInt(e.slice(-5,-2),10),o,s);if("ECDH-ES"===e)return a;if(void 0===r)throw new gs.JWEInvalid("JWE Encrypted Key missing");return (0, hs.unwrap)(e.slice(-6),a,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new gs.JWEInvalid("JWE Encrypted Key missing");return (0, ms.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(void 0===r)throw new gs.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new gs.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');if("string"!=typeof n.p2s)throw new gs.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');return (0, ys.decrypt)(e,t,r,n.p2c,(0, ws.decode)(n.p2s));case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new gs.JWEInvalid("JWE Encrypted Key missing");return (0, hs.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===r)throw new gs.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new gs.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new gs.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');const i=(0, ws.decode)(n.iv),o=(0, ws.decode)(n.tag);return (0, Es.unwrap)(e,t,r,i,o)}default:throw new gs.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}};var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const Ps=qr$2;ks.default=function(e,t,r,n,i){if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((e=>"string"!=typeof e||0===e.length)))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;o=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of n.crit){if(!o.has(t))throw new Ps.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(o.get(t)&&void 0===n[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(n.crit)};var As={};Object.defineProperty(As,"__esModule",{value:!0});As.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some((e=>"string"!=typeof e))))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},Object.defineProperty(Mr$2,"__esModule",{value:!0}),Mr$2.flattenedDecrypt=void 0;const js=Dr$2,Ts=zr$2,Js=zn$2,Os=qr$2,xs=Yn$1,Ws=Zn$2,Ks=Qn$1,Cs=Nr$2,Is=eo$1,Hs=ks,Rs=As;Mr$2.flattenedDecrypt=async function(e,t,r){var n;if(!(0, Ws.default)(e))throw new Os.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new Os.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new Os.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new Os.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new Os.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new Os.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new Os.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new Os.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0, Ws.default)(e.header))throw new Os.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0, Ws.default)(e.unprotected))throw new Os.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let i;if(e.protected){const t=(0, js.decode)(e.protected);try{i=JSON.parse(Cs.decoder.decode(t));}catch{throw new Os.JWEInvalid("JWE Protected Header is invalid")}}if(!(0, xs.default)(i,e.header,e.unprotected))throw new Os.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const o={...i,...e.header,...e.unprotected};if((0, Hs.default)(Os.JWEInvalid,new Map,null==r?void 0:r.crit,i,o),void 0!==o.zip){if(!i||!i.zip)throw new Os.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==o.zip)throw new Os.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:s,enc:a}=o;if("string"!=typeof s||!s)throw new Os.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof a||!a)throw new Os.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const c=r&&(0, Rs.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),u=r&&(0, Rs.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(c&&!c.has(s))throw new Os.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(u&&!u.has(a))throw new Os.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let d;void 0!==e.encrypted_key&&(d=(0, js.decode)(e.encrypted_key));let l,p=!1;"function"==typeof t&&(t=await t(i,e),p=!0);try{l=await(0,Ks.default)(s,t,d,o);}catch(e){if(e instanceof TypeError)throw e;l=(0, Is.default)(a);}const h=(0, js.decode)(e.iv),f=(0, js.decode)(e.tag),y=Cs.encoder.encode(null!==(n=e.protected)&&void 0!==n?n:"");let m;m=void 0!==e.aad?(0, Cs.concat)(y,Cs.encoder.encode("."),Cs.encoder.encode(e.aad)):y;let w=await(0, Ts.default)(a,l,(0, js.decode)(e.ciphertext),h,f,m);"DEF"===o.zip&&(w=await((null==r?void 0:r.inflateRaw)||Js.inflate)(w));const g={plaintext:w};return void 0!==e.protected&&(g.protectedHeader=i),void 0!==e.aad&&(g.additionalAuthenticatedData=(0, js.decode)(e.aad)),void 0!==e.unprotected&&(g.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(g.unprotectedHeader=e.header),p?{...g,key:t}:g},Object.defineProperty(Rr$2,"__esModule",{value:!0}),Rr$2.compactDecrypt=void 0;const Ms=Mr$2,Ds=qr$2,Ns=Nr$2;Rr$2.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=Ns.decoder.decode(e)),"string"!=typeof e)throw new Ds.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:n,1:i,2:o,3:s,4:a,length:c}=e.split(".");if(5!==c)throw new Ds.JWEInvalid("Invalid Compact JWE");const u=await(0, Ms.flattenedDecrypt)({ciphertext:s,iv:o||void 0,protected:n||void 0,tag:a||void 0,encrypted_key:i||void 0},t,r),d={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return "function"==typeof t?{...d,key:u.key}:d};var $s={};Object.defineProperty($s,"__esModule",{value:!0}),$s.generalDecrypt=void 0;const Bs=Mr$2,Us=qr$2,Ls=Zn$2;$s.generalDecrypt=async function(e,t,r){if(!(0, Ls.default)(e))throw new Us.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Ls.default))throw new Us.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new Us.JWEInvalid("JWE Recipients has no members");for(const n of e.recipients)try{return await(0,Bs.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:n.encrypted_key,header:n.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new Us.JWEDecryptionFailed};var Vs={},zs={},Fs={},qs={},Gs={},Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.default=class{constructor(e){if(48!==e[0])throw new TypeError;this.buffer=e,this.offset=1;if(this.decodeLength()!==e.length-this.offset)throw new TypeError}decodeLength(){let e=this.buffer[this.offset++];if(128&e){const t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t;}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw new TypeError;let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw new TypeError}},Object.defineProperty(Gs,"__esModule",{value:!0});const Ys=n,Zs=Dr$2,Qs=Xs,ea=qr$2,ta=fi$1,ra=yn$2,na=on$2,ia=Pn$2,oa=Jn$2,[sa,aa]=process.version.slice(1).split(".").map((e=>parseInt(e,10))),ca=sa>=16||15===sa&&aa>=9,ua=e=>{let t;if((0, ra.isCryptoKey)(e)){if(!e.extractable)throw new TypeError("CryptoKey is not extractable");t=Ys.KeyObject.from(e);}else {if(!(0, na.default)(e)){if(e instanceof Uint8Array)return {kty:"oct",k:(0, Zs.encode)(e)};throw new TypeError((0, ia.default)(e,...oa.types,"Uint8Array"))}t=e;}if(ca)return t.export({format:"jwk"});switch(t.type){case"secret":return {kty:"oct",k:(0, Zs.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{const e=t.export({format:"der",type:"pkcs1"}),r=new Qs.default(e);"private"===t.type&&r.unsignedInteger();const n=(0, Zs.encode)(r.unsignedInteger()),i=(0, Zs.encode)(r.unsignedInteger());let o;return "private"===t.type&&(o={d:(0, Zs.encode)(r.unsignedInteger()),p:(0, Zs.encode)(r.unsignedInteger()),q:(0, Zs.encode)(r.unsignedInteger()),dp:(0, Zs.encode)(r.unsignedInteger()),dq:(0, Zs.encode)(r.unsignedInteger()),qi:(0, Zs.encode)(r.unsignedInteger())}),r.end(),{kty:"RSA",n:n,e:i,...o}}case"ec":{const e=(0, ta.default)(t);let r,n,i;switch(e){case"secp256k1":r=64,n=33,i=-1;break;case"P-256":r=64,n=36,i=-1;break;case"P-384":r=96,n=35,i=-3;break;case"P-521":r=132,n=35,i=-3;break;default:throw new ea.JOSENotSupported("Unsupported curve")}if("public"===t.type){const n=t.export({type:"spki",format:"der"});return {kty:"EC",crv:e,x:(0, Zs.encode)(n.subarray(-r,-r/2)),y:(0, Zs.encode)(n.subarray(-r/2))}}const o=t.export({type:"pkcs8",format:"der"});return o.length<100&&(n+=i),{...ua((0, Ys.createPublicKey)(t)),d:(0, Zs.encode)(o.subarray(n,n+r/2))}}case"ed25519":case"x25519":{const e=(0, ta.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return {kty:"OKP",crv:e,x:(0, Zs.encode)(r.subarray(-32))}}const r=t.export({type:"pkcs8",format:"der"});return {...ua((0, Ys.createPublicKey)(t)),d:(0, Zs.encode)(r.subarray(-32))}}case"ed448":case"x448":{const e=(0, ta.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return {kty:"OKP",crv:e,x:(0, Zs.encode)(r.subarray("Ed448"===e?-57:-56))}}const r=t.export({type:"pkcs8",format:"der"});return {...ua((0, Ys.createPublicKey)(t)),d:(0, Zs.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new ea.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new ea.JOSENotSupported("Unsupported key type")}};Gs.default=ua,Object.defineProperty(qs,"__esModule",{value:!0}),qs.exportJWK=qs.exportPKCS8=qs.exportSPKI=void 0;const da=oo$1,la=oo$1,pa=Gs;qs.exportSPKI=async function(e){return (0, da.toSPKI)(e)},qs.exportPKCS8=async function(e){return (0, la.toPKCS8)(e)},qs.exportJWK=async function(e){return (0, pa.default)(e)},Object.defineProperty(Fs,"__esModule",{value:!0});const ha=ei$1,fa=hi$1,ya=Pi$1,ma=$i$1,wa=Dr$2,ga=eo$1,va=qr$2,_a$2=qs,ba=zo,Sa=Go$1;Fs.default=async function(e,t,r,n,i={}){let o,s,a;switch((0, ba.default)(e,r,"encrypt"),e){case"dir":a=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!fa.ecdhAllowed(r))throw new va.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:c,apv:u}=i;let{epk:d}=i;d||(d=(await fa.generateEpk(r)).privateKey);const{x:l,y:p,crv:h,kty:f}=await(0, _a$2.exportJWK)(d),y=await fa.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0, ga.bitLength)(t):parseInt(e.slice(-5,-2),10),c,u);if(s={epk:{x:l,crv:h,kty:f}},"EC"===f&&(s.epk.y=p),c&&(s.apu=(0, wa.encode)(c)),u&&(s.apv=(0, wa.encode)(u)),"ECDH-ES"===e){a=y;break}a=n||(0, ga.default)(t);const m=e.slice(-6);o=await(0, ha.wrap)(m,y,a);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":a=n||(0, ga.default)(t),o=await(0, ma.encrypt)(e,r,a);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{a=n||(0, ga.default)(t);const{p2c:c,p2s:u}=i;({encryptedKey:o,...s}=await(0, ya.encrypt)(e,r,a,c,u));break}case"A128KW":case"A192KW":case"A256KW":a=n||(0, ga.default)(t),o=await(0, ha.wrap)(e,r,a);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{a=n||(0, ga.default)(t);const{iv:c}=i;({encryptedKey:o,...s}=await(0, Sa.wrap)(e,r,a,c));break}default:throw new va.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return {cek:a,encryptedKey:o,parameters:s}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FlattenedEncrypt=e.unprotected=void 0;const t=Dr$2,r=Xo,n=zn$2,i=Xr$2,o=Fs,s=qr$2,a=Yn$1,c=Nr$2,u=ks;e.unprotected=Symbol();e.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e;}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(d,l){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new s.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0, a.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new s.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const p={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0, u.default)(s.JWEInvalid,new Map,null==l?void 0:l.crit,this._protectedHeader,p),void 0!==p.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new s.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==p.zip)throw new s.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:h,enc:f}=p;if("string"!=typeof h||!h)throw new s.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof f||!f)throw new s.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let y,m,w,g,v,_,b;if("dir"===h){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===h&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let t;(({cek:m,encryptedKey:y,parameters:t}=await(0, o.default)(h,f,d,this._cek,this._keyManagementParameters))),t&&(l&&e.unprotected in l?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...t}:this.setUnprotectedHeader(t):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...t}:this.setProtectedHeader(t));}if(this._iv||(this._iv=(0, i.default)(f)),g=this._protectedHeader?c.encoder.encode((0, t.encode)(JSON.stringify(this._protectedHeader))):c.encoder.encode(""),this._aad?(v=(0, t.encode)(this._aad),w=(0, c.concat)(g,c.encoder.encode("."),c.encoder.encode(v))):w=g,"DEF"===p.zip){const e=await((null==l?void 0:l.deflateRaw)||n.deflate)(this._plaintext);({ciphertext:_,tag:b}=await(0, r.default)(f,e,m,this._iv,w));}else ({ciphertext:_,tag:b}=await(0, r.default)(f,this._plaintext,m,this._iv,w));const S={ciphertext:(0, t.encode)(_),iv:(0, t.encode)(this._iv),tag:(0, t.encode)(b)};return y&&(S.encrypted_key=(0, t.encode)(y)),v&&(S.aad=v),this._protectedHeader&&(S.protected=c.decoder.decode(g)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}};}(zs),Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.GeneralEncrypt=void 0;const Ea=zs,ka=qr$2,Pa=eo$1,Aa=Yn$1,ja=Fs,Ta=Dr$2,Ja=ks;class Oa{constructor(e,t,r){this.parent=e,this.key=t,this.options=r;}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}Vs.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e;}addRecipient(e,t){const r=new Oa(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,n;if(!this._recipients.length)throw new ka.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,r=await new Ea.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let n={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(n.aad=r.aad),r.protected&&(n.protected=r.protected),r.unprotected&&(n.unprotected=r.unprotected),r.encrypted_key&&(n.recipients[0].encrypted_key=r.encrypted_key),r.header&&(n.recipients[0].header=r.header),n}let i;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0, Aa.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new ka.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new ka.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new ka.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new ka.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(i){if(i!==r.enc)throw new ka.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else i=r.enc;if((0, Ja.default)(ka.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),!(void 0===r.zip||this._protectedHeader&&this._protectedHeader.zip))throw new ka.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const o=(0, Pa.default)(i);let s={ciphertext:"",iv:"",recipients:[],tag:""};for(let a=0;a<this._recipients.length;a++){const c=this._recipients[a],u={};s.recipients.push(u);const d={...this._protectedHeader,...this._unprotectedHeader,...c.unprotectedHeader}.alg.startsWith("PBES2")?2048+a:void 0;if(0===a){const t=await new Ea.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(o).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(c.unprotectedHeader).setKeyManagementParameters({p2c:d}).encrypt(c.key,{...c.options,...e,[Ea.unprotected]:!0});s.ciphertext=t.ciphertext,s.iv=t.iv,s.tag=t.tag,t.aad&&(s.aad=t.aad),t.protected&&(s.protected=t.protected),t.unprotected&&(s.unprotected=t.unprotected),u.encrypted_key=t.encrypted_key,t.header&&(u.header=t.header);continue}const{encryptedKey:l,parameters:p}=await(0, ja.default)((null===(t=c.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(n=this._unprotectedHeader)||void 0===n?void 0:n.alg),i,c.key,o,{p2c:d});u.encrypted_key=(0, Ta.encode)(l),(c.unprotectedHeader||p)&&(u.header={...c.unprotectedHeader,...p});}return s}};var xa={},Wa={},Ka={},Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});const Ia=qr$2;Ca.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return "sha256";case"PS384":case"RS384":case"ES384":return "sha384";case"PS512":case"RS512":case"ES512":return "sha512";case"EdDSA":return;default:throw new Ia.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});const Ra=n,Ma=fi$1,Da=qr$2,Na=Bi$1,[$a,Ba]=process.version.slice(1).split(".").map((e=>parseInt(e,10))),Ua=!("electron"in process.versions)&&($a>=17||16===$a&&Ba>=9),La={padding:Ra.constants.RSA_PKCS1_PSS_PADDING,saltLength:Ra.constants.RSA_PSS_SALTLEN_DIGEST},Va=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);Ha.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return (0, Na.default)(t,e),t;case Ua&&"PS256":case Ua&&"PS384":case Ua&&"PS512":if("rsa-pss"===t.asymmetricKeyType){const{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails,o=parseInt(e.slice(-3),10);if(void 0!==r&&(r!==`sha${o}`||n!==r))throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==i&&i>o>>3)throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return (0, Na.default)(t,e),{key:t,...La};case!Ua&&"PS256":case!Ua&&"PS384":case!Ua&&"PS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return (0, Na.default)(t,e),{key:t,...La};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");const r=(0, Ma.default)(t),n=Va.get(e);if(r!==n)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return {dsaEncoding:"ieee-p1363",key:t}}default:throw new Da.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};var za={},Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});const qa=qr$2;Fa.default=function(e){switch(e){case"HS256":return "sha256";case"HS384":return "sha384";case"HS512":return "sha512";default:throw new qa.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});const Xa=n,Ya=yn$2,Za=gn$2,Qa=Pn$2,ec=Jn$2;Ga.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0, Qa.default)(t,...ec.types));return (0, Xa.createSecretKey)(t)}if(t instanceof Xa.KeyObject)return t;if((0, Ya.isCryptoKey)(t))return (0, Za.checkSigCryptoKey)(t,e,r),Xa.KeyObject.from(t);throw new TypeError((0, Qa.default)(t,...ec.types,"Uint8Array"))},Object.defineProperty(za,"__esModule",{value:!0});const tc=n,rc=util$2,nc=Ca,ic=Fa,oc=Ha,sc=Ga;let ac;ac=tc.sign.length>3?(0, rc.promisify)(tc.sign):tc.sign;za.default=async(e,t,r)=>{const n=(0, sc.default)(e,t,"sign");if(e.startsWith("HS")){const t=tc.createHmac((0, ic.default)(e),n);return t.update(r),t.digest()}return ac((0, nc.default)(e),r,(0, oc.default)(e,n))},Object.defineProperty(Ka,"__esModule",{value:!0});const cc=n,uc=util$2,dc=Ca,lc=Ha,pc=za,hc=Ga,[fc,yc]=process.version.slice(1).split(".").map((e=>parseInt(e,10))),mc=fc>=16||15===fc&&yc>=13;let wc;wc=cc.verify.length>4&&mc?(0, uc.promisify)(cc.verify):cc.verify;Ka.default=async(e,t,r,n)=>{const i=(0, hc.default)(e,t,"verify");if(e.startsWith("HS")){const t=await(0, pc.default)(e,i,n),o=r;try{return cc.timingSafeEqual(o,t)}catch{return !1}}const o=(0, dc.default)(e),s=(0, lc.default)(e,i);try{return await wc(o,n,s,r)}catch{return !1}},Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.flattenedVerify=void 0;const gc=Dr$2,vc=Ka,_c=qr$2,bc=Nr$2,Sc=Yn$1,Ec=Zn$2,kc=zo,Pc=ks,Ac=As;Wa.flattenedVerify=async function(e,t,r){var n;if(!(0, Ec.default)(e))throw new _c.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new _c.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new _c.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new _c.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new _c.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0, Ec.default)(e.header))throw new _c.JWSInvalid("JWS Unprotected Header incorrect type");let i={};if(e.protected){const t=(0, gc.decode)(e.protected);try{i=JSON.parse(bc.decoder.decode(t));}catch{throw new _c.JWSInvalid("JWS Protected Header is invalid")}}if(!(0, Sc.default)(i,e.header))throw new _c.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const o={...i,...e.header};let s=!0;if((0, Pc.default)(_c.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,i,o).has("b64")&&(s=i.b64,"boolean"!=typeof s))throw new _c.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=o;if("string"!=typeof a||!a)throw new _c.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const c=r&&(0, Ac.default)("algorithms",r.algorithms);if(c&&!c.has(a))throw new _c.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(s){if("string"!=typeof e.payload)throw new _c.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new _c.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let u=!1;"function"==typeof t&&(t=await t(i,e),u=!0),(0, kc.default)(a,t,"verify");const d=(0, bc.concat)(bc.encoder.encode(null!==(n=e.protected)&&void 0!==n?n:""),bc.encoder.encode("."),"string"==typeof e.payload?bc.encoder.encode(e.payload):e.payload),l=(0, gc.decode)(e.signature);if(!await(0, vc.default)(a,t,l,d))throw new _c.JWSSignatureVerificationFailed;let p;p=s?(0, gc.decode)(e.payload):"string"==typeof e.payload?bc.encoder.encode(e.payload):e.payload;const h={payload:p};return void 0!==e.protected&&(h.protectedHeader=i),void 0!==e.header&&(h.unprotectedHeader=e.header),u?{...h,key:t}:h},Object.defineProperty(xa,"__esModule",{value:!0}),xa.compactVerify=void 0;const jc=Wa,Tc=qr$2,Jc=Nr$2;xa.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=Jc.decoder.decode(e)),"string"!=typeof e)throw new Tc.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:n,1:i,2:o,length:s}=e.split(".");if(3!==s)throw new Tc.JWSInvalid("Invalid Compact JWS");const a=await(0, jc.flattenedVerify)({payload:i,protected:n,signature:o},t,r),c={payload:a.payload,protectedHeader:a.protectedHeader};return "function"==typeof t?{...c,key:a.key}:c};var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.generalVerify=void 0;const xc=Wa,Wc=qr$2,Kc=Zn$2;Oc.generalVerify=async function(e,t,r){if(!(0, Kc.default)(e))throw new Wc.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Kc.default))throw new Wc.JWSInvalid("JWS Signatures missing or incorrect type");for(const n of e.signatures)try{return await(0,xc.flattenedVerify)({header:n.header,payload:e.payload,protected:n.protected,signature:n.signature},t,r)}catch{}throw new Wc.JWSSignatureVerificationFailed};var Cc={},Ic={},Hc={};Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.default=e=>Math.floor(e.getTime()/1e3);var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});const Mc=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;Rc.default=e=>{const t=Mc.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},Object.defineProperty(Ic,"__esModule",{value:!0});const Dc=qr$2,Nc=Nr$2,$c=Hc,Bc=Rc,Uc=Zn$2,Lc=e=>e.toLowerCase().replace(/^application\//,"");Ic.default=(e,t,r={})=>{const{typ:n}=r;if(n&&("string"!=typeof e.typ||Lc(e.typ)!==Lc(n)))throw new Dc.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let i;try{i=JSON.parse(Nc.decoder.decode(t));}catch{}if(!(0, Uc.default)(i))throw new Dc.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{issuer:o}=r;if(o&&!(Array.isArray(o)?o:[o]).includes(i.iss))throw new Dc.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");const{subject:s}=r;if(s&&i.sub!==s)throw new Dc.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");const{audience:a}=r;if(a&&(c=i.aud,u="string"==typeof a?[a]:a,!("string"==typeof c?u.includes(c):Array.isArray(c)&&u.some(Set.prototype.has.bind(new Set(c))))))throw new Dc.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var c,u;let d;switch(typeof r.clockTolerance){case"string":d=(0, Bc.default)(r.clockTolerance);break;case"number":d=r.clockTolerance;break;case"undefined":d=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:l}=r,p=(0, $c.default)(l||new Date);if(void 0!==i.iat||r.maxTokenAge){if("number"!=typeof i.iat)throw new Dc.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0===i.exp&&i.iat>p+d)throw new Dc.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==i.nbf){if("number"!=typeof i.nbf)throw new Dc.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(i.nbf>p+d)throw new Dc.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==i.exp){if("number"!=typeof i.exp)throw new Dc.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(i.exp<=p-d)throw new Dc.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){const e=p-i.iat;if(e-d>("number"==typeof r.maxTokenAge?r.maxTokenAge:(0, Bc.default)(r.maxTokenAge)))throw new Dc.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-d)throw new Dc.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return i},Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.jwtVerify=void 0;const Vc=xa,zc=Ic,Fc=qr$2;Cc.jwtVerify=async function(e,t,r){var n;const i=await(0, Vc.compactVerify)(e,t,r);if((null===(n=i.protectedHeader.crit)||void 0===n?void 0:n.includes("b64"))&&!1===i.protectedHeader.b64)throw new Fc.JWTInvalid("JWTs MUST NOT use unencoded payload");const o={payload:(0, zc.default)(i.protectedHeader,i.payload,r),protectedHeader:i.protectedHeader};return "function"==typeof t?{...o,key:i.key}:o};var qc={};Object.defineProperty(qc,"__esModule",{value:!0}),qc.jwtDecrypt=void 0;const Gc=Rr$2,Xc=Ic,Yc=qr$2;qc.jwtDecrypt=async function(e,t,r){const n=await(0, Gc.compactDecrypt)(e,t,r),i=(0, Xc.default)(n.protectedHeader,n.plaintext,r),{protectedHeader:o}=n;if(void 0!==o.iss&&o.iss!==i.iss)throw new Yc.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==o.sub&&o.sub!==i.sub)throw new Yc.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==o.aud&&JSON.stringify(o.aud)!==JSON.stringify(i.aud))throw new Yc.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const s={payload:i,protectedHeader:o};return "function"==typeof t?{...s,key:n.key}:s};var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.CompactEncrypt=void 0;const Qc=zs;Zc.CompactEncrypt=class{constructor(e){this._flattened=new Qc.FlattenedEncrypt(e);}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return [r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}};var eu={},tu={};Object.defineProperty(tu,"__esModule",{value:!0}),tu.FlattenedSign=void 0;const ru=Dr$2,nu=za,iu=Yn$1,ou=qr$2,su=Nr$2,au=zo,cu=ks;tu.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e;}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new ou.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0, iu.default)(this._protectedHeader,this._unprotectedHeader))throw new ou.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let n=!0;if((0, cu.default)(ou.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(n=this._protectedHeader.b64,"boolean"!=typeof n))throw new ou.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:i}=r;if("string"!=typeof i||!i)throw new ou.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0, au.default)(i,e,"sign");let o,s=this._payload;n&&(s=su.encoder.encode((0, ru.encode)(s))),o=this._protectedHeader?su.encoder.encode((0, ru.encode)(JSON.stringify(this._protectedHeader))):su.encoder.encode("");const a=(0, su.concat)(o,su.encoder.encode("."),s),c=await(0, nu.default)(i,e,a),u={signature:(0, ru.encode)(c),payload:""};return n&&(u.payload=su.decoder.decode(s)),this._unprotectedHeader&&(u.header=this._unprotectedHeader),this._protectedHeader&&(u.protected=su.decoder.decode(o)),u}},Object.defineProperty(eu,"__esModule",{value:!0}),eu.CompactSign=void 0;const uu=tu;eu.CompactSign=class{constructor(e){this._flattened=new uu.FlattenedSign(e);}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return `${r.protected}.${r.payload}.${r.signature}`}};var du={};Object.defineProperty(du,"__esModule",{value:!0}),du.GeneralSign=void 0;const lu=tu,pu=qr$2;class hu{constructor(e,t,r){this.parent=e,this.key=t,this.options=r;}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}du.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e;}addSignature(e,t){const r=new hu(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new pu.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const r=this._signatures[t],n=new lu.FlattenedSign(this._payload);n.setProtectedHeader(r.protectedHeader),n.setUnprotectedHeader(r.unprotectedHeader);const{payload:i,...o}=await n.sign(r.key,r.options);if(0===t)e.payload=i;else if(e.payload!==i)throw new pu.JWSInvalid("inconsistent use of JWS Unencoded Payload Option (RFC7797)");e.signatures.push(o);}return e}};var fu={},yu={};Object.defineProperty(yu,"__esModule",{value:!0}),yu.ProduceJWT=void 0;const mu=Hc,wu=Zn$2,gu=Rc;yu.ProduceJWT=class{constructor(e){if(!(0, wu.default)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e;}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0, mu.default)(new Date)+(0, gu.default)(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0, mu.default)(new Date)+(0, gu.default)(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:(0, mu.default)(new Date)}:{...this._payload,iat:e},this}},Object.defineProperty(fu,"__esModule",{value:!0}),fu.SignJWT=void 0;const vu=eu,_u=qr$2,bu=Nr$2,Su=yu;class Eu extends Su.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const n=new vu.CompactSign(bu.encoder.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new _u.JWTInvalid("JWTs MUST NOT use unencoded payload");return n.sign(e,t)}}fu.SignJWT=Eu;var ku={};Object.defineProperty(ku,"__esModule",{value:!0}),ku.EncryptJWT=void 0;const Pu=Zc,Au=Nr$2,ju=yu;class Tu extends ju.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const r=new Pu.CompactEncrypt(Au.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}ku.EncryptJWT=Tu;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.calculateJwkThumbprint=void 0;const Ou=$r$2,xu=Dr$2,Wu=qr$2,Ku=Nr$2,Cu=Zn$2,Iu=(e,t)=>{if("string"!=typeof e||!e)throw new Wu.JWKInvalid(`${t} missing or invalid`)};Ju.calculateJwkThumbprint=async function(e,t="sha256"){if(!(0, Cu.default)(e))throw new TypeError("JWK must be an object");if("sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":Iu(e.crv,'"crv" (Curve) Parameter'),Iu(e.x,'"x" (X Coordinate) Parameter'),Iu(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":Iu(e.crv,'"crv" (Subtype of Key Pair) Parameter'),Iu(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":Iu(e.e,'"e" (Exponent) Parameter'),Iu(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":Iu(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new Wu.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const n=Ku.encoder.encode(JSON.stringify(r));return (0, xu.encode)(await(0, Ou.default)(t,n))};var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.EmbeddedJWK=void 0;const Ru=io$1,Mu=Zn$2,Du=qr$2;Hu.EmbeddedJWK=async function(e,t){const r={...e,...t.header};if(!(0, Mu.default)(r.jwk))throw new Du.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const n=await(0, Ru.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(n instanceof Uint8Array||"public"!==n.type)throw new Du.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return n};var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.createLocalJWKSet=Nu.LocalJWKSet=Nu.isJWKSLike=void 0;const $u=io$1,Bu=qr$2,Uu=Zn$2;function Lu(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(Vu)}function Vu(e){return (0, Uu.default)(e)}Nu.isJWKSLike=Lu;class zu{constructor(e){if(this._cached=new WeakMap,!Lu(e))throw new Bu.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)));}async getKey(e,t){const{alg:r,kid:n}={...e,...t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return "RSA";case"ES":return "EC";case"Ed":return "OKP";default:throw new Bu.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),o=this._jwks.keys.filter((e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;}return t})),{0:s,length:a}=o;if(0===a)throw new Bu.JWKSNoMatchingKey;if(1!==a)throw new Bu.JWKSMultipleMatchingKeys;const c=this._cached.get(s)||this._cached.set(s,{}).get(s);if(void 0===c[r]){const e=await(0, $u.importJWK)({...s,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new Bu.JWKSInvalid("JSON Web Key Set members must be public keys");c[r]=e;}return c[r]}}Nu.LocalJWKSet=zu,Nu.createLocalJWKSet=function(e){return zu.prototype.getKey.bind(new zu(e))};var Fu={},qu={};Object.defineProperty(qu,"__esModule",{value:!0});const Gu=o$2,Xu=u$2,Yu=d$2,Zu=qr$2,Qu=Nr$2;qu.default=async(e,t,r)=>{let n;switch(e.protocol){case"https:":n=Xu.get;break;case"http:":n=Gu.get;break;default:throw new TypeError("Unsupported URL protocol.")}const{agent:i}=r,o=n(e.href,{agent:i,timeout:t}),[s]=await Promise.race([(0, Yu.once)(o,"response"),(0, Yu.once)(o,"timeout")]);if(!s)throw o.destroy(),new Zu.JWKSTimeout;if(200!==s.statusCode)throw new Zu.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");const a=[];for await(const e of s)a.push(e);try{return JSON.parse(Qu.decoder.decode((0,Qu.concat)(...a)))}catch{throw new Zu.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}},Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.createRemoteJWKSet=void 0;const ed=qu,td=vn$2,rd=qr$2,nd=Nu;class id extends nd.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4;}coolingDown(){return !!this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}async getKey(e,t){this._jwks||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof rd.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){if(this._pendingFetch&&(0, td.isCloudflareWorkers)())return new Promise((e=>{const t=()=>{void 0===this._pendingFetch?e():setTimeout(t,5);};t();}));this._pendingFetch||(this._pendingFetch=(0, ed.default)(this._url,this._timeoutDuration,this._options).then((e=>{if(!(0, nd.isJWKSLike)(e))throw new rd.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._cooldownStarted=Date.now(),this._pendingFetch=void 0;})).catch((e=>{throw this._pendingFetch=void 0,e}))),await this._pendingFetch;}}Fu.createRemoteJWKSet=function(e,t){return id.prototype.getKey.bind(new id(e,t))};var od={};Object.defineProperty(od,"__esModule",{value:!0}),od.UnsecuredJWT=void 0;const sd=Dr$2,ad=Nr$2,cd=qr$2,ud=Ic,dd=yu;class ld extends dd.ProduceJWT{encode(){return `${sd.encode(JSON.stringify({alg:"none"}))}.${sd.encode(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new cd.JWTInvalid("Unsecured JWT must be a string");const{0:r,1:n,2:i,length:o}=e.split(".");if(3!==o||""!==i)throw new cd.JWTInvalid("Invalid Unsecured JWT");let s;try{if(s=JSON.parse(ad.decoder.decode(sd.decode(r))),"none"!==s.alg)throw new Error}catch{throw new cd.JWTInvalid("Invalid Unsecured JWT")}return {payload:(0, ud.default)(s,sd.decode(n),t),header:s}}}od.UnsecuredJWT=ld;var pd={},hd={};Object.defineProperty(hd,"__esModule",{value:!0}),hd.decode=hd.encode=void 0;const fd=Dr$2;hd.encode=fd.encode,hd.decode=fd.decode,Object.defineProperty(pd,"__esModule",{value:!0}),pd.decodeProtectedHeader=void 0;const yd=hd,md=Nr$2,wd=Zn$2;pd.decodeProtectedHeader=function(e){let t;if("string"==typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r);}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected;}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(md.decoder.decode((0,yd.decode)(t)));if(!(0,wd.default)(e))throw new Error;return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}};var gd={};Object.defineProperty(gd,"__esModule",{value:!0}),gd.decodeJwt=void 0;const vd=hd,_d=Nr$2,bd=Zn$2,Sd=qr$2;gd.decodeJwt=function(e){if("string"!=typeof e)throw new Sd.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new Sd.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new Sd.JWTInvalid("Invalid JWT");if(!t)throw new Sd.JWTInvalid("JWTs must contain a payload");let n,i;try{n=(0,vd.decode)(t);}catch{throw new Sd.JWTInvalid("Failed to parse the base64url encoded payload")}try{i=JSON.parse(_d.decoder.decode(n));}catch{throw new Sd.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0, bd.default)(i))throw new Sd.JWTInvalid("Invalid JWT Claims Set");return i};var Ed={},kd={};Object.defineProperty(kd,"__esModule",{value:!0}),kd.generateKeyPair=kd.generateSecret=void 0;const Pd=n,Ad=Yr$2,jd=Bi$1,Td=qr$2,Jd=(0, util$2.promisify)(Pd.generateKeyPair);kd.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new Td.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return (0, Pd.createSecretKey)((0, Ad.default)(new Uint8Array(r>>3)))},kd.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{const e=null!==(r=null==t?void 0:t.modulusLength)&&void 0!==r?r:2048;if("number"!=typeof e||e<2048)throw new Td.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");const n=await Jd("rsa",{modulusLength:e,publicExponent:65537});return (0, jd.setModulusLength)(n.privateKey,e),(0, jd.setModulusLength)(n.publicKey,e),n}case"ES256":return Jd("ec",{namedCurve:"P-256"});case"ES256K":return Jd("ec",{namedCurve:"secp256k1"});case"ES384":return Jd("ec",{namedCurve:"P-384"});case"ES512":return Jd("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return Jd("ed25519");case"Ed448":return Jd("ed448");default:throw new Td.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":const e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case void 0:case"P-256":case"P-384":case"P-521":return Jd("ec",{namedCurve:e});case"X25519":return Jd("x25519");case"X448":return Jd("x448");default:throw new Td.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new Td.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}},Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.generateKeyPair=void 0;const Od=kd;Ed.generateKeyPair=async function(e,t){return (0, Od.generateKeyPair)(e,t)};var xd={};Object.defineProperty(xd,"__esModule",{value:!0}),xd.generateSecret=void 0;const Wd=kd;xd.generateSecret=async function(e,t){return (0, Wd.generateSecret)(e,t)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.base64url=e.generateSecret=e.generateKeyPair=e.errors=e.decodeJwt=e.decodeProtectedHeader=e.importJWK=e.importX509=e.importPKCS8=e.importSPKI=e.exportJWK=e.exportSPKI=e.exportPKCS8=e.UnsecuredJWT=e.createRemoteJWKSet=e.createLocalJWKSet=e.EmbeddedJWK=e.calculateJwkThumbprint=e.EncryptJWT=e.SignJWT=e.GeneralSign=e.FlattenedSign=e.CompactSign=e.FlattenedEncrypt=e.CompactEncrypt=e.jwtDecrypt=e.jwtVerify=e.generalVerify=e.flattenedVerify=e.compactVerify=e.GeneralEncrypt=e.generalDecrypt=e.flattenedDecrypt=e.compactDecrypt=void 0;var t=Rr$2;Object.defineProperty(e,"compactDecrypt",{enumerable:!0,get:function(){return t.compactDecrypt}});var r=Mr$2;Object.defineProperty(e,"flattenedDecrypt",{enumerable:!0,get:function(){return r.flattenedDecrypt}});var n=$s;Object.defineProperty(e,"generalDecrypt",{enumerable:!0,get:function(){return n.generalDecrypt}});var i=Vs;Object.defineProperty(e,"GeneralEncrypt",{enumerable:!0,get:function(){return i.GeneralEncrypt}});var o=xa;Object.defineProperty(e,"compactVerify",{enumerable:!0,get:function(){return o.compactVerify}});var s=Wa;Object.defineProperty(e,"flattenedVerify",{enumerable:!0,get:function(){return s.flattenedVerify}});var a=Oc;Object.defineProperty(e,"generalVerify",{enumerable:!0,get:function(){return a.generalVerify}});var c=Cc;Object.defineProperty(e,"jwtVerify",{enumerable:!0,get:function(){return c.jwtVerify}});var u=qc;Object.defineProperty(e,"jwtDecrypt",{enumerable:!0,get:function(){return u.jwtDecrypt}});var d=Zc;Object.defineProperty(e,"CompactEncrypt",{enumerable:!0,get:function(){return d.CompactEncrypt}});var l=zs;Object.defineProperty(e,"FlattenedEncrypt",{enumerable:!0,get:function(){return l.FlattenedEncrypt}});var p=eu;Object.defineProperty(e,"CompactSign",{enumerable:!0,get:function(){return p.CompactSign}});var h=tu;Object.defineProperty(e,"FlattenedSign",{enumerable:!0,get:function(){return h.FlattenedSign}});var f=du;Object.defineProperty(e,"GeneralSign",{enumerable:!0,get:function(){return f.GeneralSign}});var y=fu;Object.defineProperty(e,"SignJWT",{enumerable:!0,get:function(){return y.SignJWT}});var m=ku;Object.defineProperty(e,"EncryptJWT",{enumerable:!0,get:function(){return m.EncryptJWT}});var w=Ju;Object.defineProperty(e,"calculateJwkThumbprint",{enumerable:!0,get:function(){return w.calculateJwkThumbprint}});var g=Hu;Object.defineProperty(e,"EmbeddedJWK",{enumerable:!0,get:function(){return g.EmbeddedJWK}});var v=Nu;Object.defineProperty(e,"createLocalJWKSet",{enumerable:!0,get:function(){return v.createLocalJWKSet}});var _=Fu;Object.defineProperty(e,"createRemoteJWKSet",{enumerable:!0,get:function(){return _.createRemoteJWKSet}});var b=od;Object.defineProperty(e,"UnsecuredJWT",{enumerable:!0,get:function(){return b.UnsecuredJWT}});var S=qs;Object.defineProperty(e,"exportPKCS8",{enumerable:!0,get:function(){return S.exportPKCS8}}),Object.defineProperty(e,"exportSPKI",{enumerable:!0,get:function(){return S.exportSPKI}}),Object.defineProperty(e,"exportJWK",{enumerable:!0,get:function(){return S.exportJWK}});var E=io$1;Object.defineProperty(e,"importSPKI",{enumerable:!0,get:function(){return E.importSPKI}}),Object.defineProperty(e,"importPKCS8",{enumerable:!0,get:function(){return E.importPKCS8}}),Object.defineProperty(e,"importX509",{enumerable:!0,get:function(){return E.importX509}}),Object.defineProperty(e,"importJWK",{enumerable:!0,get:function(){return E.importJWK}});var k=pd;Object.defineProperty(e,"decodeProtectedHeader",{enumerable:!0,get:function(){return k.decodeProtectedHeader}});var P=gd;Object.defineProperty(e,"decodeJwt",{enumerable:!0,get:function(){return P.decodeJwt}}),e.errors=qr$2;var A=Ed;Object.defineProperty(e,"generateKeyPair",{enumerable:!0,get:function(){return A.generateKeyPair}});var j=xd;Object.defineProperty(e,"generateSecret",{enumerable:!0,get:function(){return j.generateSecret}}),e.base64url=hd;}(Hr$2);const Kd=n,[Cd,Id]=process.version.substr(1).split(".").map((e=>parseInt(e,10)));var Hd=(Cd>12||12===Cd&&Id>=8)&&Kd.getHashes().includes("shake256");const{strict:Rd}=s$2,{createHash:Md}=n,{format:Dd}=util$2,Nd=Hd;let $d;if(Buffer.isEncoding("base64url"))$d=e=>e.toString("base64url");else {const e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");$d=t=>e(t.toString("base64"));}function Bd(e,t,r){const n=function(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return Md("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return Md("sha384");case"HS512":case"RS512":case"PS512":case"ES512":return Md("sha512");case"EdDSA":switch(t){case"Ed25519":return Md("sha512");case"Ed448":if(!Nd)throw new TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version");return Md("shake256",{outputLength:114});default:throw new TypeError("unrecognized or invalid EdDSA curve provided")}default:throw new TypeError("unrecognized or invalid JWS algorithm provided")}}(t,r).update(e).digest();return $d(n.slice(0,n.length/2))}var Ud={validate:function(e,t,r,n,i){if("string"!=typeof e.claim||!e.claim)throw new TypeError("names.claim must be a non-empty string");if("string"!=typeof e.source||!e.source)throw new TypeError("names.source must be a non-empty string");let o,s;Rd("string"==typeof t&&t,`${e.claim} must be a non-empty string`),Rd("string"==typeof r&&r,`${e.source} must be a non-empty string`);try{o=Bd(r,n,i);}catch(t){s=Dd("%s could not be validated (%s)",e.claim,t.message);}s=s||Dd("%s mismatch, expected %s, got: %s",e.claim,o,t),Rd.equal(o,t,s);},generate:Bd};const Ld=n;var Vd=util$2.types.isKeyObject||(e=>e&&e instanceof Ld.KeyObject),zd={};let Fd;if(Buffer.isEncoding("base64url"))Fd=(e,t="utf8")=>Buffer.from(e,t).toString("base64url");else {const e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");Fd=(t,r="utf8")=>e(Buffer.from(t,r).toString("base64"));}zd.decode=e=>Buffer.from(e,"base64"),zd.encode=Fd;const qd=zd;var Gd={exports:{}},Xd=e=>!!e&&e.constructor===Object;const Yd=Xd;function Zd(e,t,...r){for(const n of r)if(Yd(n))for(const[r,i]of Object.entries(n))"__proto__"!==r&&"constructor"!==r&&(void 0===t[r]&&void 0!==i&&(t[r]=i),e&&Yd(t[r])&&Yd(i)&&Zd(!0,t[r],i));return t}Gd.exports=Zd.bind(void 0,!1),Gd.exports.deep=Zd.bind(void 0,!0);const Qd=/(\w+)=("[^"]*")/g;var el=e=>{const t={};try{for(;null!==Qd.exec(e);)RegExp.$1&&RegExp.$2&&(t[RegExp.$1]=RegExp.$2.slice(1,-1));}catch(e){}return t};var tl={assertSigningAlgValuesSupport:function(e,t,r){if(!t[`${e}_endpoint`])return;const n=`${e}_endpoint_auth_method`,i=`${e}_endpoint_auth_signing_alg`,o=`${e}_endpoint_auth_signing_alg_values_supported`;if(r[n]&&r[n].endsWith("_jwt")&&!r[i]&&!t[o])throw new TypeError(`${o} must be configured on the issuer if ${i} is not defined on a client`)},assertIssuerConfiguration:function(e,t){if(!e[t])throw new TypeError(`${t} must be configured on the issuer`)}},rl=function(e,...t){const r={};for(const n of t)void 0!==e[n]&&(r[n]=e[n]);return r};const{STATUS_CODES:nl}=o$2,{format:il}=util$2,{OPError:ol}=Cr$2,sl=el;var al=function(e,{statusCode:t=200,body:r=!0,bearer:n=!1}={}){if(e.statusCode!==t){if(n&&(e=>{const t=sl(e.headers["www-authenticate"]);if(t.error)throw new ol(t,e)})(e),(e=>{let t=!1;try{let r;r="object"!=typeof e.body||Buffer.isBuffer(e.body)?JSON.parse(e.body):e.body,t="string"==typeof r.error&&r.error.length,t&&Object.defineProperty(e,"body",{value:r,configurable:!0});}catch(e){}return t})(e))throw new ol(e.body,e);throw new ol({error:il("expected %i %s, got: %i %s",t,nl[t],e.statusCode,nl[e.statusCode])},e)}if(r&&!e.body)throw new ol({error:il("expected %i %s with body but no body was returned",t,nl[t])},e);return e.body},cl=()=>Math.floor(Date.now()/1e3);const ul=zd,dl=cl;var ll=class{constructor(e){Object.assign(this,e);}set expires_in(e){this.expires_at=dl()+Number(e);}get expires_in(){return Math.max.apply(null,[this.expires_at-dl(),0])}expired(){return 0===this.expires_in}claims(){if(!this.id_token)throw new TypeError("id_token not present in TokenSet");return JSON.parse(ul.decode(this.id_token.split(".")[1]))}};const{createHash:pl,randomBytes:hl}=n,fl=zd,yl=(e=32)=>fl.encode(hl(e));var ml={random:yl,state:yl,nonce:yl,codeVerifier:yl,codeChallenge:e=>fl.encode(pl("sha256").update(e).digest())},wl={exports:{}},gl=vl;function vl(e){var t=this;if(t instanceof vl||(t=new vl),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e);}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function _l(e,t,r){var n=t===e.head?new El(r,null,t,e):new El(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function bl(e,t){e.tail=new El(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++;}function Sl(e,t){e.head=new El(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++;}function El(e,t,r,n){if(!(this instanceof El))return new El(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null;}vl.Node=El,vl.create=vl,vl.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},vl.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++;}},vl.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++;}},vl.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)bl(this,arguments[e]);return this.length},vl.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Sl(this,arguments[e]);return this.length},vl.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},vl.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},vl.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next;},vl.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev;},vl.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},vl.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},vl.prototype.map=function(e,t){t=t||this;for(var r=new vl,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},vl.prototype.mapReverse=function(e,t){t=t||this;for(var r=new vl,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},vl.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else {if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value;}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},vl.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else {if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value;}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},vl.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},vl.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},vl.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new vl;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(;null!==i&&n<t;n++,i=i.next)r.push(i.value);return r},vl.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new vl;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;null!==i&&n>t;n--)i=i.prev;for(;null!==i&&n>e;n--,i=i.prev)r.push(i.value);return r},vl.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var o=[];for(n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=_l(this,i,r[n]);return o},vl.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n;}return this.head=t,this.tail=e,this};try{require("./iterator.js")(vl);}catch(e){}const kl=gl,Pl=Symbol("max"),Al=Symbol("length"),jl=Symbol("lengthCalculator"),Tl=Symbol("allowStale"),Jl=Symbol("maxAge"),Ol=Symbol("dispose"),xl=Symbol("noDisposeOnSet"),Wl=Symbol("lruList"),Kl=Symbol("cache"),Cl=Symbol("updateAgeOnGet"),Il=()=>1;const Hl=(e,t,r)=>{const n=e[Kl].get(t);if(n){const t=n.value;if(Rl(e,t)){if(Dl(e,n),!e[Tl])return}else r&&(e[Cl]&&(n.value.now=Date.now()),e[Wl].unshiftNode(n));return t.value}},Rl=(e,t)=>{if(!t||!t.maxAge&&!e[Jl])return !1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Jl]&&r>e[Jl]},Ml=e=>{if(e[Al]>e[Pl])for(let t=e[Wl].tail;e[Al]>e[Pl]&&null!==t;){const r=t.prev;Dl(e,t),t=r;}},Dl=(e,t)=>{if(t){const r=t.value;e[Ol]&&e[Ol](r.key,r.value),e[Al]-=r.length,e[Kl].delete(r.key),e[Wl].removeNode(t);}};class Nl{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0;}}const $l=(e,t,r,n)=>{let i=r.value;Rl(e,i)&&(Dl(e,r),e[Tl]||(i=void 0)),i&&t.call(n,i.value,i.key,e);};var Bl=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[Pl]=e.max||1/0;const t=e.length||Il;if(this[jl]="function"!=typeof t?Il:t,this[Tl]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[Jl]=e.maxAge||0,this[Ol]=e.dispose,this[xl]=e.noDisposeOnSet||!1,this[Cl]=e.updateAgeOnGet||!1,this.reset();}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Pl]=e||1/0,Ml(this);}get max(){return this[Pl]}set allowStale(e){this[Tl]=!!e;}get allowStale(){return this[Tl]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[Jl]=e,Ml(this);}get maxAge(){return this[Jl]}set lengthCalculator(e){"function"!=typeof e&&(e=Il),e!==this[jl]&&(this[jl]=e,this[Al]=0,this[Wl].forEach((e=>{e.length=this[jl](e.value,e.key),this[Al]+=e.length;}))),Ml(this);}get lengthCalculator(){return this[jl]}get length(){return this[Al]}get itemCount(){return this[Wl].length}rforEach(e,t){t=t||this;for(let r=this[Wl].tail;null!==r;){const n=r.prev;$l(this,e,r,t),r=n;}}forEach(e,t){t=t||this;for(let r=this[Wl].head;null!==r;){const n=r.next;$l(this,e,r,t),r=n;}}keys(){return this[Wl].toArray().map((e=>e.key))}values(){return this[Wl].toArray().map((e=>e.value))}reset(){this[Ol]&&this[Wl]&&this[Wl].length&&this[Wl].forEach((e=>this[Ol](e.key,e.value))),this[Kl]=new Map,this[Wl]=new kl,this[Al]=0;}dump(){return this[Wl].map((e=>!Rl(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Wl]}set(e,t,r){if((r=r||this[Jl])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,i=this[jl](t,e);if(this[Kl].has(e)){if(i>this[Pl])return Dl(this,this[Kl].get(e)),!1;const o=this[Kl].get(e).value;return this[Ol]&&(this[xl]||this[Ol](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[Al]+=i-o.length,o.length=i,this.get(e),Ml(this),!0}const o=new Nl(e,t,i,n,r);return o.length>this[Pl]?(this[Ol]&&this[Ol](e,t),!1):(this[Al]+=o.length,this[Wl].unshift(o),this[Kl].set(e,this[Wl].head),Ml(this),!0)}has(e){if(!this[Kl].has(e))return !1;const t=this[Kl].get(e).value;return !Rl(this,t)}get(e){return Hl(this,e,!0)}peek(e){return Hl(this,e,!1)}pop(){const e=this[Wl].tail;return e?(Dl(this,e),e.value):null}del(e){Dl(this,this[Kl].get(e));}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else {const e=i-t;e>0&&this.set(n.k,n.v,e);}}}prune(){this[Kl].forEach(((e,t)=>Hl(this,t,!1)));}},Ul={name:"openid-client",version:"5.1.5",description:"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs",keywords:["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],homepage:"https://github.com/panva/node-openid-client",repository:"panva/node-openid-client",funding:{url:"https://github.com/sponsors/panva"},license:"MIT",author:"Filip Skokan <panva.ip@gmail.com>",exports:{import:"./lib/index.mjs",require:"./lib/index.js"},main:"lib/index.js",types:"types/index.d.ts",files:["lib","types/index.d.ts"],scripts:{coverage:"nyc mocha test/**/*.test.js",prettier:"npx prettier --loglevel silent --write ./lib ./test ./certification ./types",test:"mocha test/**/*.test.js"},nyc:{reporter:["lcov","text-summary"]},dependencies:{jose:"^4.1.4","lru-cache":"^6.0.0","object-hash":"^2.0.1","oidc-token-hash":"^5.0.1"},devDependencies:{"@types/node":"^16.11.5","@types/passport":"^1.0.7",base64url:"^3.0.1",chai:"^4.2.0",jose2:"npm:jose@^2.0.5",mocha:"^8.2.0",nock:"^13.0.2",nyc:"^15.1.0",prettier:"^2.4.1","readable-mock-req":"^0.2.2",sinon:"^9.2.0",timekeeper:"^2.2.0"},engines:{node:"^12.19.0 || ^14.15.0 || ^16.13.0"},"standard-version":{scripts:{postchangelog:"sed -i '' -e 's/### \\[/## [/g' CHANGELOG.md"},types:[{type:"feat",section:"Features"},{type:"fix",section:"Fixes"},{type:"chore",hidden:!0},{type:"docs",hidden:!0},{type:"style",hidden:!0},{type:"refactor",section:"Refactor",hidden:!0},{type:"perf",section:"Performance",hidden:!1},{type:"test",hidden:!0}]}};const Ll=Symbol();var Vl={CLOCK_TOLERANCE:Symbol(),HTTP_OPTIONS:Ll};const zl=s$2,Fl=a$2,ql=o$2,Gl=u$2,{once:Xl}=d$2,Yl=Bl,Zl=Ul,{RPError:Ql}=Cr$2,ep=rl,{deep:tp}=Gd.exports,{HTTP_OPTIONS:rp}=Vl;let np;const ip=/^[\x21\x23-\x5B\x5D-\x7E]+$/,op=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"],sp=(e,t)=>{np=tp({},e.length?ep(t,...e):t,np);};function ap(e,t,r){r&&(e.removeHeader("content-type"),e.setHeader("content-type",r)),t&&(e.removeHeader("content-length"),e.setHeader("content-length",Buffer.byteLength(t)),e.write(t)),e.end();}sp([],{headers:{"User-Agent":`${Zl.name}/${Zl.version} (${Zl.homepage})`},timeout:3500});const cp=new Yl({max:100});wl.exports=async function(e,{accessToken:t,mTLS:r=!1,DPoP:n}={}){let i;try{i=new URL(e.url),delete e.url,zl(/^(https?:)$/.test(i.protocol));}catch(e){throw new TypeError("only valid absolute URLs can be requested")}const o=this[rp];let s=e;const a=`${i.origin}${i.pathname}`;let c,u,d,l,p,h;if(n&&"dpopProof"in this&&(s.headers=s.headers||{},s.headers.DPoP=await this.dpopProof({htu:`${i.origin}${i.pathname}`,htm:e.method,nonce:cp.get(a)},n,t)),o&&(c=ep(o.call(this,i,tp({},s,np)),...op)),s=tp({},c,s,np),r&&!s.pfx&&(!s.key||!s.cert))throw new TypeError("mutual-TLS certificate and key not set");if(s.searchParams)for(const[e,t]of Object.entries(s.searchParams))i.searchParams.delete(e),i.searchParams.set(e,t);({form:d,responseType:u,json:l,body:p,...s}=s);for(const[e,t]of Object.entries(s.headers||{}))void 0===t&&delete s.headers[e];const f=("https:"===i.protocol?Gl.request:ql.request)(i,s);return (async()=>{if(l?ap(f,JSON.stringify(l),"application/json"):d?ap(f,Fl.stringify(d),"application/x-www-form-urlencoded"):p?ap(f,p):ap(f),[h]=await Promise.race([Xl(f,"response"),Xl(f,"timeout")]),!h)throw f.destroy(),new Ql(`outgoing request timed out after ${s.timeout}ms`);const e=[];for await(const t of h)e.push(t);if(e.length)switch(u){case"json":Object.defineProperty(h,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t);}catch(e){throw Object.defineProperty(e,"response",{value:h}),e}finally{Object.defineProperty(h,"body",{value:t,configurable:!0});}return t},configurable:!0});break;case void 0:case"buffer":Object.defineProperty(h,"body",{get(){const t=Buffer.concat(e);return Object.defineProperty(h,"body",{value:t,configurable:!0}),t},configurable:!0});break;default:throw new TypeError("unsupported responseType request option")}return h})().catch((e=>{throw h&&Object.defineProperty(e,"response",{value:h}),e})).finally((()=>{const e=h&&h.headers["dpop-nonce"];e&&ip.test(e)&&cp.set(a,e);}))},wl.exports.setDefaults=sp.bind(void 0,op);var up={};up.keystores=new WeakMap;const dp=l$2,lp=Hr$2,pp=globalThis.structuredClone||(e=>dp.deserialize(dp.serialize(e))),hp=Xd,fp=Vd,yp=Symbol();function mp(e){switch(e){case"RSA":return "RSA-OAEP";case"EC":case"OKP":return "ECDH-ES";case"oct":return "HS256";default:return}}const wp=(e,{alg:t,use:r})=>{let n=0;return t&&e.alg&&n++,r&&e.use&&n++,n};function gp(e,t,r,n){if(t)return new Set([t]);switch(r){case"EC":{let t=[];return "enc"!==e&&void 0!==e||(t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])),"sig"!==e&&void 0!==e||(t=t.concat([`ES${n.slice(-3)}`.replace("21","12")])),new Set(t)}case"OKP":return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"]);case"RSA":{let t=[];return "enc"!==e&&void 0!==e||(t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512","RSA1_5"])),"sig"!==e&&void 0!==e||(t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])),new Set(t)}default:throw new Error("unreachable")}}var vp=class{#e;constructor(e,t){if(e!==yp)throw new Error("invalid constructor call");this.#e=t;}toJWKS(){return {keys:this.map((({jwk:{d:e,p:t,q:r,dp:n,dq:i,qi:o,...s}})=>s))}}all({alg:e,kid:t,use:r}={}){if(!r||!e)throw new Error;const n=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return "RSA";case"ES":return "EC";case"Ed":return "OKP";default:return}}(e),i={alg:e,use:r};return this.filter((i=>{let o=!0;return o&&void 0!==n&&i.jwk.kty!==n&&(o=!1),o&&void 0!==t&&i.jwk.kid!==t&&(o=!1),o&&void 0!==r&&void 0!==i.jwk.use&&i.jwk.use!==r&&(o=!1),o&&i.jwk.alg&&i.jwk.alg!==e?o=!1:i.algorithms.has(e)||(o=!1),o})).sort(((e,t)=>wp(t,i)-wp(e,i)))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=!1,onlyPrivate:r=!1}={}){if(!hp(e)||!Array.isArray(e.keys)||e.keys.some((e=>!hp(e)||!("kty"in e))))throw new TypeError("jwks must be a JSON Web Key Set formatted object");const n=[];for(let i of e.keys){i=pp(i);const{kty:e,kid:o,crv:s}=i;let{alg:a,use:c}=i;if("string"!=typeof e||!e)continue;if(void 0!==c&&"sig"!==c&&"enc"!==c)continue;if("string"!=typeof a&&void 0!==a)continue;if("string"!=typeof o&&void 0!==o)continue;if("EC"===e&&"sig"===c)switch(s){case"P-256":a="ES256";break;case"P-384":a="ES384";break;case"P-521":a="ES512";}if("secp256k1"===s&&(c="sig",a="ES256K"),"OKP"===e)switch(s){case"Ed25519":case"Ed448":c="sig",a="EdDSA";break;case"X25519":case"X448":c="enc";}if(a&&!c)switch(!0){case a.startsWith("ECDH"):case a.startsWith("RSA"):c="enc";}const u=await lp.importJWK(i,a||mp(i.kty)).catch((()=>{}));if(u)if(u instanceof Uint8Array||"secret"===u.type){if(r)throw new Error("jwks must only contain private keys")}else {if(!fp(u))throw new Error("what?!");if(r&&"private"!==u.type)throw new Error("jwks must only contain private keys");t&&"public"!==u.type||"RSA"===e&&u.asymmetricKeySize<2048||n.push({jwk:{...i,alg:a,use:c},keyObject:u,get algorithms(){return Object.defineProperty(this,"algorithms",{value:gp(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:!0,configurable:!1}),this.algorithms}});}}return new this(yp,n)}filter(...e){return this.#e.filter(...e)}find(...e){return this.#e.find(...e)}every(...e){return this.#e.every(...e)}some(...e){return this.#e.some(...e)}map(...e){return this.#e.map(...e)}forEach(...e){return this.#e.forEach(...e)}reduce(...e){return this.#e.reduce(...e)}sort(...e){return this.#e.sort(...e)}*[Symbol.iterator](){for(const e of this.#e)yield e;}};const{serialize:_p,deserialize:bp}=l$2;var Sp=globalThis.structuredClone||(e=>bp(_p(e)));const Ep=Xd;var kp=function e(t,...r){for(const n of r)if(Ep(n))for(const[r,i]of Object.entries(n))"__proto__"!==r&&"constructor"!==r&&(Ep(t[r])&&Ep(i)?t[r]=e(t[r],i):void 0!==i&&(t[r]=i));return t};const Pp=Hr$2,{RPError:Ap}=Cr$2,{assertIssuerConfiguration:jp}=tl,{random:Tp}=ml,Jp=cl,Op=wl.exports,{keystores:xp}=up,Wp=kp,Kp=e=>encodeURIComponent(e).replace(/%20/g,"+");async function Cp(e,t){let r=this[`${e}_endpoint_auth_signing_alg`];if(r||jp(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`),"client_secret_jwt"===this[`${e}_endpoint_auth_method`]){if(!r){const t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find((e=>/^HS(?:256|384|512)/.test(e)));}if(!r)throw new Ap(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);return new Pp.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r}).sign(this.secretForAlg(r))}const n=await xp.get(this);if(!n)throw new TypeError("no client jwks provided for signing a client assertion with");if(!r){const t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];r=Array.isArray(t)&&t.find((e=>n.get({alg:e,use:"sig"})));}if(!r)throw new Ap(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`);const i=n.get({alg:r,use:"sig"});if(!i)throw new Ap(`no key found in client jwks to sign a client assertion with using alg ${r}`);return new Pp.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:r,kid:i.jwk&&i.jwk.kid}).sign(i.keyObject)}async function Ip(e,{clientAssertionPayload:t}={}){switch(this[`${e}_endpoint_auth_method`]){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return {form:{client_id:this.client_id}};case"client_secret_post":if(!this.client_secret)throw new TypeError("client_secret_post client authentication method requires a client_secret");return {form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{const r=Jp(),n=[...new Set([this.issuer.issuer,this.issuer.token_endpoint].filter(Boolean))],i=await Cp.call(this,e,{iat:r,exp:r+60,jti:Tp(),iss:this.client_id,sub:this.client_id,aud:n,...t});return {form:{client_id:this.client_id,client_assertion:i,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if(!this.client_secret)throw new TypeError("client_secret_basic client authentication method requires a client_secret");const e=`${Kp(this.client_id)}:${Kp(this.client_secret)}`;return {headers:{Authorization:`Basic ${Buffer.from(e).toString("base64")}`}}}default:throw new TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}var Hp={resolveResponseType:function(){const{length:e,0:t}=this.response_types;if(1===e)return t},resolveRedirectUri:function(){const{length:e,0:t}=this.redirect_uris||[];if(1===e)return t},authFor:Ip,authenticatedPost:async function(e,t,{clientAssertionPayload:r,endpointAuthMethod:n=e,DPoP:i}={}){const o=await Ip.call(this,n,{clientAssertionPayload:r}),s=Wp(t,o),a=this[`${n}_endpoint_auth_method`].includes("tls_client_auth")||"token"===e&&this.tls_client_certificate_bound_access_tokens;let c;if(a&&this.issuer.mtls_endpoint_aliases&&(c=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]),c=c||this.issuer[`${e}_endpoint`],"form"in s)for(const[e,t]of Object.entries(s.form))void 0===t&&delete s.form[e];return Op.call(this,{...s,method:"POST",url:c,headers:{..."revocation"!==e?{Accept:"application/json"}:void 0,...s.headers}},{mTLS:a,DPoP:i})}},Rp={},Mp={exports:{}};!function(e,t){var r=n;function i(e,t){return function(e,t){var n;n="passthrough"!==t.algorithm?r.createHash(t.algorithm):new d;void 0===n.write&&(n.write=n.update,n.end=n.update);u(t,n).dispatch(e),n.update||n.end("");if(n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var i=n.read();if("buffer"===t.encoding)return i;return i.toString(t.encoding)}(e,t=a(e,t))}(t=Mp.exports=i).sha1=function(e){return i(e)},t.keys=function(e){return i(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},t.MD5=function(e){return i(e,{algorithm:"md5",encoding:"hex"})},t.keysMD5=function(e){return i(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var o=r.getHashes?r.getHashes().slice():["sha1","md5"];o.push("passthrough");var s=["buffer","hex","binary","base64"];function a(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<o.length;++n)o[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=o[n]);if(-1===o.indexOf(r.algorithm))throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+o.join(", "));if(-1===s.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+s.join(", "));return r}function c(e){if("function"!=typeof e)return !1;return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function u(e,t,r){r=r||[];var n=function(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")};return {dispatch:function(t){e.replacer&&(t=e.replacer(t));var r=typeof t;return null===t&&(r="null"),this["_"+r](t)},_object:function(t){var i=Object.prototype.toString.call(t),o=/\[object (.*)\]/i.exec(i);o=(o=o?o[1]:"unknown:["+i+"]").toLowerCase();var s;if((s=r.indexOf(t))>=0)return this.dispatch("[CIRCULAR:"+s+"]");if(r.push(t),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(t))return n("buffer:"),n(t);if("object"===o||"function"===o||"asyncfunction"===o){var a=Object.keys(t);e.unorderedObjects&&(a=a.sort()),!1===e.respectType||c(t)||a.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(a=a.filter((function(t){return !e.excludeKeys(t)}))),n("object:"+a.length+":");var u=this;return a.forEach((function(r){u.dispatch(r),n(":"),e.excludeValues||u.dispatch(t[r]),n(",");}))}if(!this["_"+o]){if(e.ignoreUnknown)return n("["+o+"]");throw new Error('Unknown object type "'+o+'"')}this["_"+o](t);},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(n("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var s=[],a=t.map((function(t){var n=new d,i=r.slice();return u(e,n,i).dispatch(t),s=s.concat(i.slice(r.length)),n.read().toString()}));return r=r.concat(s),a.sort(),this._array(a,!1)},_date:function(e){return n("date:"+e.toJSON())},_symbol:function(e){return n("symbol:"+e.toString())},_error:function(e){return n("error:"+e.toString())},_boolean:function(e){return n("bool:"+e.toString())},_string:function(e){n("string:"+e.length+":"),n(e.toString());},_function:function(t){n("fn:"),c(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t);},_number:function(e){return n("number:"+e.toString())},_xml:function(e){return n("xml:"+e.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(e){return n("regex:"+e.toString())},_uint8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return n("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return n("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return n("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return n("url:"+e.toString())},_map:function(t){n("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){n("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return n("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_bigint:function(e){return n("bigint:"+e.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function d(){return {buf:"",write:function(e){this.buf+=e;},end:function(e){this.buf+=e;},read:function(){return this.buf}}}t.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),u(t=a(e,t),r).dispatch(e)};}(0,Mp.exports);const Dp=Mp.exports,Np=Bl,{RPError:$p}=Cr$2,{assertIssuerConfiguration:Bp}=tl,Up=vp,{keystores:Lp}=up,Vp=al,zp=wl.exports,Fp=new WeakMap,qp=new WeakMap,Gp=e=>(qp.has(e)||qp.set(e,new Np({max:100})),qp.get(e));async function Xp(e=!1){Bp(this,"jwks_uri");const t=Lp.get(this),r=Gp(this);return e||!t?(Fp.has(this)||(r.reset(),Fp.set(this,(async()=>{const e=await zp.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally((()=>{Fp.delete(this);})),t=Vp(e),n=Up.fromJWKS(t,{onlyPublic:!0});return r.set("throttle",!0,6e4),Lp.set(this,n),n})())),Fp.get(this)):t}Rp.queryKeyStore=async function({kid:e,kty:t,alg:r,use:n},{allowMulti:i=!1}={}){const o=Gp(this),s={kid:e,kty:t,alg:r,use:n},a=Dp(s,{algorithm:"sha256",ignoreUnknown:!0,unorderedArrays:!0,unorderedSets:!0}),c=o.get(a)||o.get("throttle"),u=await Xp.call(this,!c),d=u.all(s);if(delete s.use,0===d.length)throw new $p({printf:["no valid key found in issuer's jwks_uri for key parameters %j",s],jwks:u});if(!i&&d.length>1&&!e)throw new $p({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",s],jwks:u});return o.set(a,!0),d},Rp.keystore=Xp;const{inspect:Yp}=util$2,{RPError:Zp,OPError:Qp}=Cr$2,eh=cl,{authenticatedPost:th}=Hp,rh=al,nh=ll;class ih{#t;#r;#n;#i;#o;#s;#a;#c;#u;constructor({client:e,exchangeBody:t,clientAssertionPayload:r,response:n,maxAge:i,DPoP:o}){if(["verification_uri","user_code","device_code"].forEach((e=>{if("string"!=typeof n[e]||!n[e])throw new Zp(`expected ${e} string to be returned by Device Authorization Response, got %j`,n[e])})),!Number.isSafeInteger(n.expires_in))throw new Zp("expected expires_in number to be returned by Device Authorization Response, got %j",n.expires_in);this.#s=eh()+n.expires_in,this.#r=e,this.#i=o,this.#c=i,this.#o=t,this.#n=r,this.#u=n,this.#a=1e3*n.interval||5e3;}abort(){this.#t=!0;}async poll({signal:e}={}){if(e&&e.aborted||this.#t)throw new Zp("polling aborted");if(this.expired())throw new Zp("the device code %j has expired and the device authorization session has concluded",this.device_code);await new Promise((e=>setTimeout(e,this.#a)));const t=await th.call(this.#r,"token",{form:{...this.#o,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},responseType:"json"},{clientAssertionPayload:this.#n,DPoP:this.#i});let r;try{r=rh(t);}catch(t){switch(t instanceof Qp&&t.error){case"slow_down":this.#a+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}const n=new nh(r);return "id_token"in n&&(await this.#r.decryptIdToken(n),await this.#r.validateIdToken(n,void 0,"token",this.#c)),n}get device_code(){return this.#u.device_code}get user_code(){return this.#u.user_code}get verification_uri(){return this.#u.verification_uri}get verification_uri_complete(){return this.#u.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#s-eh(),0])}expired(){return 0===this.expires_in}[Yp.custom](){return `${this.constructor.name} ${Yp(this.#u,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}var oh=ih;const{inspect:sh}=util$2,ah=o$2,ch=n,{strict:uh}=s$2,dh=a$2,lh=i$1,ph=Hr$2,hh=Ud,fh=Vd,yh=e=>{if("string"!=typeof e||!e)throw new TypeError("JWT must be a string");const{0:t,1:r,2:n,length:i}=e.split(".");if(5===i)throw new TypeError("encrypted JWTs cannot be decoded");if(3!==i)throw new Error("JWTs must have three components");try{return {header:JSON.parse(qd.decode(t)),payload:JSON.parse(qd.decode(r)),signature:n}}catch(e){throw new Error("JWT is malformed")}},mh=zd,wh=Gd.exports,gh=el,{assertSigningAlgValuesSupport:vh,assertIssuerConfiguration:_h}=tl,bh=rl,Sh=Xd,Eh=al,kh=ll,{OPError:Ph,RPError:Ah}=Cr$2,jh=cl,{random:Th}=ml,Jh=wl.exports,{CLOCK_TOLERANCE:Oh}=Vl,{keystores:xh}=up,Wh=vp,Kh=Sp,{authenticatedPost:Ch,resolveResponseType:Ih,resolveRedirectUri:Hh}=Hp,{queryKeyStore:Rh}=Rp,Mh=oh,[Dh,Nh]=process.version.slice(1).split(".").map((e=>parseInt(e,10))),$h=Dh>=17||16===Dh&&Nh>=9,Bh=Symbol(),Uh=Symbol(),Lh=Symbol();function Vh(e){return bh(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function zh(e,t="Bearer"){return `${t} ${e}`}function Fh(e,t,r){if(void 0===e[r])throw new Ah({message:`missing required JWT property ${r}`,jwt:t})}function qh(e){const t={client_id:this.client_id,scope:"openid",response_type:Ih.call(this),redirect_uri:Hh.call(this),...e};return Object.entries(t).forEach((([e,r])=>{null==r?delete t[e]:"claims"===e&&"object"==typeof r?t[e]=JSON.stringify(r):"resource"===e&&Array.isArray(r)?t[e]=r:"string"!=typeof r&&(t[e]=String(r));})),t}function Gh(e){if(!Sh(e)||!Array.isArray(e.keys)||e.keys.some((e=>!Sh(e)||!("kty"in e))))throw new TypeError("jwks must be a JSON Web Key Set formatted object");return Wh.fromJWKS(e,{onlyPrivate:!0})}class Xh{#d;#l;#p;#h;constructor(e,t,r={},n,i){if(this.#d=new Map,this.#l=e,this.#p=t,"string"!=typeof r.client_id||!r.client_id)throw new TypeError("client_id is required");const o={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:!0,token_endpoint_auth_method:void 0}:void 0,...r};if(this.fapi())switch(o.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!n)throw new TypeError("jwks is required");break;case void 0:throw new TypeError("token_endpoint_auth_method is required");default:throw new TypeError("invalid or unsupported token_endpoint_auth_method")}if(function(e,t,r){if(t.token_endpoint_auth_method||function(e,t){try{const r=e.issuer.token_endpoint_auth_methods_supported;r.includes(t.token_endpoint_auth_method)||r.includes("client_secret_post")&&(t.token_endpoint_auth_method="client_secret_post");}catch(e){}}(e,r),t.redirect_uri){if(t.redirect_uris)throw new TypeError("provide a redirect_uri or redirect_uris, not both");r.redirect_uris=[t.redirect_uri],delete r.redirect_uri;}if(t.response_type){if(t.response_types)throw new TypeError("provide a response_type or response_types, not both");r.response_types=[t.response_type],delete r.response_type;}}(this,r,o),vh("token",this.issuer,o),["introspection","revocation"].forEach((e=>{!function(e,t,r){if(!t[`${e}_endpoint`])return;const n=r.token_endpoint_auth_method,i=r.token_endpoint_auth_signing_alg,o=`${e}_endpoint_auth_method`,s=`${e}_endpoint_auth_signing_alg`;void 0===r[o]&&void 0===r[s]&&(void 0!==n&&(r[o]=n),void 0!==i&&(r[s]=i));}(e,this.issuer,o),vh(e,this.issuer,o);})),Object.entries(o).forEach((([e,t])=>{this.#d.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#d.get(e)},enumerable:!0});})),void 0!==n){const e=Gh.call(this,n);xh.set(this,e);}null!=i&&i.additionalAuthorizedParties&&(this.#h=Kh(i.additionalAuthorizedParties)),this[Oh]=0;}authorizationUrl(e={}){if(!Sh(e))throw new TypeError("params must be a plain object");_h(this.issuer,"authorization_endpoint");const t=lh.parse(this.issuer.authorization_endpoint,!0);return t.search=null,t.query={...t.query,...qh.call(this,e)},lh.format(t)}authorizationPost(e={}){if(!Sh(e))throw new TypeError("params must be a plain object");const t=qh.call(this,e),r=Object.keys(t).map((e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`)).join("\n");return `<!DOCTYPE html>\n<head>\n<title>Requesting Authorization</title>\n</head>\n<body onload="javascript:document.forms[0].submit()">\n<form method="post" action="${this.issuer.authorization_endpoint}">\n  ${r}\n</form>\n</body>\n</html>`}endSessionUrl(e={}){_h(this.issuer,"end_session_endpoint");const{0:t,length:r}=this.post_logout_redirect_uris||[],{post_logout_redirect_uri:n=(1===r?t:void 0)}=e;let i=e.id_token_hint;if(i instanceof kh){if(!i.id_token)throw new TypeError("id_token not present in TokenSet");i=i.id_token;}const o=lh.parse(this.issuer.end_session_endpoint,!0);return o.search=null,o.query={...e,...o.query,post_logout_redirect_uri:n,id_token_hint:i},Object.entries(o.query).forEach((([e,t])=>{null==t&&delete o.query[e];})),lh.format(o)}callbackParams(e){const t=e instanceof ah.IncomingMessage||e&&e.method&&e.url;if(!("string"==typeof e)&&!t)throw new TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike");if(!t)return Vh(lh.parse(e,!0).query);switch(e.method){case"GET":return Vh(lh.parse(e.url,!0).query);case"POST":if(void 0===e.body)throw new TypeError("incoming message body missing, include a body parser prior to this method call");switch(typeof e.body){case"object":case"string":return Buffer.isBuffer(e.body)?Vh(dh.parse(e.body.toString("utf-8"))):"string"==typeof e.body?Vh(dh.parse(e.body)):Vh(e.body);default:throw new TypeError("invalid IncomingMessage body object")}default:throw new TypeError("invalid IncomingMessage method")}}async callback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:o}={}){let s=Vh(t);if(r.jarm&&!("response"in t))throw new Ah({message:"expected a JARM response",checks:r,params:s});if("response"in t){const e=await this.decryptJARM(s.response);s=await this.validateJARM(e);}if(this.default_max_age&&!r.max_age&&(r.max_age=this.default_max_age),s.state&&!r.state)throw new TypeError("checks.state argument is missing");if(!s.state&&r.state)throw new Ah({message:"state missing from the response",checks:r,params:s});if(r.state!==s.state)throw new Ah({printf:["state mismatch, expected %s, got: %s",r.state,s.state],checks:r,params:s});if("iss"in s){if(_h(this.issuer,"issuer"),s.iss!==this.issuer.issuer)throw new Ah({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,s.iss],params:s})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in s)&&!("response"in t))throw new Ah({message:"iss missing from the response",params:s});if(s.error)throw new Ph(s);const a={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(r.response_type)for(const e of r.response_type.split(" "))if("none"===e){if(s.code||s.id_token||s.access_token)throw new Ah({message:'unexpected params encountered for "none" response',checks:r,params:s})}else for(const t of a[e])if(!s[t])throw new Ah({message:`${t} missing from response`,checks:r,params:s});if(s.id_token){const e=new kh(s);if(await this.decryptIdToken(e),await this.validateIdToken(e,r.nonce,"authorization",r.max_age,r.state),!s.code)return e}if(s.code){const t=await this.grant({...n,grant_type:"authorization_code",code:s.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:o});if(await this.decryptIdToken(t),await this.validateIdToken(t,r.nonce,"token",r.max_age),s.session_state&&(t.session_state=s.session_state),t.scope&&r.scope&&this.fapi()){const e=new Set(r.scope.split(" "));if(!t.scope.split(" ").every(Set.prototype.has,e))throw new Ah({message:"unexpected scope returned",checks:r,scope:t.scope})}return t}return new kh(s)}async oauthCallback(e,t,r={},{exchangeBody:n,clientAssertionPayload:i,DPoP:o}={}){let s=Vh(t);if(r.jarm&&!("response"in t))throw new Ah({message:"expected a JARM response",checks:r,params:s});if("response"in t){const e=await this.decryptJARM(s.response);s=await this.validateJARM(e);}if(s.state&&!r.state)throw new TypeError("checks.state argument is missing");if(!s.state&&r.state)throw new Ah({message:"state missing from the response",checks:r,params:s});if(r.state!==s.state)throw new Ah({printf:["state mismatch, expected %s, got: %s",r.state,s.state],checks:r,params:s});if("iss"in s){if(_h(this.issuer,"issuer"),s.iss!==this.issuer.issuer)throw new Ah({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,s.iss],params:s})}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in s)&&!("response"in t))throw new Ah({message:"iss missing from the response",params:s});if(s.error)throw new Ph(s);if("id_token"in s)throw new Ah({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:s});const a={code:["code"],token:["access_token","token_type"]};if(r.response_type)for(const e of r.response_type.split(" ")){if("none"===e&&(s.code||s.id_token||s.access_token))throw new Ah({message:'unexpected params encountered for "none" response',checks:r,params:s});if(a[e])for(const t of a[e])if(!s[t])throw new Ah({message:`${t} missing from response`,checks:r,params:s})}if(s.code){const t=await this.grant({...n,grant_type:"authorization_code",code:s.code,redirect_uri:e,code_verifier:r.code_verifier},{clientAssertionPayload:i,DPoP:o});if("id_token"in t)throw new Ah({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:s});if(t.scope&&r.scope&&this.fapi()){const e=new Set(r.scope.split(" "));if(!t.scope.split(" ").every(Set.prototype.has,e))throw new Ah({message:"unexpected scope returned",checks:r,scope:t.scope})}return t}return new kh(s)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg)return e;let t=e;if(t instanceof kh){if(!t.id_token)throw new TypeError("id_token not present in TokenSet");t=t.id_token;}const r=this.id_token_encrypted_response_alg,n=this.id_token_encrypted_response_enc,i=await this.decryptJWE(t,r,n);return e instanceof kh?(e.id_token=i,e):i}async validateJWTUserinfo(e){const t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg)return e;const t=this.authorization_encrypted_response_alg,r=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg)return e;const t=this.userinfo_encrypted_response_alg,r=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,r)}async decryptJWE(e,t,r="A128CBC-HS256"){const n=JSON.parse(mh.decode(e.split(".")[0]));if(n.alg!==t)throw new Ah({printf:["unexpected JWE alg received, expected %s, got: %s",t,n.alg],jwt:e});if(n.enc!==r)throw new Ah({printf:["unexpected JWE enc received, expected %s, got: %s",r,n.enc],jwt:e});const i=e=>(new TextDecoder).decode(e.plaintext);let o;if(t.match(/^(?:RSA|ECDH)/)){const t=await xh.get(this);for(const{keyObject:r}of t.all({...ph.decodeProtectedHeader(e),use:"enc"}))if(o=await ph.compactDecrypt(e,r).then(i,(()=>{})),o)break}else o=await ph.compactDecrypt(e,this.secretForAlg("dir"===t?r:t)).then(i,(()=>{}));if(!o)throw new Ah({message:"failed to decrypt JWE",jwt:e});return o}async validateIdToken(e,t,r,n,i){let o=e;const s=this.id_token_signed_response_alg;if(o instanceof kh){if(!o.id_token)throw new TypeError("id_token not present in TokenSet");o=o.id_token;}o=String(o);const a=jh(),{protected:c,payload:u,key:d}=await this.validateJWT(o,s);if("number"==typeof n||n!==Lh&&this.require_auth_time){if(!u.auth_time)throw new Ah({message:"missing required JWT property auth_time",jwt:o});if("number"!=typeof u.auth_time)throw new Ah({message:"JWT auth_time claim must be a JSON numeric value",jwt:o})}if("number"==typeof n&&u.auth_time+n<a-this[Oh])throw new Ah({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",n,u.auth_time,a-this[Oh]],now:a,tolerance:this[Oh],auth_time:u.auth_time,jwt:o});if(t!==Uh&&(u.nonce||void 0!==t)&&u.nonce!==t)throw new Ah({printf:["nonce mismatch, expected %s, got: %s",t,u.nonce],jwt:o});if("authorization"===r){if(!u.at_hash&&e.access_token)throw new Ah({message:"missing required property at_hash",jwt:o});if(!u.c_hash&&e.code)throw new Ah({message:"missing required property c_hash",jwt:o});if(this.fapi()&&!u.s_hash&&(e.state||i))throw new Ah({message:"missing required property s_hash",jwt:o});if(u.s_hash){if(!i)throw new TypeError('cannot verify s_hash, "checks.state" property not provided');try{hh.validate({claim:"s_hash",source:"state"},u.s_hash,i,c.alg,d.jwk&&d.jwk.crv);}catch(e){throw new Ah({message:e.message,jwt:o})}}}if(this.fapi()&&u.iat<a-3600)throw new Ah({printf:["JWT issued too far in the past, now %i, iat %i",a,u.iat],now:a,tolerance:this[Oh],iat:u.iat,jwt:o});if(e.access_token&&void 0!==u.at_hash)try{hh.validate({claim:"at_hash",source:"access_token"},u.at_hash,e.access_token,c.alg,d.jwk&&d.jwk.crv);}catch(e){throw new Ah({message:e.message,jwt:o})}if(e.code&&void 0!==u.c_hash)try{hh.validate({claim:"c_hash",source:"code"},u.c_hash,e.code,c.alg,d.jwk&&d.jwk.crv);}catch(e){throw new Ah({message:e.message,jwt:o})}return e}async validateJWT(e,t,r=["iss","sub","aud","exp","iat"]){const n="https://self-issued.me"===this.issuer.issuer,i=jh();let o,s,a;try{({header:o,payload:s}=yh(e,{complete:!0}));}catch(t){throw new Ah({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(o.alg!==t)throw new Ah({printf:["unexpected JWT alg received, expected %s, got: %s",t,o.alg],jwt:e});if(n&&(r=[...r,"sub_jwk"]),r.forEach(Fh.bind(void 0,s,e)),void 0!==s.iss){let t=this.issuer.issuer;if(this.#p&&(t=this.issuer.issuer.replace("{tenantid}",s.tid)),s.iss!==t)throw new Ah({printf:["unexpected iss value, expected %s, got: %s",t,s.iss],jwt:e})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw new Ah({message:"JWT iat claim must be a JSON numeric value",jwt:e});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw new Ah({message:"JWT nbf claim must be a JSON numeric value",jwt:e});if(s.nbf>i+this[Oh])throw new Ah({printf:["JWT not active yet, now %i, nbf %i",i+this[Oh],s.nbf],now:i,tolerance:this[Oh],nbf:s.nbf,jwt:e})}if(void 0!==s.exp){if("number"!=typeof s.exp)throw new Ah({message:"JWT exp claim must be a JSON numeric value",jwt:e});if(i-this[Oh]>=s.exp)throw new Ah({printf:["JWT expired, now %i, exp %i",i-this[Oh],s.exp],now:i,tolerance:this[Oh],exp:s.exp,jwt:e})}if(void 0!==s.aud)if(Array.isArray(s.aud)){if(s.aud.length>1&&!s.azp)throw new Ah({message:"missing required JWT property azp",jwt:e});if(!s.aud.includes(this.client_id))throw new Ah({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,s.aud],jwt:e})}else if(s.aud!==this.client_id)throw new Ah({printf:["aud mismatch, expected %s, got: %s",this.client_id,s.aud],jwt:e});if(void 0!==s.azp){let t=this.#h;if(t="string"==typeof t?[this.client_id,t]:Array.isArray(t)?[this.client_id,...t]:[this.client_id],!t.includes(s.azp))throw new Ah({printf:["azp mismatch, got: %s",s.azp],jwt:e})}if(n){try{uh(Sh(s.sub_jwk));const e=await ph.importJWK(s.sub_jwk,o.alg);uh.equal(e.type,"public"),a=[{keyObject:e}];}catch(t){throw new Ah({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await ph.calculateJwkThumbprint(s.sub_jwk)!==s.sub)throw new Ah({message:"failed to match the subject with sub_jwk",jwt:e})}else o.alg.startsWith("HS")?a=[this.secretForAlg(o.alg)]:"none"!==o.alg&&(a=await Rh.call(this.issuer,{...o,use:"sig"}));if(!a&&"none"===o.alg)return {protected:o,payload:s};for(const t of a){const r=await ph.compactVerify(e,t instanceof Uint8Array?t:t.keyObject).catch((()=>{}));if(r)return {payload:s,protected:r.protectedHeader,key:t}}throw new Ah({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){let i=e;if(i instanceof kh){if(!i.refresh_token)throw new TypeError("refresh_token not present in TokenSet");i=i.refresh_token;}const o=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(i)},{clientAssertionPayload:r,DPoP:n});if(o.id_token&&(await this.decryptIdToken(o),await this.validateIdToken(o,Uh,"token",Lh),e instanceof kh&&e.id_token)){const t=e.claims().sub,r=o.claims().sub;if(r!==t)throw new Ah({printf:["sub mismatch, expected %s, got: %s",t,r],jwt:o.id_token})}return o}async requestResource(e,t,{method:r,headers:n,body:i,DPoP:o,tokenType:s=(o?"DPoP":t instanceof kh?t.token_type:"Bearer")}={},a){if(t instanceof kh){if(!t.access_token)throw new TypeError("access_token not present in TokenSet");t=t.access_token;}if(!t)throw new TypeError("no access token provided");if("string"!=typeof t)throw new TypeError("invalid access token provided");const c={headers:{Authorization:zh(t,s),...n},body:i},u=!!this.tls_client_certificate_bound_access_tokens,d=await Jh.call(this,{...c,responseType:"buffer",method:r,url:e},{accessToken:t,mTLS:u,DPoP:o}),l=d.headers["www-authenticate"];return a!==Bh&&l&&l.toLowerCase().startsWith("dpop ")&&"use_dpop_nonce"===gh(l).error?this.requestResource(e,t,{method:r,headers:n,body:i,DPoP:o,tokenType:s}):d}async userinfo(e,{method:t="GET",via:r="header",tokenType:n,params:i,DPoP:o}={}){_h(this.issuer,"userinfo_endpoint");const s={tokenType:n,method:String(t).toUpperCase(),DPoP:o};if("GET"!==s.method&&"POST"!==s.method)throw new TypeError("#userinfo() method can only be POST or a GET");if("body"===r&&"POST"!==s.method)throw new TypeError("can only send body on POST");const a=!(!this.userinfo_signed_response_alg&&!this.userinfo_encrypted_response_alg);s.headers=a?{Accept:"application/jwt"}:{Accept:"application/json"};let c;!!this.tls_client_certificate_bound_access_tokens&&this.issuer.mtls_endpoint_aliases&&(c=this.issuer.mtls_endpoint_aliases.userinfo_endpoint),c=new lh.URL(c||this.issuer.userinfo_endpoint),"body"===r&&(s.headers.Authorization=void 0,s.headers["Content-Type"]="application/x-www-form-urlencoded",s.body=new lh.URLSearchParams,s.body.append("access_token",e instanceof kh?e.access_token:e)),i&&("GET"===s.method?Object.entries(i).forEach((([e,t])=>{c.searchParams.append(e,t);})):(s.body||(s.body=new lh.URLSearchParams,s.headers["Content-Type"]="application/x-www-form-urlencoded"),Object.entries(i).forEach((([e,t])=>{s.body.append(e,t);})))),s.body&&(s.body=s.body.toString());const u=await this.requestResource(c,e,s);let d=Eh(u,{bearer:!0});if(a){if(!/^application\/jwt/.test(u.headers["content-type"]))throw new Ah({message:"expected application/jwt response from the userinfo_endpoint",response:u});const e=u.body.toString(),t=await this.decryptJWTUserinfo(e);if(this.userinfo_signed_response_alg)({payload:d}=await this.validateJWTUserinfo(t));else try{d=JSON.parse(t),uh(Sh(d));}catch(e){throw new Ah({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else try{d=JSON.parse(u.body);}catch(e){throw Object.defineProperty(e,"response",{value:u}),e}if(e instanceof kh&&e.id_token){const t=e.claims().sub;if(d.sub!==t)throw new Ah({printf:["userinfo sub mismatch, expected %s, got: %s",t,d.sub],body:d,jwt:e.id_token})}return d}encryptionSecret(e){const t=e<=256?"sha256":e<=384?"sha384":e<=512&&"sha512";if(!t)throw new Error("unsupported symmetric encryption key derivation");return ch.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret)throw new TypeError("client_secret is required");return /^A(\d{3})(?:GCM)?KW$/.test(e)?this.encryptionSecret(parseInt(RegExp.$1,10)):/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)?this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10)):(new TextEncoder).encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:r}={},n){_h(this.issuer,"token_endpoint");const i=await Ch.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:r});let o;try{o=Eh(i);}catch(i){if(n!==Bh&&i instanceof Ph&&"use_dpop_nonce"===i.error)return this.grant(e,{clientAssertionPayload:t,DPoP:r},Bh);throw i}return new kh(o)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:r,DPoP:n}={}){_h(this.issuer,"device_authorization_endpoint"),_h(this.issuer,"token_endpoint");const i=qh.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e}),o=await Ch.call(this,"device_authorization",{responseType:"json",form:i},{clientAssertionPayload:r,endpointAuthMethod:"token"}),s=Eh(o);return new Mh({client:this,exchangeBody:t,clientAssertionPayload:r,response:s,maxAge:e.max_age,DPoP:n})}async revoke(e,t,{revokeBody:r,clientAssertionPayload:n}={}){if(_h(this.issuer,"revocation_endpoint"),void 0!==t&&"string"!=typeof t)throw new TypeError("hint must be a string");const i={...r,token:e};t&&(i.token_type_hint=t);const o=await Ch.call(this,"revocation",{form:i},{clientAssertionPayload:n});Eh(o,{body:!1});}async introspect(e,t,{introspectBody:r,clientAssertionPayload:n}={}){if(_h(this.issuer,"introspection_endpoint"),void 0!==t&&"string"!=typeof t)throw new TypeError("hint must be a string");const i={...r,token:e};t&&(i.token_type_hint=t);const o=await Ch.call(this,"introspection",{form:i,responseType:"json"},{clientAssertionPayload:n});return Eh(o)}static async register(e,t={}){const{initialAccessToken:r,jwks:n,...i}=t;if(_h(this.issuer,"registration_endpoint"),void 0!==n&&!e.jwks&&!e.jwks_uri){const t=await Gh.call(this,n);e.jwks=t.toJWKS();}const o=await Jh.call(this,{headers:{Accept:"application/json",...r?{Authorization:zh(r)}:void 0},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"});return new this(Eh(o,{statusCode:201,bearer:!0}),n,i)}get metadata(){return Kh(Object.fromEntries(this.#d.entries()))}static async fromUri(e,t,r,n){const i=await Jh.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:zh(t),Accept:"application/json"}});return new this(Eh(i,{bearer:!0}),r,n)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:r=this.request_object_encryption_alg,enc:n=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){if(!Sh(e))throw new TypeError("requestObject must be a plain object");let i,o;const s=jh(),a={alg:t,typ:"oauth-authz-req+jwt"},c=JSON.stringify(wh({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:Th(),iat:s,exp:s+300,...this.fapi()?{nbf:s}:void 0}));if("none"===t)i=[mh.encode(JSON.stringify(a)),mh.encode(c),""].join(".");else {const e=t.startsWith("HS");if(e)o=this.secretForAlg(t);else {const e=await xh.get(this);if(!e)throw new TypeError(`no keystore present for client, cannot sign using alg ${t}`);if(o=e.get({alg:t,use:"sig"}),!o)throw new TypeError(`no key to sign with found for alg ${t}`)}i=await new ph.CompactSign((new TextEncoder).encode(c)).setProtectedHeader({...a,kid:e?void 0:o.jwk.kid}).sign(e?o:o.keyObject);}if(!r)return i;const u={alg:r,enc:n,cty:"oauth-authz-req+jwt"};return u.alg.match(/^(RSA|ECDH)/)?[o]=await Rh.call(this.issuer,{alg:u.alg,use:"enc"},{allowMulti:!0}):o=this.secretForAlg("dir"===u.alg?u.enc:u.alg),new ph.CompactEncrypt((new TextEncoder).encode(i)).setProtectedHeader({...u,kid:o instanceof Uint8Array?void 0:o.jwk.kid}).encrypt(o instanceof Uint8Array?o:o.keyObject)}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){_h(this.issuer,"pushed_authorization_request_endpoint");const r={..."request"in e?e:qh.call(this,e),client_id:this.client_id},n=await Ch.call(this,"pushed_authorization_request",{responseType:"json",form:r},{clientAssertionPayload:t,endpointAuthMethod:"token"}),i=Eh(n,{statusCode:201});if(!("expires_in"in i))throw new Ah({message:"expected expires_in in Pushed Authorization Successful Response",response:n});if("number"!=typeof i.expires_in)throw new Ah({message:"invalid expires_in value in Pushed Authorization Successful Response",response:n});if(!("request_uri"in i))throw new Ah({message:"expected request_uri in Pushed Authorization Successful Response",response:n});if("string"!=typeof i.request_uri)throw new Ah({message:"invalid request_uri value in Pushed Authorization Successful Response",response:n});return i}get issuer(){return this.#l}[sh.custom](){return `${this.constructor.name} ${sh(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}fapi(){return "FAPI1Client"===this.constructor.name}}async function Yh(e){const t=this.authorization_signed_response_alg,{payload:r}=await this.validateJWT(e,t,["iss","exp","aud"]);return Vh(r)}Object.defineProperty(Xh.prototype,"validateJARM",{enumerable:!0,configurable:!0,value(...e){return process.emitWarning("The JARM API implements an OIDF implementer's draft. Breaking draft implementations are included as minor versions of the openid-client library, therefore, the ~ semver operator should be used and close attention be payed to library changelog as well as the drafts themselves.","DraftWarning"),Object.defineProperty(Xh.prototype,"validateJARM",{enumerable:!0,configurable:!0,value:Yh}),this.validateJARM(...e)}});const Zh=/^(?:RS|PS)(?:256|384|512)$/;const Qh=Buffer.from([42,134,72,206,61,3,1,7]),ef=Buffer.from([43,129,4,0,34]),tf=Buffer.from([43,129,4,0,35]),rf=Buffer.from([43,129,4,0,10]);const nf=new WeakMap;async function of(e,t){if("object"==typeof t&&"object"==typeof t.key&&t.key.crv)return bh(t.key,"kty","crv","x","y","e","n");if(nf.has(t))return nf.get(t);const r=bh(await ph.exportJWK(e),"kty","crv","x","y","e","n");return fh(t)&&nf.set(t,r),r}async function sf(e,t,r){if(!Sh(e))throw new TypeError("payload must be a plain object");let n,i;if(n=fh(t)?t:ch.createPrivateKey(t),"private"!==n.type)throw new TypeError('"DPoP" option must be a private key');switch(n.asymmetricKeyType){case"ed25519":case"ed448":i="EdDSA";break;case"ec":i=function(e,t){switch("object"==typeof t&&"object"==typeof t.key&&t.key.crv){case"P-256":return "ES256";case"secp256k1":return "ES256K";case"P-384":return "ES384";case"P-512":return "ES512"}const r=e.export({format:"der",type:"pkcs8"}),n=r[1]<128?17:18,i=r[n],o=r.slice(n+1,n+1+i);if(o.equals(Qh))return "ES256";if(o.equals(ef))return "ES384";if(o.equals(tf))return "ES512";if(o.equals(rf))return "ES256K";throw new TypeError("unsupported DPoP private key curve")}(n,t);break;case"rsa":case $h&&"rsa-pss":i=function(e,t,r){if("object"==typeof t&&"object"==typeof t.key&&t.key.alg)return t.key.alg;if(Array.isArray(r)){let t=r.filter(RegExp.prototype.test.bind(Zh));return "rsa-pss"===e.asymmetricKeyType&&(t=t.filter((e=>e.startsWith("PS")))),["PS256","PS384","PS512","RS256","RS384","RS384"].find((e=>t.includes(e)))}return "PS256"}(n,t,this.issuer.dpop_signing_alg_values_supported);break;default:throw new TypeError("unsupported DPoP private key asymmetric key type")}if(!i)throw new TypeError("could not determine DPoP JWS Algorithm");return new ph.SignJWT({ath:r?mh.encode(ch.createHash("sha256").update(r).digest()):void 0,...e}).setProtectedHeader({alg:i,typ:"dpop+jwt",jwk:await of(n,t)}).setIssuedAt().setJti(Th()).sign(n)}Object.defineProperty(Xh.prototype,"dpopProof",{enumerable:!0,configurable:!0,value(...e){return process.emitWarning("The DPoP APIs implements an IETF draft (https://www.ietf.org/archive/id/draft-ietf-oauth-dpop-04.html). Breaking draft implementations are included as minor versions of the openid-client library, therefore, the ~ semver operator should be used and close attention be payed to library changelog as well as the drafts themselves.","DraftWarning"),Object.defineProperty(Xh.prototype,"dpopProof",{enumerable:!0,configurable:!0,value:sf}),this.dpopProof(...e)}}),Ir$2.exports=(e,t=!1)=>class extends Xh{constructor(...r){super(e,t,...r);}static get issuer(){return e}},Ir$2.exports.BaseClient=Xh;var af=new Bl({max:100});const cf=/^\d+$/;var uf=function(e){if("string"!=typeof e)throw new TypeError("input must be a string");let t;return t=function(e){if(e.includes("://"))return !0;const t=e.replace(/(\/|\?)/g,"#").split("#")[0];if(t.includes(":")){const e=t.indexOf(":"),r=t.slice(e+1);if(!cf.test(r))return !0}return !1}(e)?e:function(e){if(!e.includes("@"))return !1;const t=e.split("@"),r=t[t.length-1];return !(r.includes(":")||r.includes("/")||r.includes("?"))}(e)?`acct:${e}`:`https://${e}`,t.split("#")[0]};const{inspect:df}=util$2,lf=i$1,{RPError:pf}=Cr$2,hf=Ir$2.exports,ff=af,yf=al,mf=uf,wf=wl.exports,gf=Sp,{keystore:vf}=Rp,_f=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"],bf=Symbol(),Sf={claim_types_supported:["normal"],claims_parameter_supported:!1,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:!1,request_uri_parameter_supported:!0,require_request_uri_registration:!1,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class Ef{#d;constructor(e={}){const t=e[bf];delete e[bf],["introspection","revocation"].forEach((t=>{e[`${t}_endpoint`]&&void 0===e[`${t}_endpoint_auth_methods_supported`]&&void 0===e[`${t}_endpoint_auth_signing_alg_values_supported`]&&(e.token_endpoint_auth_methods_supported&&(e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported),e.token_endpoint_auth_signing_alg_values_supported&&(e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported));})),this.#d=new Map,Object.entries(e).forEach((([e,t])=>{this.#d.set(e,t),this[e]||Object.defineProperty(this,e,{get(){return this.#d.get(e)},enumerable:!0});})),ff.set(this.issuer,this);const r=hf(this,t);Object.defineProperties(this,{Client:{value:r,enumerable:!0},FAPI1Client:{value:class extends r{},enumerable:!0}});}get metadata(){return gf(Object.fromEntries(this.#d.entries()))}static async webfinger(e){const t=mf(e),{host:r}=lf.parse(t),n=`https://${r}/.well-known/webfinger`,i=await wf.call(this,{method:"GET",url:n,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}}),o=yf(i),s=Array.isArray(o.links)&&o.links.find((e=>"object"==typeof e&&"http://openid.net/specs/connect/1.0/issuer"===e.rel&&e.href));if(!s)throw new pf({message:"no issuer found in webfinger response",body:o});if("string"!=typeof s.href||!s.href.startsWith("https://"))throw new pf({printf:["invalid issuer location %s",s.href],body:o});const a=s.href;if(ff.has(a))return ff.get(a);const c=await this.discover(a);if(c.issuer!==a)throw ff.del(c.issuer),new pf("discovered issuer mismatch, expected %s, got: %s",a,c.issuer);return c}static async discover(e){const t=lf.parse(e);if(t.pathname.includes("/.well-known/")){const t=await wf.call(this,{method:"GET",responseType:"json",url:e,headers:{Accept:"application/json"}}),r=yf(t);return new Ef({...Sf,...r,[bf]:!!_f.find((t=>e.startsWith(t)))})}let r;r=t.pathname.endsWith("/")?`${t.pathname}.well-known/openid-configuration`:`${t.pathname}/.well-known/openid-configuration`;const n=lf.format({...t,pathname:r}),i=await wf.call(this,{method:"GET",responseType:"json",url:n,headers:{Accept:"application/json"}}),o=yf(i);return new Ef({...Sf,...o,[bf]:!!_f.find((e=>n.startsWith(e)))})}async reloadJwksUri(){await vf.call(this,!0);}[df.custom](){return `${this.constructor.name} ${df(this.metadata,{depth:1/0,colors:process.stdout.isTTY,compact:!1,sorted:!0})}`}}var kf=Ef;const Pf=i$1,{format:Af}=util$2,jf=Sp,{RPError:Tf,OPError:Jf}=Cr$2,{BaseClient:Of}=Ir$2.exports,{random:xf,codeChallenge:Wf}=ml,Kf=rl,{resolveResponseType:Cf,resolveRedirectUri:If}=Hp;function Hf(e,t,r={}){e?this.error(e):t?this.success(t,r):this.fail(r);}function Rf({client:e,params:t={},passReqToCallback:r=!1,sessionKey:n,usePKCE:i=!0,extras:o={}}={},s){if(!(e instanceof Of))throw new TypeError("client must be an instance of openid-client Client");if("function"!=typeof s)throw new TypeError("verify callback must be a function");if(!e.issuer||!e.issuer.issuer)throw new TypeError("client must have an issuer with an identifier");if(this._client=e,this._issuer=e.issuer,this._verify=s,this._passReqToCallback=r,this._usePKCE=i,this._key=n||`oidc:${Pf.parse(this._issuer.issuer).hostname}`,this._params=jf(t),this._extras=jf(o),this._params.response_type||(this._params.response_type=Cf.call(e)),this._params.redirect_uri||(this._params.redirect_uri=If.call(e)),this._params.scope||(this._params.scope="openid"),!0===this._usePKCE){const e=!!Array.isArray(this._issuer.code_challenge_methods_supported)&&this._issuer.code_challenge_methods_supported;if(e&&e.includes("S256"))this._usePKCE="S256";else if(e&&e.includes("plain"))this._usePKCE="plain";else {if(e)throw new TypeError("neither code_challenge_method supported by the client is supported by the issuer");this._usePKCE="S256";}}else if("string"==typeof this._usePKCE&&!["plain","S256"].includes(this._usePKCE))throw new TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`);this.name=Pf.parse(e.issuer.issuer).hostname;}Rf.prototype.authenticate=function(e,t){(async()=>{const r=this._client;if(!e.session)throw new TypeError("authentication requires session support");const n=r.callbackParams(e),i=this._key;if(0===Object.keys(n).length){const n={state:xf(),...this._params,...t};if(!n.nonce&&n.response_type.includes("id_token")&&(n.nonce=xf()),e.session[i]=Kf(n,"nonce","state","max_age","response_type"),this._usePKCE&&n.response_type.includes("code")){const t=xf();switch(e.session[i].code_verifier=t,this._usePKCE){case"S256":n.code_challenge=Wf(t),n.code_challenge_method="S256";break;case"plain":n.code_challenge=t;}}return void this.redirect(r.authorizationUrl(n))}const o=e.session[i];if(0===Object.keys(o||{}).length)throw new Error(Af('did not find expected authorization request details in session, req.session["%s"] is %j',i,o));const{state:s,nonce:a,max_age:c,code_verifier:u,response_type:d}=o;try{delete e.session[i];}catch(e){}const l={redirect_uri:this._params.redirect_uri,...t},p={state:s,nonce:a,max_age:c,code_verifier:u,response_type:d},h=await r.callback(l.redirect_uri,n,p,this._extras),f=this._passReqToCallback,y=this._verify.length>(f?3:2)&&r.issuer.userinfo_endpoint,m=[h,Hf.bind(this)];if(y){if(!h.access_token)throw new Tf({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:h});const e=await r.userinfo(h);m.splice(1,0,e);}f&&m.unshift(e),this._verify(...m);})().catch((e=>{e instanceof Jf&&"server_error"!==e.error&&!e.error.startsWith("invalid")||e instanceof Tf?this.fail(e):this.error(e);}));};var Mf=Rf;const Df=kf,{OPError:Nf,RPError:$f}=Cr$2,Bf=Mf,Uf=ll,{CLOCK_TOLERANCE:Lf,HTTP_OPTIONS:Vf}=Vl,zf=ml,{setDefaults:Ff}=wl.exports;var qf={Issuer:Df,Strategy:Bf,TokenSet:Uf,errors:{OPError:Nf,RPError:$f},custom:{setHttpOptionsDefaults:Ff,http_options:Vf,clock_tolerance:Lf},generators:zf};const Gf=qf.Issuer,Xf=qf.generators,Yf="http://localhost:3000",Zf=e=>p$2(void 0,void 0,void 0,(function*(){let t;t=e.wellKnown?yield Gf.discover(e.wellKnown):new Gf({issuer:e.id,authorization_endpoint:e.authorization,token_endpoint:e.token,userinfo_endpoint:e.userinfo});return new t.Client({client_id:e.options.clientId,client_secret:e.options.clientSecret,redirect_uris:[`${Yf}/api/auth/oauth/${e.id}`]})})),Qf="http://localhost:3000",ey=(e,t,r,n,i)=>p$2(void 0,void 0,void 0,(function*(){var o;if("GET"!=e.method)return {status:405,body:{error:"Method not allowed"}};if(!t){if(i){return {status:307,headers:{"Content-Type":void 0,Location:`${yield i(new Error("Provider Is Not Configured"))}/?error=Provider Is Not Configured`}}}throw new Error("Provider Is Not Configured")}if(!r){if(i){return {status:307,headers:{"Content-Type":void 0,Location:`${yield i(new Error(`${t.name} OAuth Error`))}/?error=${t.name} OAuth Error`}}}throw new Error(`${t.name} OAuth Error`)}try{const i=h$2(null!==(o=e.headers.get("cookie"))&&void 0!==o?o:""),s=yield ((e,t,r)=>p$2(void 0,void 0,void 0,(function*(){var n;const i=yield Zf(e);let o;o=e.idToken?yield i.callback(`${Qf}/api/auth/oauth/${e.id}`,{code:t},{code_verifier:r.__astroauth__pkce__,state:r.__astroauth__state__}):yield i.oauthCallback(`${Qf}/api/auth/oauth/${e.id}`,{code:t},{code_verifier:r.__astroauth__pkce__,state:r.__astroauth__state__});const s=yield i.userinfo(null!==(n=o.access_token)&&void 0!==n?n:"",{params:e.userInfoParams});return Object.assign({user:e.profile(s)},o)})))(t,r,i),a=n?yield n(Object.assign(Object.assign({},s),{provider:t.id})):{accessToken:s.access_token,user:Object.assign(Object.assign({},s.user),{originalUser:void 0})};return {user:s,encodedJWT:yield Or$2(a,"2fc494e5c642f684a0195a22c8e0f9ec")}}catch(e){throw new Error(e.toString())}})),ty=e=>"/"==e.split("").pop()?"":"/",ry=(e,t,r,n,i)=>p$2(void 0,void 0,void 0,(function*(){var o,s;if("POST"!=e.method)return {status:405,body:{error:"Method not allowed"}};if("credential"==(null==r?void 0:r.type)){const i=(yield e.json().catch((()=>{}))).login,o=yield r.options.authorize(i);if(!o)return {status:401,headers:{"Content-Type":void 0,"Set-Cookie":"__astroauth__session__=deleted; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"},body:{redirect:"/?error=Wrong Credentials"}};const s=n?yield n(Object.assign(Object.assign({},o),{provider:r.id})):o;return {status:200,headers:{"Content-Type":void 0,"Set-Cookie":`__astroauth__session__=${yield Or$2(s,"2fc494e5c642f684a0195a22c8e0f9ec")}; path=/; HttpOnly; Path=/;`},body:{redirect:t}}}if(!r){if(i){const e=yield i(new Error("Provider Is Not Configured"));return {status:200,headers:{"Content-Type":void 0},body:{redirect:`${e}${ty(e)}?error=Provider Is Not Configured`}}}throw new Error("Provider Is Not Configured")}const a=yield Zf(r),c=(e=>{var t;if(!(null===(t=e.checks)||void 0===t?void 0:t.includes("pkce")))return null;const r=Xf.codeVerifier();return {code_challenge:Xf.codeChallenge(r),code_verifier:r,code_challenge_method:"S256"}})(r),u=(e=>{var t;return (null===(t=e.checks)||void 0===t?void 0:t.includes("state"))?Xf.state():null})(r),d=new Headers;return d.set("Set-Cookie",`__astroauth__callback__=${t}; HttpOnly; Path=/;`),d.set("Set-Cookie",`__astroauth__state__=${null!=u?u:""}; HttpOnly; Path=/;`),d.set("Set-Cookie",`__astroauth__pkce__=${null!==(o=null==c?void 0:c.code_verifier)&&void 0!==o?o:""}; HttpOnly; Path=/;`),{status:200,body:{loginURL:a.authorizationUrl({state:null!=u?u:void 0,scope:r.options.scope?r.options.scope:r.scope,code_challenge:null==c?void 0:c.code_challenge,code_challenge_method:null==c?void 0:c.code_challenge_method})},headers:{"Set-Cookie":`__astroauth__callback__=${t}; HttpOnly; Path=/;`,"Set-Cookie":`__astroauth__state__=${null!=u?u:""}; HttpOnly; Path=/;`,"Set-Cookie":`__astroauth__pkce__=${null!==(s=null==c?void 0:c.code_verifier)&&void 0!==s?s:""}; HttpOnly; Path=/;`}}})),ny=(e,t,r)=>p$2(void 0,void 0,void 0,(function*(){var n,i,o,s,a,c,u,d,l,f,y;const m=h$2(e.headers.get("cookie")||""),w=yield e.clone().json().catch((()=>{}));switch(t){case"signin":{const t=null===(n=r.authProviders)||void 0===n?void 0:n.find((e=>e.id===w.provider));return ry(e,w.callback,t,null===(i=r.hooks)||void 0===i?void 0:i.jwt,null===(o=r.hooks)||void 0===o?void 0:o.redirectError)}case"signout":return (e=>p$2(void 0,void 0,void 0,(function*(){return "DELETE"!=e.method?{status:405,body:{error:"Method not allowed"}}:{status:200,headers:{"Set-Cookie":"__astroauth__session__=deleted; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}})))(e);case"user":return ((e,t)=>p$2(void 0,void 0,void 0,(function*(){const r=h$2(e.headers.get("cookie")||"").__astroauth__session__;if(!r)return {status:401,body:{error:"Unauthorized"}};const n=Jr$2(r,"2fc494e5c642f684a0195a22c8e0f9ec"),i=t?yield t(n):n;return {status:200,body:i,headers:{"Set-Cookie":`__astroauth__session__=${Or$2(i,"2fc494e5c642f684a0195a22c8e0f9ec")}; HttpOnly; Path=/;`}}})))(e,null===(s=r.hooks)||void 0===s?void 0:s.account);default:if(t.startsWith("oauth")){const n=null===(a=r.authProviders)||void 0===a?void 0:a.find((e=>e.id===t.split("/")[1])),i=new URL(e.url).searchParams.get("code");if("credential"==(null==n?void 0:n.type))return {status:500};const{user:o,encodedJWT:s}=yield ey(e,n,null!=i?i:void 0,null===(c=r.hooks)||void 0===c?void 0:c.jwt,null===(u=r.hooks)||void 0===u?void 0:u.redirectError),p=(null===(d=r.hooks)||void 0===d?void 0:d.signIn)?yield null===(l=r.hooks)||void 0===l?void 0:l.signIn(o):null;return !(null===(f=r.hooks)||void 0===f?void 0:f.signIn)||"boolean"==typeof p&&!!p?{status:307,headers:{"Set-Cookie":`__astroauth__session__=${s}; HttpOnly; Path=/;`,"Content-Type":void 0,Location:null!==(y=m.__astroauth__callback__)&&void 0!==y?y:"/"}}:{status:302,headers:{Location:"string"==typeof p?p:"/?error=Not Allowed","Content-Type":void 0,"Set-Cookie":"__astroauth__session__=deleted; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}}})),iy=e=>({params:{astroauth:t},request:r})=>p$2(void 0,void 0,void 0,(function*(){var n;const i=null!==(n=yield ny(r,t,e))&&void 0!==n?n:{status:500,body:{error:"Internal Server Error"}};return new Response(JSON.stringify(null==i?void 0:i.body),{status:(null==i?void 0:i.status)||200,headers:Object.assign({"Content-Type":"application/json"},null==i?void 0:i.headers)})})),oy=({client:e,server:t})=>{var r,n;if(e)try{const t=h$2(null!==(r=e.request.headers.get("cookie"))&&void 0!==r?r:"").__astroauth__session__;if(!t)return null;return Jr$2(t,"2fc494e5c642f684a0195a22c8e0f9ec")}catch(e){return null}else if(t)try{const e=h$2(null!==(n=t.headers.get("cookie"))&&void 0!==n?n:"").__astroauth__session__;if(!e)return null;return Jr$2(e,"2fc494e5c642f684a0195a22c8e0f9ec")}catch(e){return null}},sy=e=>new Response(null,{status:302,headers:{Location:e.startsWith("/")?e:`/${e}`}}),ay=e=>new URL(e.request.url).searchParams.get("error");

var $$module1$b = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': iy,
	getError: ay,
	getUser: oy,
	redirectUser: sy
}, Symbol.toStringTag, { value: 'Module' }));

const SITE$1 = {
  title: "Documentation",
  description: "Your website description.",
  defaultLanguage: "en_US"
};
const OPEN_GRAPH$1 = {
  image: {
    src: "https://github.com/withastro/astro/blob/main/assets/social/banner.jpg?raw=true",
    alt: "astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground"
  },
  twitter: "astrodotbuild"
};
const KNOWN_LANGUAGES$1 = {
  English: "en"
};
const BASE_SITE_URL$1 = "/gpm-lds-astro";
const ICON_SETTINGS_PATH$1 = `${BASE_SITE_URL$1}/assets/icons`;
const $$metadata$t = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/config.astro", { modules: [], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$t = createAstro("/@fs/D:/work/astro/astro-auth-example/src/config.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Config = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$t, $$props, $$slots);
  Astro2.self = $$Config;
  return render``;
});

var $$module8 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	SITE: SITE$1,
	OPEN_GRAPH: OPEN_GRAPH$1,
	KNOWN_LANGUAGES: KNOWN_LANGUAGES$1,
	BASE_SITE_URL: BASE_SITE_URL$1,
	ICON_SETTINGS_PATH: ICON_SETTINGS_PATH$1,
	$$metadata: $$metadata$t,
	'default': $$Config
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$s = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/pages/index.astro", { modules: [{ module: $$module1$b, specifier: "@astro-auth/core", assert: {} }, { module: $$module8, specifier: "src/config.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$s = createAstro("/@fs/D:/work/astro/astro-auth-example/src/pages/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$d = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$s, $$props, $$slots);
  Astro2.self = $$Index$d;
  const user = oy({ client: Astro2 });
  {
    if (!user) {
      return sy(`/auth`);
    } else {
      return sy(`/en`);
    }
  }
});

var _page0 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$s,
	'default': $$Index$d
}, Symbol.toStringTag, { value: 'Module' }));

var Login_astro_astro_type_style_index_0_lang = '';

const SITE = {
  title: "Documentation",
  description: "Your website description.",
  defaultLanguage: "en_US"
};
const OPEN_GRAPH = {
  image: {
    src: "https://github.com/withastro/astro/blob/main/assets/social/banner.jpg?raw=true",
    alt: "astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground"
  },
  twitter: "astrodotbuild"
};
const KNOWN_LANGUAGES = {
  English: "en"
};
const BASE_SITE_URL = "/gpm-lds-astro";
const ICON_SETTINGS_PATH = `assets/icons`;

var $$module1$a = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	SITE: SITE,
	OPEN_GRAPH: OPEN_GRAPH,
	KNOWN_LANGUAGES: KNOWN_LANGUAGES,
	BASE_SITE_URL: BASE_SITE_URL,
	ICON_SETTINGS_PATH: ICON_SETTINGS_PATH
}, Symbol.toStringTag, { value: 'Module' }));

var theme$1 = '';

var index$1 = '';

var LDS$1 = '';

var theme = ":root {\r\n\t--font-fallback: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif,\r\n\t\tApple Color Emoji, Segoe UI Emoji;\r\n\t--font-body: system-ui, var(--font-fallback);\r\n\t--font-mono: 'IBM Plex Mono', Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console',\r\n\t\t'Lucida Sans Typewriter', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono',\r\n\t\t'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace;\r\n\r\n\t/*\r\n   * Variables with --color-base prefix define\r\n   * the hue, and saturation values to be used for\r\n   * hsla colors.\r\n   *\r\n   * ex:\r\n   *\r\n   * --color-base-{color}: {hue}, {saturation};\r\n   *\r\n   */\r\n\r\n\t--color-base-white: 0, 0%;\r\n\t--color-base-black: 240, 100%;\r\n\t--color-base-gray: 215, 14%;\r\n\t--color-base-blue: 212, 100%;\r\n\t--color-base-blue-dark: 212, 72%;\r\n\t--color-base-green: 158, 79%;\r\n\t--color-base-orange: 22, 100%;\r\n\t--color-base-purple: 269, 79%;\r\n\t--color-base-red: 351, 100%;\r\n\t--color-base-yellow: 41, 100%;\r\n\r\n\t/*\r\n   * Color palettes are made using --color-base \r\n   * variables, along with a lightness value to\r\n   * define different variants.\r\n   *\r\n   */\r\n\r\n\t--color-gray-5: var(--color-base-gray), 5%;\r\n\t--color-gray-10: var(--color-base-gray), 10%;\r\n\t--color-gray-20: var(--color-base-gray), 20%;\r\n\t--color-gray-30: var(--color-base-gray), 30%;\r\n\t--color-gray-40: var(--color-base-gray), 40%;\r\n\t--color-gray-50: var(--color-base-gray), 50%;\r\n\t--color-gray-60: var(--color-base-gray), 60%;\r\n\t--color-gray-70: var(--color-base-gray), 70%;\r\n\t--color-gray-80: var(--color-base-gray), 80%;\r\n\t--color-gray-90: var(--color-base-gray), 90%;\r\n\t--color-gray-95: var(--color-base-gray), 95%;\r\n\r\n\t--color-blue: var(--color-base-blue), 61%;\r\n\t--color-blue-dark: var(--color-base-blue-dark), 39%;\r\n\t--color-green: var(--color-base-green), 42%;\r\n\t--color-orange: var(--color-base-orange), 50%;\r\n\t--color-purple: var(--color-base-purple), 54%;\r\n\t--color-red: var(--color-base-red), 54%;\r\n\t--color-yellow: var(--color-base-yellow), 59%;\r\n}\r\n\r\n:root {\r\n\tcolor-scheme: light;\r\n\t--theme-accent: hsla(var(--color-blue), 1);\r\n\t--theme-text-accent: hsla(var(--color-blue), 1);\r\n\t--theme-accent-opacity: 0.15;\r\n\t--theme-divider: hsla(var(--color-gray-95), 1);\r\n\t--theme-text: hsla(var(--color-gray-10), 1);\r\n\t--theme-text-light: hsla(var(--color-gray-40), 1);\r\n\t/* @@@: not used anywhere */\r\n\t--theme-text-lighter: hsla(var(--color-gray-80), 1);\r\n\t--theme-bg: hsla(var(--color-base-white), 100%, 1);\r\n\t--theme-bg-hover: hsla(var(--color-gray-95), 1);\r\n\t--theme-bg-offset: hsla(var(--color-gray-90), 1);\r\n\t--theme-bg-accent: hsla(var(--color-blue), var(--theme-accent-opacity));\r\n\t--theme-code-inline-bg: hsla(var(--color-gray-95), 1);\r\n\t--theme-code-inline-text: var(--theme-text);\r\n\t--theme-code-bg: hsla(217, 19%, 27%, 1);\r\n\t--theme-code-text: hsla(var(--color-gray-95), 1);\r\n\t--theme-navbar-bg: hsla(var(--color-base-white), 100%, 1);\r\n\t--theme-navbar-height: 6rem;\r\n\t--theme-selection-color: hsla(var(--color-blue), 1);\r\n\t--theme-selection-bg: hsla(var(--color-blue), var(--theme-accent-opacity));\r\n}\r\n\r\nbody {\r\n\tbackground: var(--theme-bg);\r\n\tcolor: var(--theme-text);\r\n}\r\n\r\n:root.theme-dark {\r\n\tcolor-scheme: dark;\r\n\t--theme-accent-opacity: 0.15;\r\n\t--theme-accent: hsla(var(--color-blue), 1);\r\n\t--theme-text-accent: hsla(var(--color-blue), 1);\r\n\t--theme-divider: hsla(var(--color-gray-10), 1);\r\n\t--theme-text: hsla(var(--color-gray-90), 1);\r\n\t--theme-text-light: hsla(var(--color-gray-80), 1);\r\n\r\n\t/* @@@: not used anywhere */\r\n\t--theme-text-lighter: hsla(var(--color-gray-40), 1);\r\n\t--theme-bg: hsla(215, 28%, 17%, 1);\r\n\t--theme-bg-hover: hsla(var(--color-gray-40), 1);\r\n\t--theme-bg-offset: hsla(var(--color-gray-5), 1);\r\n\t--theme-code-inline-bg: hsla(var(--color-gray-10), 1);\r\n\t--theme-code-inline-text: hsla(var(--color-base-white), 100%, 1);\r\n\t--theme-code-bg: hsla(var(--color-gray-5), 1);\r\n\t--theme-code-text: hsla(var(--color-base-white), 100%, 1);\r\n\t--theme-navbar-bg: hsla(215, 28%, 17%, 1);\r\n\t--theme-selection-color: hsla(var(--color-base-white), 100%, 1);\r\n\t--theme-selection-bg: hsla(var(--color-purple), var(--theme-accent-opacity));\r\n\r\n\t/* DocSearch [Algolia] */\r\n\t--docsearch-modal-background: var(--theme-bg);\r\n\t--docsearch-searchbox-focus-background: var(--theme-divider);\r\n\t--docsearch-footer-background: var(--theme-divider);\r\n\t--docsearch-text-color: var(--theme-text);\r\n\t--docsearch-hit-background: var(--theme-divider);\r\n\t--docsearch-hit-shadow: none;\r\n\t--docsearch-hit-color: var(--theme-text);\r\n\t--docsearch-footer-shadow: inset 0 2px 10px #000;\r\n\t--docsearch-modal-shadow: inset 0 0 8px #000;\r\n}\r\n\r\n::selection {\r\n\tcolor: var(--theme-selection-color);\r\n\tbackground-color: var(--theme-selection-bg);\r\n}\r\n";

var $$module2$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': theme
}, Symbol.toStringTag, { value: 'Module' }));

var index = "* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n}\r\n\r\n/* Global focus outline reset */\r\n*:focus:not(:focus-visible) {\r\n  outline: none;\r\n}\r\n\r\n:root {\r\n  --user-font-scale: 1rem - 16px;\r\n  --max-width: calc(100% - 1rem);\r\n}\r\n\r\n@media (min-width: 50em) {\r\n  :root {\r\n    --max-width: 46em;\r\n  }\r\n}\r\n\r\nbody {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100vh;\r\n  font-family: 'Salesforce Sans', 'Segoe UI', Helvetica, sans-serif, system-ui, -apple-system !important;\r\n  font-size: 1rem;\r\n  font-size: clamp(0.9rem, 0.75rem + 0.375vw + var(--user-font-scale), 1rem);\r\n  line-height: 1.5;\r\n  max-width: 100vw;\r\n}\r\n\r\nnav ul {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n.content > section > * + * {\r\n  margin-top: 1.25rem;\r\n}\r\n\r\n.content > section > :first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n/* Typography */\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  margin-bottom: 1rem;\r\n  font-weight: bold;\r\n  line-height: 1;\r\n}\r\n\r\nh1,\r\nh2 {\r\n  max-width: 40ch;\r\n}\r\n\r\n:is(h2, h3):not(:first-child) {\r\n  margin-top: 3rem;\r\n}\r\n\r\n:is(h4, h5, h6):not(:first-child) {\r\n  margin-top: 2rem;\r\n}\r\n\r\nh1 {\r\n  font-size: 3.25rem;\r\n  font-weight: 800;\r\n}\r\n\r\nh2 {\r\n  font-size: 2.5rem;\r\n}\r\n\r\nh3 {\r\n  font-size: 1.75rem;\r\n}\r\n\r\nh4 {\r\n  font-size: 1.3rem;\r\n}\r\n\r\nh5 {\r\n  font-size: 1rem;\r\n}\r\n\r\np {\r\n  line-height: 1.65em;\r\n}\r\n\r\n.content ul {\r\n  line-height: 1.1em;\r\n}\r\n\r\np,\r\n.content ul {\r\n  color: var(--theme-text-light);\r\n}\r\n\r\nsmall,\r\n.text_small {\r\n  font-size: 0.833rem;\r\n}\r\n\r\na {\r\n  color: var(--theme-text-accent);\r\n  font-weight: 400;\r\n  text-underline-offset: 0.08em;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\narticle > section :is(ul, ol) > * + * {\r\n  margin-top: 0.75rem;\r\n}\r\n\r\narticle > section nav :is(ul, ol) > * + * {\r\n  margin-top: inherit;\r\n}\r\n\r\narticle > section li > :is(p, pre, blockquote):not(:first-child) {\r\n  margin-top: 1rem;\r\n}\r\n\r\narticle > section :is(ul, ol) {\r\n  padding-left: 1em;\r\n}\r\n\r\narticle > section nav :is(ul, ol) {\r\n  padding-left: inherit;\r\n}\r\n\r\narticle > section nav {\r\n  margin-top: 1rem;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\narticle > section ::marker {\r\n  font-weight: bold;\r\n  color: var(--theme-text-light);\r\n}\r\n\r\narticle > section iframe {\r\n  width: 100%;\r\n  height: auto;\r\n  aspect-ratio: 16 / 9;\r\n}\r\n\r\na > code {\r\n  position: relative;\r\n  color: var(--theme-text-accent);\r\n  background: transparent;\r\n  text-underline-offset: var(--padding-block);\r\n}\r\n\r\na > code::before {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  display: block;\r\n  background: var(--theme-accent);\r\n  opacity: var(--theme-accent-opacity);\r\n  border-radius: var(--border-radius);\r\n}\r\n\r\na:hover,\r\na:focus {\r\n  text-decoration: underline;\r\n}\r\n\r\na:focus {\r\n  outline: 2px solid currentColor;\r\n  outline-offset: 0.25em;\r\n}\r\n\r\nstrong {\r\n  font-weight: 600;\r\n  color: inherit;\r\n}\r\n\r\n/* Supporting Content */\r\n\r\ncode {\r\n  --border-radius: 3px;\r\n  --padding-block: 0.2rem;\r\n  --padding-inline: 0.33rem;\r\n\r\n  font-family: var(--font-mono);\r\n  font-size: 0.85em;\r\n  color: inherit;\r\n  background-color: var(--theme-code-inline-bg);\r\n  padding: var(--padding-block) var(--padding-inline);\r\n  margin: calc(var(--padding-block) * -1) -0.125em;\r\n  border-radius: var(--border-radius);\r\n  word-break: break-word;\r\n}\r\n\r\npre.astro-code > code {\r\n  all: unset;\r\n}\r\n\r\npre > code {\r\n  font-size: 1em;\r\n}\r\n\r\ntable,\r\npre {\r\n  position: relative;\r\n  --padding-block: 1rem;\r\n  --padding-inline: 2rem;\r\n  padding: var(--padding-block) var(--padding-inline);\r\n  padding-right: calc(var(--padding-inline) * 2);\r\n  margin-left: calc(var(--padding-inline) * -1);\r\n  margin-right: calc(var(--padding-inline) * -1);\r\n  font-family: var(--font-mono);\r\n\r\n  line-height: 1.5;\r\n  font-size: 0.85em;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  padding: var(--padding-block) 0;\r\n  margin: 0;\r\n  border-collapse: collapse;\r\n}\r\n\r\n/* Zebra striping */\r\ntr:nth-of-type(odd) {\r\n  background: var(--theme-bg-hover);\r\n}\r\nth {\r\n  background: var(--color-black);\r\n  color: var(--theme-color);\r\n  font-weight: bold;\r\n}\r\ntd,\r\nth {\r\n  padding: 6px;\r\n  text-align: left;\r\n}\r\n\r\npre {\r\n  background-color: var(--theme-code-bg);\r\n  color: var(--theme-code-text);\r\n}\r\n\r\nblockquote code {\r\n  background-color: var(--theme-bg);\r\n}\r\n\r\n@media (min-width: 37.75em) {\r\n  pre {\r\n    --padding-inline: 1.25rem;\r\n    border-radius: 8px;\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n  }\r\n}\r\n\r\nblockquote {\r\n  margin: 2rem 0;\r\n  padding: 1.25em 1.5rem;\r\n  border-left: 3px solid var(--theme-text-light);\r\n  background-color: var(--theme-bg-offset);\r\n  border-radius: 0 0.25rem 0.25rem 0;\r\n  line-height: 1.7;\r\n}\r\n\r\nimg {\r\n  max-width: 100%;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.flex-column {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\nbutton {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-items: center;\r\n  gap: 0.25em;\r\n  padding: 0.33em 0.67em;\r\n  border: 0;\r\n  background: var(--theme-bg);\r\n  display: flex;\r\n  font-size: 1rem;\r\n  align-items: center;\r\n  gap: 0.25em;\r\n  border-radius: 99em;\r\n  color: var(--theme-text);\r\n  background-color: var(--theme-bg);\r\n}\r\n\r\n.heading-link {\r\n  font-size: 1rem;\r\n  padding: 0.1rem 0 0.1rem 1rem;\r\n  border-left: 4px solid var(--theme-divider);\r\n}\r\n\r\n.heading-link:hover,\r\n.heading-link:focus {\r\n  border-left-color: var(--theme-accent);\r\n  color: var(--theme-accent);\r\n}\r\n.heading-link:focus-within {\r\n  color: var(--theme-text-light);\r\n  border-left-color: hsla(var(--color-gray-40), 1);\r\n}\r\n.heading-link svg {\r\n  opacity: 0.6;\r\n}\r\n.heading-link:hover svg {\r\n  opacity: 0.8;\r\n}\r\n.heading-link a {\r\n  display: inline-flex;\r\n  gap: 0.5em;\r\n  width: 100%;\r\n  padding: 0.15em 0 0.15em 0;\r\n}\r\n\r\n.heading-link.depth-3 {\r\n  padding-left: 2rem;\r\n}\r\n.heading-link.depth-4 {\r\n  padding-left: 3rem;\r\n}\r\n\r\n.heading-link a {\r\n  font: inherit;\r\n  color: inherit;\r\n  text-decoration: none;\r\n}\r\n\r\n/* Screenreader Only Text */\r\n.sr-only {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  border-width: 0;\r\n}\r\n\r\n.focus\\:not-sr-only:focus,\r\n.focus\\:not-sr-only:focus-visible {\r\n  position: static;\r\n  width: auto;\r\n  height: auto;\r\n  padding: 0;\r\n  margin: 0;\r\n  overflow: visible;\r\n  clip: auto;\r\n  white-space: normal;\r\n}\r\n\r\n:target {\r\n  scroll-margin: calc(var(--theme-sidebar-offset, 5rem) + 2rem) 0 2rem;\r\n}\r\n";

var $$module3$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': index
}, Symbol.toStringTag, { value: 'Module' }));

var LDS = "h1 {\r\n  font-size: 3rem;\r\n  color: #5876a3;\r\n  font-weight: 300;\r\n  line-height: 1.25;\r\n  font-family: Salesforce Sans, Arial, sans-serif;\r\n}\r\n\r\nh2 {\r\n  font-family: Salesforce Sans, Arial, sans-serif;\r\n  font-weight: 300;\r\n  font-size: 1.75rem;\r\n  line-height: 1.25;\r\n}\r\n\r\np {\r\n  font-size: 0.8125rem;\r\n}\r\n\r\nli {\r\n  font-size: 0.8125rem;\r\n}\r\n";

var $$module4$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': LDS
}, Symbol.toStringTag, { value: 'Module' }));

var __freeze$1 = Object.freeze;
var __defProp$2 = Object.defineProperty;
var __template$1 = (cooked, raw) => __freeze$1(__defProp$2(cooked, "raw", { value: __freeze$1(raw || cooked.slice()) }));
var _a$1;
const $$metadata$r = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/HeadCommon.astro", { modules: [{ module: $$module1$a, specifier: "@components/config", assert: {} }, { module: $$module2$5, specifier: "./styles/theme.css", assert: {} }, { module: $$module3$5, specifier: "./styles/index.css", assert: {} }, { module: $$module4$2, specifier: "./styles/LDS.css", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$r = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/HeadCommon.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$HeadCommon = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$r, $$props, $$slots);
  Astro2.self = $$HeadCommon;
  return render(_a$1 || (_a$1 = __template$1(['<!-- Global Metadata --><meta charset="utf-8">\n<meta name="viewport" content="width=device-width">\n<meta name="generator"', '>\n\n<link rel="sitemap" href="/sitemap.xml">\n<link rel="stylesheet" type="text/css" href="./">\n\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/design-system/2.19.0/styles/salesforce-lightning-design-system.min.css" integrity="sha512-p9SCOMLK1HdDw85Sxg6PaduBc1ZYvsBXWly04TfTby25K+tNjm/oRpxbNNWDBcbbx8Ub5OfZQHHsYjzuxCcjGA==" crossorigin="anonymous" referrerPolicy="no-referrer">\n\n<base', `>

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script src="/make-scrollable-code-focusable.js"><\/script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
  const root = document.documentElement;
  const theme = localStorage.getItem('theme');
  if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    root.classList.add('theme-dark');
  } else {
    root.classList.remove('theme-dark');
  }
<\/script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-TEL60V1WM9" is:inline><\/script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TEL60V1WM9');
<\/script> -->
`])), addAttribute(Astro2.generator, "content"), addAttribute(`${BASE_SITE_URL}/`, "href"));
});

var $$module2$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$r,
	'default': $$HeadCommon
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$q = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/HeadSEO.astro", { modules: [{ module: $$module1$a, specifier: "@components/config", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$q = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/HeadSEO.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$HeadSEO = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$q, $$props, $$slots);
  Astro2.self = $$HeadSEO;
  const canonicalURL = Astro2.canonicalURL;
  const { frontmatter = {} } = Astro2.props;
  const formattedContentTitle = frontmatter.title ? `${frontmatter.title} \u{1F680} ${SITE.title}` : SITE.title;
  const imageSrc = frontmatter?.image?.src ?? OPEN_GRAPH.image.src;
  const canonicalImageSrc = new URL(imageSrc, Astro2.site);
  const imageAlt = frontmatter?.image?.alt ?? OPEN_GRAPH.image.alt;
  return render`<!-- Page Metadata --><link rel="canonical"${addAttribute(canonicalURL, "href")}>

<!-- OpenGraph Tags -->
<meta property="og:title"${addAttribute(formattedContentTitle, "content")}>
<meta property="og:type" content="article">
<meta property="og:url"${addAttribute(canonicalURL, "content")}>
<meta property="og:locale"${addAttribute(frontmatter.ogLocale ?? SITE.defaultLanguage, "content")}>
<meta property="og:image"${addAttribute(canonicalImageSrc, "content")}>
<meta property="og:image:alt"${addAttribute(imageAlt, "content")}>
<meta name="description" property="og:description"${addAttribute(frontmatter.description ? frontmatter.description : SITE.description, "content")}>
<meta property="og:site_name"${addAttribute(SITE.title, "content")}>

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site"${addAttribute(OPEN_GRAPH.twitter, "content")}>
<meta name="twitter:title"${addAttribute(formattedContentTitle, "content")}>
<meta name="twitter:description"${addAttribute(frontmatter.description ? frontmatter.description : SITE.description, "content")}>
<meta name="twitter:image"${addAttribute(canonicalImageSrc, "content")}>
<meta name="twitter:image:alt"${addAttribute(imageAlt, "content")}>

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with \`schema-dts\`: https://github.com/google/react-schemaorg
-->
`;
});

var $$module3$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$q,
	'default': $$HeadSEO
}, Symbol.toStringTag, { value: 'Module' }));

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o$1=function t(e){function r(t,e,n){var i,o={};if(Array.isArray(t))return t.concat(e);for(i in t)o[n?i.toLowerCase():i]=t[i];for(i in e){var s=n?i.toLowerCase():i,a=e[i];o[s]=s in o&&"object"==typeof a?r(o[s],a,"headers"===s):a;}return o}function n(t,n,i,o){"string"!=typeof t&&(t=(n=t).url);var s={config:n},a=r(e,n),h={},u=o||a.data;(a.transformRequest||[]).map((function(t){u=t(u,a.headers)||u;})),u&&"object"==typeof u&&"function"!=typeof u.append&&(u=JSON.stringify(u),h["content-type"]="application/json");var l="undefined"!=typeof document&&document.cookie.match(RegExp("(^|; )"+a.xsrfCookieName+"=([^;]*)"));if(l&&(h[a.xsrfHeaderName]=l[2]),a.auth&&(h.authorization=a.auth),a.baseURL&&(t=t.replace(/^(?!.*\/\/)\/?(.*)$/,a.baseURL+"/$1")),a.params){var f=~t.indexOf("?")?"&":"?";t+=f+(a.paramsSerializer?a.paramsSerializer(a.params):new URLSearchParams(a.params));}return (a.fetch||fetch)(t,{method:i||a.method,body:u,headers:r(a.headers,h,!0),credentials:a.withCredentials?"include":"same-origin"}).then((function(t){for(var e in t)"function"!=typeof t[e]&&(s[e]=t[e]);var r=a.validateStatus?a.validateStatus(t.status):t.ok;return "stream"==a.responseType?(s.data=t.body,s):t[a.responseType||"text"]().then((function(t){s.data=t,s.data=JSON.parse(t);})).catch(Object).then((function(){return r?s:Promise.reject(s)}))}))}return e=e||{},n.request=n,n.get=function(t,e){return n(t,e,"get")},n.delete=function(t,e){return n(t,e,"delete")},n.head=function(t,e){return n(t,e,"head")},n.options=function(t,e){return n(t,e,"options")},n.post=function(t,e,r){return n(t,r,"post",e)},n.put=function(t,e,r){return n(t,r,"put",e)},n.patch=function(t,e,r){return n(t,r,"patch",e)},n.all=Promise.all.bind(Promise),n.spread=function(t){return function(e){return t.apply(this,e)}},n.CancelToken="function"==typeof AbortController?AbortController:Object,n.defaults=e,n.create=t,n}(),s$1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a$1={exports:{}};!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"));}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer;}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a;}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)));},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n);},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip();},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=h(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);}this.strip();},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red;},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return (this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s;}r.words[u]=0|f,h=0|l;}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--);}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[c-m.length]+m+n;}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36");},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0;}else {for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s;}return u},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],k=8191&E,M=E>>>13,A=0|s[5],N=8191&A,x=A>>>13,P=0|s[6],I=8191&P,S=P>>>13,R=0|s[7],T=8191&R,B=R>>>13,C=0|s[8],O=8191&C,L=C>>>13,F=0|s[9],U=8191&F,q=F>>>13,D=0|a[0],z=8191&D,G=D>>>13,j=0|a[1],H=8191&j,V=j>>>13,K=0|a[2],W=8191&K,$=K>>>13,J=0|a[3],X=8191&J,Z=J>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(f,z))|0)+((8191&(i=(i=Math.imul(f,G))+Math.imul(c,z)|0))<<13)|0;u=((o=Math.imul(c,G))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,G))+Math.imul(m,z)|0,o=Math.imul(m,G);var vt=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(c,H)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,G))+Math.imul(y,z)|0,o=Math.imul(y,G),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,V)|0;var yt=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(c,W)|0))<<13)|0;u=((o=o+Math.imul(c,$)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,G))+Math.imul(_,z)|0,o=Math.imul(_,G),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,$)|0;var bt=(u+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(c,X)|0))<<13)|0;u=((o=o+Math.imul(c,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,G))+Math.imul(M,z)|0,o=Math.imul(M,G),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,$)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,G))+Math.imul(x,z)|0,o=Math.imul(x,G),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,V)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,$)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,G))+Math.imul(S,z)|0,o=Math.imul(S,G),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,$)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,$)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,G))+Math.imul(B,z)|0,o=Math.imul(B,G),n=n+Math.imul(I,H)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(N,W)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(x,W)|0,o=o+Math.imul(x,$)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var kt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,G))+Math.imul(L,z)|0,o=Math.imul(L,G),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(S,W)|0,o=o+Math.imul(S,$)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Mt=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(q,z)|0,o=Math.imul(q,G),n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(L,H)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,$)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,ct)|0;var At=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(c,pt)|0))<<13)|0;u=((o=o+Math.imul(c,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,V))+Math.imul(q,H)|0,o=Math.imul(q,V),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,$)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var Nt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(U,W),i=(i=Math.imul(U,$))+Math.imul(q,W)|0,o=Math.imul(q,$),n=n+Math.imul(O,X)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ct)|0;var xt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Z))+Math.imul(q,X)|0,o=Math.imul(q,Z),n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ut)|0,n=n+Math.imul(k,ft)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Pt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,tt))+Math.imul(q,Q)|0,o=Math.imul(q,tt),n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,ut)|0,n=n+Math.imul(N,ft)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,ct)|0;var It=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(q,rt)|0,o=Math.imul(q,nt),n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,st)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,st)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ut)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ct)|0;var St=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(q,ot)|0,o=Math.imul(q,st),n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,ut)|0)+Math.imul(L,ht)|0,o=o+Math.imul(L,ut)|0,n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(B,ft)|0,o=o+Math.imul(B,ct)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,ut))+Math.imul(q,ht)|0,o=Math.imul(q,ut),n=n+Math.imul(O,ft)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(L,ft)|0,o=o+Math.imul(L,ct)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,ft),i=(i=Math.imul(U,ct))+Math.imul(q,ft)|0,o=Math.imul(q,ct);var Bt=(u+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,mt)|0)+Math.imul(L,pt)|0))<<13)|0;u=((o=o+Math.imul(L,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Ct=(u+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(q,pt)|0))<<13)|0;return u=((o=Math.imul(q,mt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Et,h[7]=kt,h[8]=Mt,h[9]=At,h[10]=Nt,h[11]=xt,h[12]=Pt,h[13]=It,h[14]=St,h[15]=Rt,h[16]=Tt,h[17]=Bt,h[18]=Ct,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return (new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e;}Math.imul||(d=c),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?c(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863;}r.words[o]=a,n=s,s=i;}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]];},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=h,c=u,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],v=n[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=p+g,n[l+d]=m+v,r[l+d+s]=p-g,n[l+d+s]=m-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y);}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i;}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0;}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o));},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,h,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=p;}return this.conjugate(a,h,n),this.transform(a,h,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o;}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i;}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n;}s&&(this.words[e]=s,this.length++);}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i;}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s;}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a;}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return !(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i;}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o;}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,h=n.length-o.length;if("mod"!==e){(a=new i(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0;}var l=n.clone()._ishlnsubmul(o,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),n._ishlnsubmul(o,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=c);}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a;},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t;}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),h=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(h)):(n.isub(e),a.isub(o),h.isub(s));}return {a:a,b:h,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(n.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s));}return (o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o;}else if(0===i||0===r.cmpn(1))break;e.isub(r);}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a;}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else {n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1;}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return -1===this.cmpn(t)},i.prototype.lt=function(t){return -1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new E(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp();}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");}function E(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e;}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null;}function k(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv);}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e);},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s;}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9;},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0);}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n;}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else {if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _;}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers");},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers");},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(f,new i(1).iushln(p-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),p=g;}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0;}h=26;}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,E),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)};}(a$1,s$1);var h$1=a$1.exports;let u$1=!1,l$1=!1;const f$1={debug:1,default:2,info:2,warning:3,error:4,off:5};let c$1=f$1.default,d$1=null;const p$1=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e);}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var m$1,g$1,v$1;(v$1=m$1||(m$1={})).DEBUG="DEBUG",v$1.INFO="INFO",v$1.WARNING="WARNING",v$1.ERROR="ERROR",v$1.OFF="OFF",function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED";}(g$1||(g$1={}));const y$1="0123456789abcdef";class b$1{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1});}_log(t,e){const r=t.toLowerCase();null==f$1[r]&&this.throwArgumentError("invalid log level name","logLevel",t),c$1>f$1[r]||console.log.apply(console,e);}debug(...t){this._log(b$1.levels.DEBUG,t);}info(...t){this._log(b$1.levels.INFO,t);}warn(...t){this._log(b$1.levels.WARNING,t);}makeError(t,e,r){if(l$1)return this.makeError("censored error",e,{});e||(e=b$1.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=y$1[e[t]>>4],r+=y$1[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")");}else n.push(t+"="+JSON.stringify(e));}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()));}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case g$1.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";}break}case g$1.CALL_EXCEPTION:case g$1.INSUFFICIENT_FUNDS:case g$1.MISSING_NEW:case g$1.NONCE_EXPIRED:case g$1.REPLACEMENT_UNDERPRICED:case g$1.TRANSACTION_REPLACED:case g$1.UNPREDICTABLE_GAS_LIMIT:o=e;}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t];})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,b$1.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n);}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n);}checkNormalize(t){p$1&&this.throwError("platform missing String.prototype.normalize",b$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:p$1});}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,b$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,b$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}));}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,b$1.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,b$1.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e});}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",b$1.errors.MISSING_NEW,{name:e.name});}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",b$1.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",b$1.errors.MISSING_NEW,{name:e.name});}static globalLogger(){return d$1||(d$1=new b$1("logger/5.6.0")),d$1}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",b$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),u$1){if(!t)return;this.globalLogger().throwError("error censorship permanent",b$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"});}l$1=!!t,u$1=!!e;}static setLogLevel(t){const e=f$1[t.toLowerCase()];null!=e?c$1=e:b$1.globalLogger().warn("invalid log level - "+t);}static from(t){return new b$1(t)}}b$1.errors=g$1,b$1.levels=m$1;const w$1=new b$1("bytes/5.6.1");function _(t){return !!t.toHexString}function E$1(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return E$1(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function k$1(t){return I(t)&&!(t.length%2)||A(t)}function M$1(t){return "number"==typeof t&&t==t&&t%1==0}function A(t){if(null==t)return !1;if(t.constructor===Uint8Array)return !0;if("string"==typeof t)return !1;if(!M$1(t.length)||t.length<0)return !1;for(let e=0;e<t.length;e++){const r=t[e];if(!M$1(r)||r<0||r>=256)return !1}return !0}function N(t,e){if(e||(e={}),"number"==typeof t){w$1.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),E$1(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),_(t)&&(t=t.toHexString()),I(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":w$1.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return E$1(new Uint8Array(n))}return A(t)?E$1(new Uint8Array(t)):w$1.throwArgumentError("invalid arrayify value","value",t)}function x$1(t){const e=t.map((t=>N(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),E$1(n)}function P$1(t){let e=N(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function I(t,e){return !("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function S(t,e){if(e||(e={}),"number"==typeof t){w$1.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return (t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),_(t))return t.toHexString();if(I(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":w$1.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(A(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+="0123456789abcdef"[(240&n)>>4]+"0123456789abcdef"[15&n];}return e}return w$1.throwArgumentError("invalid hexlify value","value",t)}function R(t){if("string"!=typeof t)t=S(t);else if(!I(t)||t.length%2)return null;return (t.length-2)/2}function T(t,e,r){return "string"!=typeof t?t=S(t):(!I(t)||t.length%2)&&w$1.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function B$1(t){let e="0x";return t.forEach((t=>{e+=S(t).substring(2);})),e}function C$1(t){const e=function(t){"string"!=typeof t&&(t=S(t)),I(t)||w$1.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return "0x"+t.substring(e)}(S(t,{hexPad:"left"}));return "0x"===e?"0x0":e}function O(t,e){for("string"!=typeof t?t=S(t):I(t)||w$1.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&w$1.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function L$1(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(k$1(t)){let r=N(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=S(r.slice(0,32)),e.s=S(r.slice(32,64))):65===r.length?(e.r=S(r.slice(0,32)),e.s=S(r.slice(32,64)),e.v=r[64]):w$1.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:w$1.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=S(r.slice(32,64));}else {if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=N(t)).length>e&&w$1.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),E$1(r)}(N(e._vs),32);e._vs=S(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&w$1.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=S(r);null==e.s?e.s=i:e.s!==i&&w$1.throwArgumentError("signature v mismatch _vs","signature",t);}if(null==e.recoveryParam)null==e.v?w$1.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else {const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&w$1.throwArgumentError("signature recoveryParam mismatch v","signature",t);}null!=e.r&&I(e.r)?e.r=O(e.r,32):w$1.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&I(e.s)?e.s=O(e.s,32):w$1.throwArgumentError("signature missing or invalid s","signature",t);const r=N(e.s);r[0]>=128&&w$1.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=S(r);e._vs&&(I(e._vs)||w$1.throwArgumentError("signature invalid _vs","signature",t),e._vs=O(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&w$1.throwArgumentError("signature _vs mismatch v and s","signature",t);}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var F$1=h$1.BN;const U$1=new b$1("bignumber/5.6.1"),q$1={};let D$1=!1;class z$1{constructor(t,e){t!==q$1&&U$1.throwError("cannot call constructor directly; use BigNumber.from",b$1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this);}fromTwos(t){return j$1(H(this).fromTwos(t))}toTwos(t){return j$1(H(this).toTwos(t))}abs(){return "-"===this._hex[0]?z$1.from(this._hex.substring(1)):this}add(t){return j$1(H(this).add(H(t)))}sub(t){return j$1(H(this).sub(H(t)))}div(t){return z$1.from(t).isZero()&&V("division-by-zero","div"),j$1(H(this).div(H(t)))}mul(t){return j$1(H(this).mul(H(t)))}mod(t){const e=H(t);return e.isNeg()&&V("division-by-zero","mod"),j$1(H(this).umod(e))}pow(t){const e=H(t);return e.isNeg()&&V("negative-power","pow"),j$1(H(this).pow(e))}and(t){const e=H(t);return (this.isNegative()||e.isNeg())&&V("unbound-bitwise-result","and"),j$1(H(this).and(e))}or(t){const e=H(t);return (this.isNegative()||e.isNeg())&&V("unbound-bitwise-result","or"),j$1(H(this).or(e))}xor(t){const e=H(t);return (this.isNegative()||e.isNeg())&&V("unbound-bitwise-result","xor"),j$1(H(this).xor(e))}mask(t){return (this.isNegative()||t<0)&&V("negative-width","mask"),j$1(H(this).maskn(t))}shl(t){return (this.isNegative()||t<0)&&V("negative-width","shl"),j$1(H(this).shln(t))}shr(t){return (this.isNegative()||t<0)&&V("negative-width","shr"),j$1(H(this).shrn(t))}eq(t){return H(this).eq(H(t))}lt(t){return H(this).lt(H(t))}lte(t){return H(this).lte(H(t))}gt(t){return H(this).gt(H(t))}gte(t){return H(this).gte(H(t))}isNegative(){return "-"===this._hex[0]}isZero(){return H(this).isZero()}toNumber(){try{return H(this).toNumber()}catch(t){V("overflow","toNumber",this.toString());}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return U$1.throwError("this platform does not support BigInt",b$1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?D$1||(D$1=!0,U$1.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?U$1.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",b$1.errors.UNEXPECTED_ARGUMENT,{}):U$1.throwError("BigNumber.toString does not accept parameters",b$1.errors.UNEXPECTED_ARGUMENT,{})),H(this).toString(10)}toHexString(){return this._hex}toJSON(t){return {type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof z$1)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new z$1(q$1,G$1(t)):t.match(/^-?[0-9]+$/)?new z$1(q$1,G$1(new F$1(t))):U$1.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&V("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&V("overflow","BigNumber.from",t),z$1.from(String(t));const e=t;if("bigint"==typeof e)return z$1.from(e.toString());if(A(e))return z$1.from(S(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return z$1.from(t)}else {let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(I(t)||"-"===t[0]&&I(t.substring(1))))return z$1.from(t)}return U$1.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return !(!t||!t._isBigNumber)}}function G$1(t){if("string"!=typeof t)return G$1(t.toString(16));if("-"===t[0])return "-"===(t=t.substring(1))[0]&&U$1.throwArgumentError("invalid hex","value",t),"0x00"===(t=G$1(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return "0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function j$1(t){return z$1.from(G$1(t))}function H(t){const e=z$1.from(t).toHexString();return "-"===e[0]?new F$1("-"+e.substring(3),16):new F$1(e.substring(2),16)}function V(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),U$1.throwError(t,b$1.errors.NUMERIC_FAULT,n)}const K$1=new b$1("properties/5.6.0");function W(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1});}function $(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor;}return null}function J(t){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return (yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function X(t){const e={};for(const r in t)e[r]=t[r];return e}const Z={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Y(t){if(null==t||Z[typeof t])return !0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return !1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]];}catch(t){continue}if(!Y(n))return !1}return !0}return K$1.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Q(t){if(Y(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>tt$1(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&W(e,r,tt$1(n));}return e}return K$1.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function tt$1(t){return Q(t)}var et$1,rt={exports:{}};
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */et$1=rt,function(){var t="input is invalid type",e="object"==typeof window,r=e?window:{};r.JS_SHA3_NO_WINDOW&&(e=!1);var n=!e&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=s$1:n&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&et$1.exports,o=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],c=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return "[object Array]"===Object.prototype.toString.call(t)}),!o||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return "object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new S(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new S(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,o){return E["cshake"+t].update(e,n,i,o)[r]()}},y=function(t,e,r){return function(e,n,i,o){return E["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o);}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new S(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:c,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new S(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:h,bits:c,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return i||o?new S(t,e,n).bytepad([i,o],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:h,bits:c,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return new R(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],E={},k=[],M=0;M<_.length;++M)for(var A=_[M],N=A.bits,x=0;x<N.length;++x){var P=A.name+"_"+N[x];if(k.push(P),E[P]=A.createMethod(N[x],A.padding),"sha3"!==A.name){var I=A.name+N[x];k.push(I),E[I]=E[P];}}function S(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0;}function R(t,e,r){S.call(this,t,e,r);}S.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0;}for(var i,s,a=this.blocks,h=this.byteCount,l=e.length,f=this.blockCount,c=0,d=this.s;c<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;c<l&&i<h;++c)a[i>>2]|=e[c]<<u[3&i++];else for(i=this.start;c<l&&i<h;++c)(s=e.charCodeAt(c))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++c)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=h){for(this.start=i-h,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];T(d),this.reset=!0;}else this.start=i;}return this},S.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},S.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(o&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||o&&ArrayBuffer.isView(e)))throw new Error(t);r=!0;}var i=0,s=e.length;if(r)i=s;else for(var a=0;a<e.length;++a){var h=e.charCodeAt(a);h<128?i+=1:h<2048?i+=2:h<55296||h>=57344?i+=3:(h=65536+((1023&h)<<10|1023&e.charCodeAt(++a)),i+=4);}return i+=this.encode(8*i),this.update(e),i},S.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];T(n);}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,h="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(T(r),o=0);}return i&&(t=r[o],h+=a[t>>4&15]+a[15&t],i>1&&(h+=a[t>>12&15]+a[t>>8&15]),i>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)h[s]=r[o];s%e==0&&T(r);}return i&&(h[o]=r[o],t=t.slice(0,a)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,h=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&T(n);}return o&&(t=a<<2,e=n[s],h[t]=255&e,o>1&&(h[t+1]=e>>8&255),o>2&&(h[t+2]=e>>16&255)),h},R.prototype=new S,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var T=function(t){var e,r,n,i,o,s,a,h,u,f,c,d,p,m,g,v,y,b,w,_,E,k,M,A,N,x,P,I,S,R,T,B,C,O,L,F,U,q,D,z,G,j,H,V,K,W,$,J,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,ht,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(h<<1|u>>>31),r=o^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(f<<1|c>>>31),r=a^(c<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=c^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],W=t[11]<<4|t[10]>>>28,$=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,S=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,j=t[40]<<18|t[41]>>>14,H=t[41]<<18|t[40]>>>14,O=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,J=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,F=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,B=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,N=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,q=t[26]<<25|t[27]>>>7,D=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,K=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,P=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,G=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,M=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=A^~x&I,t[11]=N^~P&S,t[20]=O^~F&q,t[21]=L^~U&D,t[30]=V^~W&J,t[31]=K^~$&X,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&E,t[12]=x^~I&R,t[13]=P^~S&T,t[22]=F^~q&z,t[23]=U^~D&G,t[32]=W^~J&Z,t[33]=$^~X&Y,t[42]=nt^~ot&at,t[43]=it^~st&ht,t[4]=b^~_&k,t[5]=w^~E&M,t[14]=I^~R&B,t[15]=S^~T&C,t[24]=q^~z&j,t[25]=D^~G&H,t[34]=J^~Z&Q,t[35]=X^~Y&tt,t[44]=ot^~at&ut,t[45]=st^~ht&lt,t[6]=_^~k&m,t[7]=E^~M&g,t[16]=R^~B&A,t[17]=T^~C&N,t[26]=z^~j&O,t[27]=G^~H&L,t[36]=Z^~Q&V,t[37]=Y^~tt&K,t[46]=at^~ut&et,t[47]=ht^~lt&rt,t[8]=k^~m&v,t[9]=M^~g&y,t[18]=B^~A&x,t[19]=C^~N&P,t[28]=j^~O&F,t[29]=H^~L&U,t[38]=Q^~V&W,t[39]=tt^~K&$,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=l[n],t[1]^=l[n+1];};if(i)et$1.exports=E;else for(M=0;M<k.length;++M)r[k[M]]=E[k[M]];}();var nt=rt.exports;function it(t){return "0x"+nt.keccak_256(N(t))}const ot=new b$1("rlp/5.6.0");function st(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function at(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function ht(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(ht(t));})),e.length<=55)return e.unshift(192+e.length),e;const r=st(e.length);return r.unshift(247+r.length),r.concat(e)}k$1(t)||ot.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(N(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=st(e.length);return r.unshift(183+r.length),r.concat(e)}function ut(t){return S(ht(t))}function lt(t,e,r,n){const i=[];for(;r<e+1+n;){const o=ft(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&ot.throwError("child data too short",b$1.errors.BUFFER_OVERRUN,{});}return {consumed:1+n,result:i}}function ft(t,e){if(0===t.length&&ot.throwError("data too short",b$1.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&ot.throwError("data short segment too short",b$1.errors.BUFFER_OVERRUN,{});const n=at(t,e+1,r);return e+1+r+n>t.length&&ot.throwError("data long segment too short",b$1.errors.BUFFER_OVERRUN,{}),lt(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&ot.throwError("data array too short",b$1.errors.BUFFER_OVERRUN,{}),lt(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&ot.throwError("data array too short",b$1.errors.BUFFER_OVERRUN,{});const n=at(t,e+1,r);return e+1+r+n>t.length&&ot.throwError("data array too short",b$1.errors.BUFFER_OVERRUN,{}),{consumed:1+r+n,result:S(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;return e+1+r>t.length&&ot.throwError("data too short",b$1.errors.BUFFER_OVERRUN,{}),{consumed:1+r,result:S(t.slice(e+1,e+1+r))}}return {consumed:1,result:S(t[e])}}function ct(t){const e=N(t),r=ft(e,0);return r.consumed!==e.length&&ot.throwArgumentError("invalid rlp data","data",t),r.result}const dt=new b$1("address/5.6.0");function pt(t){I(t,20)||dt.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=N(it(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return "0x"+e.join("")}const mt={};for(let t=0;t<10;t++)mt[String(t)]=String(t);for(let t=0;t<26;t++)mt[String.fromCharCode(65+t)]=String(10+t);const gt=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function vt(t){let e=null;if("string"!=typeof t&&dt.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=pt(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&dt.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>mt[t])).join("");for(;e.length>=gt;){let t=e.substring(0,gt);e=parseInt(t,10)%97+e.substring(t.length);}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&dt.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new F$1(r,36).toString(16);e.length<40;)e="0"+e;e=pt("0x"+e);}else dt.throwArgumentError("invalid address","address",t);var r;return e}const yt$1=z$1.from(0),bt$1=new b$1("strings/5.6.0");var wt$1,_t$1;function Et(t,e,r,n,i){if(t===_t$1.BAD_PREFIX||t===_t$1.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===_t$1.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD";}(wt$1||(wt$1={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation";}(_t$1||(_t$1={}));const kt=Object.freeze({error:function(t,e,r,n,i){return bt$1.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Et,replace:function(t,e,r,n,i){return t===_t$1.OVERLONG?(n.push(i),0):(n.push(65533),Et(t,e,r))}});function Mt(t,e){null==e&&(e=kt.error),t=N(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else {if(240!=(248&i)){n+=e(128==(192&i)?_t$1.UNEXPECTED_CONTINUE:_t$1.BAD_PREFIX,n-1,t,r);continue}o=3,s=65535;}if(n-1+o>=t.length){n+=e(_t$1.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=t[n];if(128!=(192&i)){n+=e(_t$1.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++;}null!==a&&(a>1114111?n+=e(_t$1.OUT_OF_RANGE,n-1-o,t,r,a):a>=55296&&a<=57343?n+=e(_t$1.UTF16_SURROGATE,n-1-o,t,r,a):a<=s?n+=e(_t$1.OVERLONG,n-1-o,t,r,a):r.push(a));}return r}function At(t,e=wt$1.current){e!=wt$1.current&&(bt$1.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128);}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128);}return N(r)}function Nt(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function xt(t,e){return Nt(Mt(t,e))}function Pt$1(t,e=wt$1.current){return Mt(At(t,e))}function It$1(t,e){e||(e=function(t){return [parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1]);})),n}function St(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function Rt(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const Tt=St("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Bt="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Ct=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ot=It$1("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Lt=It$1("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ft=It$1("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Ut=St("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function qt(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Pt$1(t);var r;r=e.map((t=>{if(Bt.indexOf(t)>=0)return [];if(t>=65024&&t<=65039)return [];let e=function(t){let e=Rt(t,Ct);if(e)return [t+e.s];let r=Ot[t];if(r)return r;let n=Lt[t];return n?[t+n[0]]:Ft[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e);})),t)),[]),e=Pt$1(Nt(e),wt$1.NFKC),e.forEach((t=>{if(Rt(t,Ut))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Rt(t,Tt))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=Nt(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function Dt(t){return it(At(t))}const zt$1=new b$1("hash/5.6.0"),Gt=new Uint8Array(32);Gt.fill(0);const jt=new RegExp("^((.*)\\.)?([^.]+)$");function Ht(t){"string"!=typeof t&&zt$1.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=Gt;for(;e.length;){const n=e.match(jt);null!=n&&""!==n[2]||zt$1.throwArgumentError("invalid ENS address; missing component","name",t),r=it(x$1([r,it(At(qt(n[3])))])),e=n[2]||"";}return S(r)}const Vt=new b$1("hash/5.6.0"),Kt$1=new Uint8Array(32);Kt$1.fill(0);const Wt$1=z$1.from(-1),$t=z$1.from(0),Jt$1=z$1.from(1),Xt=z$1.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Zt=O(Jt$1.toHexString(),32),Yt=O($t.toHexString(),32),Qt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},te=["name","version","chainId","verifyingContract","salt"];function ee(t){return function(e){return "string"!=typeof e&&Vt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const re={name:ee("name"),version:ee("version"),chainId:function(t){try{return z$1.from(t).toString()}catch(t){}return Vt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return vt(t).toLowerCase()}catch(t){}return Vt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=N(t);if(32!==e.length)throw new Error("bad length");return S(e)}catch(t){}return Vt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function ne(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&Vt.throwArgumentError("invalid numeric width","type",t);const i=Xt.mask(r?n-1:n),o=r?i.add(Jt$1).mul(Wt$1):$t;return function(e){const r=z$1.from(e);return (r.lt(o)||r.gt(i))&&Vt.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),O(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return (0===r||r>32||e[1]!==String(r))&&Vt.throwArgumentError("invalid bytes width","type",t),function(e){return N(e).length!==r&&Vt.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=N(t),r=e.length%32;return r?B$1([e,Kt$1.slice(r)]):S(e)}(e)}}}switch(t){case"address":return function(t){return O(vt(t),32)};case"bool":return function(t){return t?Zt:Yt};case"bytes":return function(t){return it(t)};case"string":return function(t){return Dt(t)}}return null}function ie(t,e){return `${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class oe{constructor(t){W(this,"types",Object.freeze(tt$1(t))),W(this,"_encoderCache",{}),W(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={};}));for(const n in t){const i={};t[n].forEach((o=>{i[o.name]&&Vt.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Vt.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),ne(s)||(r[s]||Vt.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",t),r[s].push(n),e[n][s]=!0);}));}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?Vt.throwArgumentError("missing primary type","types",t):i.length>1&&Vt.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),W(this,"primaryType",i[0]),function i(o,s){s[o]&&Vt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t),s[o]=!0,Object.keys(e[o]).forEach((t=>{r[t]&&(i(t,s),Object.keys(s).forEach((e=>{n[e][t]=!0;})));})),delete s[o];}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=ie(e,t[e])+r.map((e=>ie(e,t[e]))).join("");}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=ne(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&Vt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(it)),it(B$1(i))}}const r=this.types[t];if(r){const e=Dt(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?it(n):n}));return n.unshift(e),B$1(n)}}return Vt.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||Vt.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return it(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(ne(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&Vt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):Vt.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new oe(t)}static getPrimaryType(t){return oe.from(t).primaryType}static hashStruct(t,e,r){return oe.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=Qt[r];n||Vt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n});}return e.sort(((t,e)=>te.indexOf(t.name)-te.indexOf(e.name))),oe.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return B$1(["0x1901",oe.hashDomain(t),oe.from(e).hash(r)])}static hash(t,e,r){return it(oe.encode(t,e,r))}static resolveNames(t,e,r,n){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(this,void 0,void 0,(function*(){t=X(t);const i={};t.verifyingContract&&!I(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const o=oe.from(e);o.visit(r,((t,e)=>("address"!==t||I(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=o.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){oe.hashDomain(t);const n={},i=[];te.forEach((e=>{const r=t[e];null!=r&&(n[e]=re[e](r),i.push({name:e,type:Qt[e]}));}));const o=oe.from(e),s=X(e);return s.EIP712Domain?Vt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return S(N(e));if(t.match(/^u?int/))return z$1.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return !!e;case"string":return "string"!=typeof e&&Vt.throwArgumentError("invalid string","value",e),e}return Vt.throwArgumentError("unsupported type","type",t)}))}}}const se=new b$1("abstract-provider/5.6.0");class ae{constructor(){se.checkAbstract(new.target,ae),W(this,"_isProvider",!0);}getFeeData(){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield J({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=z$1.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return !(!t||!t._isProvider)}}var he=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))};const ue=new b$1("abstract-signer/5.6.1"),le=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],fe=[b$1.errors.INSUFFICIENT_FUNDS,b$1.errors.NONCE_EXPIRED,b$1.errors.REPLACEMENT_UNDERPRICED];class ce{constructor(){ue.checkAbstract(new.target,ce),W(this,"_isSigner",!0);}getBalance(t){return he(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return he(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return he(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield J(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return he(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield J(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return he(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return he(this,void 0,void 0,(function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return he(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return he(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return he(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===le.indexOf(e)&&ue.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=X(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&ue.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return he(this,void 0,void 0,(function*(){const e=yield J(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>he(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&ue.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||ue.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):ue.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else {const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t;}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&ue.throwError("network does not support EIP-1559",b$1.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):ue.throwError("failed to get consistent fee data",b$1.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas));}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(fe.indexOf(t.code)>=0)throw t;return ue.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",b$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&ue.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield J(e)}))}_checkProvider(t){this.provider||ue.throwError("missing provider",b$1.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"});}static isSigner(t){return !(!t||!t._isSigner)}}var de={},pe$1={},me$1=ge$1;function ge$1(t,e){if(!t)throw new Error(e||"Assertion failed")}ge$1.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ve$1={exports:{}},ye$1={exports:{}};"function"==typeof Object.create?ye$1.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}));}:ye$1.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}};try{var be$1=require("util");if("function"!=typeof be$1.inherits)throw "";ve$1.exports=be$1.inherits;}catch(v){ve$1.exports=ye$1.exports;}var we$1=me$1,_e$1=ve$1.exports;function Ee$1(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function ke$1(t){return (t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Me$1(t){return 1===t.length?"0"+t:t}function Ae$1(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}pe$1.inherits=_e$1,pe$1.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return [];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16));}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):Ee$1(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128);}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},pe$1.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Me$1(t[r].toString(16));return e},pe$1.htonl=ke$1,pe$1.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=ke$1(i)),r+=Ae$1(i.toString(16));}return r},pe$1.zero2=Me$1,pe$1.zero8=Ae$1,pe$1.join32=function(t,e,r,n){var i=r-e;we$1(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=h>>>0;}return o},pe$1.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o);}return r},pe$1.rotr32=function(t,e){return t>>>e|t<<32-e},pe$1.rotl32=function(t,e){return t<<e|t>>>32-e},pe$1.sum32=function(t,e){return t+e>>>0},pe$1.sum32_3=function(t,e,r){return t+e+r>>>0},pe$1.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},pe$1.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},pe$1.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o;},pe$1.sum64_hi=function(t,e,r,n){return (e+n>>>0<e?1:0)+t+r>>>0},pe$1.sum64_lo=function(t,e,r,n){return e+n>>>0},pe$1.sum64_4_hi=function(t,e,r,n,i,o,s,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+o>>>0)<o?1:0,t+r+i+s+(h+=(u=u+a>>>0)<a?1:0)>>>0},pe$1.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},pe$1.sum64_5_hi=function(t,e,r,n,i,o,s,a,h,u){var l=0,f=e;return l+=(f=f+n>>>0)<e?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+a>>>0)<a?1:0,t+r+i+s+h+(l+=(f=f+u>>>0)<u?1:0)>>>0},pe$1.sum64_5_lo=function(t,e,r,n,i,o,s,a,h,u){return e+n+o+a+u>>>0},pe$1.rotr64_hi=function(t,e,r){return (e<<32-r|t>>>r)>>>0},pe$1.rotr64_lo=function(t,e,r){return (t<<32-r|e>>>r)>>>0},pe$1.shr64_hi=function(t,e,r){return t>>>r},pe$1.shr64_lo=function(t,e,r){return (t<<32-r|e>>>r)>>>0};var Ne$1={},xe$1=pe$1,Pe$1=me$1;function Ie$1(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32;}Ne$1.BlockHash=Ie$1,Ie$1.prototype.update=function(t,e){if(t=xe$1.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=xe$1.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32);}return this},Ie$1.prototype.digest=function(t){return this.update(this._pad()),Pe$1(null===this.pending),this._digest(t)},Ie$1.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t;}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Se$1={},Re$1={},Te$1=pe$1.rotr32;function Be$1(t,e,r){return t&e^~t&r}function Ce$1(t,e,r){return t&e^t&r^e&r}function Oe$1(t,e,r){return t^e^r}Re$1.ft_1=function(t,e,r,n){return 0===t?Be$1(e,r,n):1===t||3===t?Oe$1(e,r,n):2===t?Ce$1(e,r,n):void 0},Re$1.ch32=Be$1,Re$1.maj32=Ce$1,Re$1.p32=Oe$1,Re$1.s0_256=function(t){return Te$1(t,2)^Te$1(t,13)^Te$1(t,22)},Re$1.s1_256=function(t){return Te$1(t,6)^Te$1(t,11)^Te$1(t,25)},Re$1.g0_256=function(t){return Te$1(t,7)^Te$1(t,18)^t>>>3},Re$1.g1_256=function(t){return Te$1(t,17)^Te$1(t,19)^t>>>10};var Le$1=pe$1,Fe$1=Ne$1,Ue$1=Re$1,qe$1=Le$1.rotl32,De$1=Le$1.sum32,ze$1=Le$1.sum32_5,Ge$1=Ue$1.ft_1,je$1=Fe$1.BlockHash,He$1=[1518500249,1859775393,2400959708,3395469782];function Ve$1(){if(!(this instanceof Ve$1))return new Ve$1;je$1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80);}Le$1.inherits(Ve$1,je$1);var Ke$1=Ve$1;Ve$1.blockSize=512,Ve$1.outSize=160,Ve$1.hmacStrength=80,Ve$1.padLength=64,Ve$1.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=qe$1(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=ze$1(qe$1(i,5),Ge$1(u,o,s,a),h,r[n],He$1[u]);h=a,a=s,s=qe$1(o,30),o=i,i=l;}this.h[0]=De$1(this.h[0],i),this.h[1]=De$1(this.h[1],o),this.h[2]=De$1(this.h[2],s),this.h[3]=De$1(this.h[3],a),this.h[4]=De$1(this.h[4],h);},Ve$1.prototype._digest=function(t){return "hex"===t?Le$1.toHex32(this.h,"big"):Le$1.split32(this.h,"big")};var We$1=pe$1,$e$1=Ne$1,Je$1=Re$1,Xe$1=me$1,Ze$1=We$1.sum32,Ye$1=We$1.sum32_4,Qe$1=We$1.sum32_5,tr$1=Je$1.ch32,er$1=Je$1.maj32,rr$1=Je$1.s0_256,nr$1=Je$1.s1_256,ir$1=Je$1.g0_256,or$1=Je$1.g1_256,sr$1=$e$1.BlockHash,ar$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hr$1(){if(!(this instanceof hr$1))return new hr$1;sr$1.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ar$1,this.W=new Array(64);}We$1.inherits(hr$1,sr$1);var ur$1=hr$1;hr$1.blockSize=512,hr$1.outSize=256,hr$1.hmacStrength=192,hr$1.padLength=64,hr$1.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Ye$1(or$1(r[n-2]),r[n-7],ir$1(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],l=this.h[6],f=this.h[7];for(Xe$1(this.k.length===r.length),n=0;n<r.length;n++){var c=Qe$1(f,nr$1(h),tr$1(h,u,l),this.k[n],r[n]),d=Ze$1(rr$1(i),er$1(i,o,s));f=l,l=u,u=h,h=Ze$1(a,c),a=s,s=o,o=i,i=Ze$1(c,d);}this.h[0]=Ze$1(this.h[0],i),this.h[1]=Ze$1(this.h[1],o),this.h[2]=Ze$1(this.h[2],s),this.h[3]=Ze$1(this.h[3],a),this.h[4]=Ze$1(this.h[4],h),this.h[5]=Ze$1(this.h[5],u),this.h[6]=Ze$1(this.h[6],l),this.h[7]=Ze$1(this.h[7],f);},hr$1.prototype._digest=function(t){return "hex"===t?We$1.toHex32(this.h,"big"):We$1.split32(this.h,"big")};var lr$1=pe$1,fr$1=ur$1;function cr$1(){if(!(this instanceof cr$1))return new cr$1;fr$1.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428];}lr$1.inherits(cr$1,fr$1);var dr$1=cr$1;cr$1.blockSize=512,cr$1.outSize=224,cr$1.hmacStrength=192,cr$1.padLength=64,cr$1.prototype._digest=function(t){return "hex"===t?lr$1.toHex32(this.h.slice(0,7),"big"):lr$1.split32(this.h.slice(0,7),"big")};var pr$1=pe$1,mr$1=Ne$1,gr$1=me$1,vr$1=pr$1.rotr64_hi,yr$1=pr$1.rotr64_lo,br$1=pr$1.shr64_hi,wr$1=pr$1.shr64_lo,_r$1=pr$1.sum64,Er$1=pr$1.sum64_hi,kr$1=pr$1.sum64_lo,Mr$1=pr$1.sum64_4_hi,Ar$1=pr$1.sum64_4_lo,Nr$1=pr$1.sum64_5_hi,xr$1=pr$1.sum64_5_lo,Pr$1=mr$1.BlockHash,Ir$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Sr$1(){if(!(this instanceof Sr$1))return new Sr$1;Pr$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ir$1,this.W=new Array(160);}pr$1.inherits(Sr$1,Pr$1);var Rr$1=Sr$1;function Tr$1(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function Br$1(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function Cr$1(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function Or$1(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function Lr$1(t,e){var r=vr$1(t,e,28)^vr$1(e,t,2)^vr$1(e,t,7);return r<0&&(r+=4294967296),r}function Fr$1(t,e){var r=yr$1(t,e,28)^yr$1(e,t,2)^yr$1(e,t,7);return r<0&&(r+=4294967296),r}function Ur$1(t,e){var r=vr$1(t,e,14)^vr$1(t,e,18)^vr$1(e,t,9);return r<0&&(r+=4294967296),r}function qr$1(t,e){var r=yr$1(t,e,14)^yr$1(t,e,18)^yr$1(e,t,9);return r<0&&(r+=4294967296),r}function Dr$1(t,e){var r=vr$1(t,e,1)^vr$1(t,e,8)^br$1(t,e,7);return r<0&&(r+=4294967296),r}function zr$1(t,e){var r=yr$1(t,e,1)^yr$1(t,e,8)^wr$1(t,e,7);return r<0&&(r+=4294967296),r}function Gr$1(t,e){var r=vr$1(t,e,19)^vr$1(e,t,29)^br$1(t,e,6);return r<0&&(r+=4294967296),r}function jr$1(t,e){var r=yr$1(t,e,19)^yr$1(e,t,29)^wr$1(t,e,6);return r<0&&(r+=4294967296),r}Sr$1.blockSize=1024,Sr$1.outSize=512,Sr$1.hmacStrength=192,Sr$1.padLength=128,Sr$1.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Gr$1(r[n-4],r[n-3]),o=jr$1(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],h=Dr$1(r[n-30],r[n-29]),u=zr$1(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=Mr$1(i,o,s,a,h,u,l,f),r[n+1]=Ar$1(i,o,s,a,h,u,l,f);}},Sr$1.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],l=this.h[7],f=this.h[8],c=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];gr$1(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=y,E=Ur$1(f,c),k=qr$1(f,c),M=Tr$1(f,0,d,0,m),A=Br$1(0,c,0,p,0,g),N=this.k[b],x=this.k[b+1],P=r[b],I=r[b+1],S=Nr$1(w,_,E,k,M,A,N,x,P,I),R=xr$1(w,_,E,k,M,A,N,x,P,I);w=Lr$1(n,i),_=Fr$1(n,i),E=Cr$1(n,0,o,0,a),k=Or$1(0,i,0,s,0,h);var T=Er$1(w,_,E,k),B=kr$1(w,_,E,k);v=m,y=g,m=d,g=p,d=f,p=c,f=Er$1(u,l,S,R),c=kr$1(l,l,S,R),u=a,l=h,a=o,h=s,o=n,s=i,n=Er$1(S,R,T,B),i=kr$1(S,R,T,B);}_r$1(this.h,0,n,i),_r$1(this.h,2,o,s),_r$1(this.h,4,a,h),_r$1(this.h,6,u,l),_r$1(this.h,8,f,c),_r$1(this.h,10,d,p),_r$1(this.h,12,m,g),_r$1(this.h,14,v,y);},Sr$1.prototype._digest=function(t){return "hex"===t?pr$1.toHex32(this.h,"big"):pr$1.split32(this.h,"big")};var Hr$1=pe$1,Vr$1=Rr$1;function Kr$1(){if(!(this instanceof Kr$1))return new Kr$1;Vr$1.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428];}Hr$1.inherits(Kr$1,Vr$1);var Wr$1=Kr$1;Kr$1.blockSize=1024,Kr$1.outSize=384,Kr$1.hmacStrength=192,Kr$1.padLength=128,Kr$1.prototype._digest=function(t){return "hex"===t?Hr$1.toHex32(this.h.slice(0,12),"big"):Hr$1.split32(this.h.slice(0,12),"big")},Se$1.sha1=Ke$1,Se$1.sha224=dr$1,Se$1.sha256=ur$1,Se$1.sha384=Wr$1,Se$1.sha512=Rr$1;var $r$1={},Jr$1=pe$1,Xr$1=Ne$1,Zr$1=Jr$1.rotl32,Yr$1=Jr$1.sum32,Qr$1=Jr$1.sum32_3,tn$1=Jr$1.sum32_4,en$1=Xr$1.BlockHash;function rn$1(){if(!(this instanceof rn$1))return new rn$1;en$1.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little";}function nn$1(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function on$1(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function sn$1(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Jr$1.inherits(rn$1,en$1),$r$1.ripemd160=rn$1,rn$1.blockSize=512,rn$1.outSize=160,rn$1.hmacStrength=192,rn$1.padLength=64,rn$1.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,h=n,u=i,l=o,f=s,c=0;c<80;c++){var d=Yr$1(Zr$1(tn$1(r,nn$1(c,n,i,o),t[an$1[c]+e],on$1(c)),un$1[c]),s);r=s,s=o,o=Zr$1(i,10),i=n,n=d,d=Yr$1(Zr$1(tn$1(a,nn$1(79-c,h,u,l),t[hn$1[c]+e],sn$1(c)),ln$1[c]),f),a=f,f=l,l=Zr$1(u,10),u=h,h=d;}d=Qr$1(this.h[1],i,l),this.h[1]=Qr$1(this.h[2],o,f),this.h[2]=Qr$1(this.h[3],s,a),this.h[3]=Qr$1(this.h[4],r,h),this.h[4]=Qr$1(this.h[0],n,u),this.h[0]=d;},rn$1.prototype._digest=function(t){return "hex"===t?Jr$1.toHex32(this.h,"little"):Jr$1.split32(this.h,"little")};var an$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],hn$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],un$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ln$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],fn$1=pe$1,cn$1=me$1;function dn$1(t,e,r){if(!(this instanceof dn$1))return new dn$1(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(fn$1.toArray(e,r));}var pn$1,mn$1=dn$1;dn$1.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),cn$1(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t);},dn$1.prototype.update=function(t,e){return this.inner.update(t,e),this},dn$1.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},(pn$1=de).utils=pe$1,pn$1.common=Ne$1,pn$1.sha=Se$1,pn$1.ripemd=$r$1,pn$1.hmac=mn$1,pn$1.sha1=pn$1.sha.sha1,pn$1.sha256=pn$1.sha.sha256,pn$1.sha224=pn$1.sha.sha224,pn$1.sha384=pn$1.sha.sha384,pn$1.sha512=pn$1.sha.sha512,pn$1.ripemd160=pn$1.ripemd.ripemd160;var gn$1=de;function vn$1(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var yn$1=bn$1;function bn$1(t,e){if(!t)throw new Error(e||"Assertion failed")}bn$1.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var wn$1=vn$1((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return [];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s);}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return "hex"===e?i(t):t};})),_n$1=vn$1((function(t,e){var r=e;r.assert=yn$1,r.toArray=wn$1.toArray,r.zero2=wn$1.zero2,r.toHex=wn$1.toHex,r.encode=wn$1.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,h=o.andln(i-1);o.isOdd()?(a=h>(i>>1)-1?(i>>1)-h:h,o.isubn(a)):a=0,n[s]=a,o.iushrn(1);}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,h=t.andln(3)+i&3,u=e.andln(3)+o&3;3===h&&(h=-1),3===u&&(u=-1),s=0==(1&h)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h,r[0].push(s),a=0==(1&u)?0:3!=(n=e.andln(7)+o&7)&&5!==n||2!==h?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1);}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)};},r.parseBytes=function(t){return "string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new h$1(t,"hex","le")};})),En$1=_n$1.getNAF,kn$1=_n$1.getJSF,Mn$1=_n$1.assert;function An$1(t,e){this.type=t,this.p=new h$1(e.p,16),this.red=e.prime?h$1.red(e.prime):h$1.mont(this.p),this.zero=new h$1(0).toRed(this.red),this.one=new h$1(1).toRed(this.red),this.two=new h$1(2).toRed(this.red),this.n=e.n&&new h$1(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red));}var Nn$1=An$1;function xn$1(t,e){this.curve=t,this.type=e,this.precomputed=null;}An$1.prototype.point=function(){throw new Error("Not implemented")},An$1.prototype.validate=function(){throw new Error("Not implemented")},An$1.prototype._fixedNafMul=function(t,e){Mn$1(t.precomputed);var r=t._getDoubles(),n=En$1(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var h=o+r.step-1;h>=o;h--)s=(s<<1)+n[h];a.push(s);}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?l=l.mixedAdd(r.points[o]):s===-f&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l);}return u.toP()},An$1.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=En$1(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var h=0;a>=0&&0===o[a];a--)h++;if(a>=0&&h++,s=s.dblp(h),a<0)break;var u=o[a];Mn$1(0!==u),s="affine"===t.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg());}return "affine"===t.type?s.toP():s},An$1.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,h=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<n;o++){var c=(a=e[o])._getNAFPoints(t);h[o]=c.wnd,u[o]=c.points;}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===h[d]&&1===h[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=kn$1(r[d],r[p]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[p]=new Array(f),s=0;s<f;s++){var y=0|v[0][s],b=0|v[1][s];l[d][s]=g[3*(y+1)+(b+1)],l[p][s]=0,u[d]=m;}}else l[d]=En$1(r[d],h[d],this._bitLength),l[p]=En$1(r[p],h[p],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[p].length,f);}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=f;o>=0;o--){for(var E=0;o>=0;){var k=!0;for(s=0;s<n;s++)_[s]=0|l[s][o],0!==_[s]&&(k=!1);if(!k)break;E++,o--;}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var M=_[s];0!==M&&(M>0?a=u[s][M-1>>1]:M<0&&(a=u[s][-M-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a));}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},An$1.BasePoint=xn$1,xn$1.prototype.eq=function(){throw new Error("Not implemented")},xn$1.prototype.validate=function(){return this.curve.validate(this)},An$1.prototype.decodePoint=function(t,e){t=_n$1.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Mn$1(t[t.length-1]%2==0):7===t[0]&&Mn$1(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},xn$1.prototype.encodeCompressed=function(t){return this.encode(t,!0)},xn$1.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},xn$1.prototype.encode=function(t,e){return _n$1.encode(this._encode(e),t)},xn$1.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},xn$1.prototype._hasDoubles=function(t){if(!this.precomputed)return !1;var e=this.precomputed.doubles;return !!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},xn$1.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n);}return {step:t,points:r}},xn$1.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return {wnd:t,points:e}},xn$1.prototype._getBeta=function(){return null},xn$1.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Pn$1=vn$1((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}));}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}};})),In$1=_n$1.assert;function Sn$1(t){Nn$1.call(this,"short",t),this.a=new h$1(t.a,16).toRed(this.red),this.b=new h$1(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4);}Pn$1(Sn$1,Nn$1);var Rn$1=Sn$1;function Tn$1(t,e,r,n){Nn$1.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new h$1(e,16),this.y=new h$1(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1);}function Bn$1(t,e,r,n){Nn$1.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new h$1(0)):(this.x=new h$1(e,16),this.y=new h$1(r,16),this.z=new h$1(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one;}Sn$1.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new h$1(t.beta,16).toRed(this.red);else {var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red);}if(t.lambda)r=new h$1(t.lambda,16);else {var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],In$1(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))));}return {beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return {a:new h$1(t.a,16),b:new h$1(t.b,16)}})):this._getEndoBasis(r)}}},Sn$1.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:h$1.mont(t),r=new h$1(2).toRed(e).redInvm(),n=r.redNeg(),i=new h$1(3).toRed(e).redNeg().redSqrt().redMul(r);return [n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Sn$1.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,a,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,d=this.n.clone(),p=new h$1(1),m=new h$1(0),g=new h$1(0),v=new h$1(1),y=0;0!==c.cmpn(0);){var b=d.div(c);u=d.sub(b.mul(c)),l=g.sub(b.mul(p));var w=v.sub(b.mul(m));if(!n&&u.cmp(f)<0)e=a.neg(),r=p,n=u.neg(),i=l;else if(n&&2==++y)break;a=u,d=c,c=u,g=p,p=l,v=m,m=w;}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Sn$1.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),h=i.mul(r.b),u=o.mul(n.b);return {k1:t.sub(s).sub(a),k2:h.add(u).neg()}},Sn$1.prototype.pointFromX=function(t,e){(t=new h$1(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return (e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Sn$1.prototype.validate=function(t){if(t.inf)return !0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Sn$1.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],h=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),h=h.neg(!0)),n[2*o]=a,n[2*o+1]=h,i[2*o]=s.k1,i[2*o+1]=s.k2;}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},Pn$1(Tn$1,Nn$1.BasePoint),Sn$1.prototype.point=function(t,e,r){return new Tn$1(this,t,e,r)},Sn$1.prototype.pointFromJSON=function(t,e){return Tn$1.fromJSON(this,t,e)},Tn$1.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}};}return e}},Tn$1.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Tn$1.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Tn$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Tn$1.prototype.isInfinity=function(){return this.inf},Tn$1.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Tn$1.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Tn$1.prototype.getX=function(){return this.x.fromRed()},Tn$1.prototype.getY=function(){return this.y.fromRed()},Tn$1.prototype.mul=function(t){return t=new h$1(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Tn$1.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Tn$1.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Tn$1.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Tn$1.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}};}return e},Tn$1.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Pn$1(Bn$1,Nn$1.BasePoint),Sn$1.prototype.jpoint=function(t,e,r){return new Bn$1(this,t,e,r)},Bn$1.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Bn$1.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Bn$1.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=o.redSub(s);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=n.redMul(u),c=h.redSqr().redIAdd(l).redISub(f).redISub(f),d=h.redMul(f.redISub(c)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,p)},Bn$1.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),u=h.redMul(s),l=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),c=a.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},Bn$1.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,h=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),f=u.redSqr(),c=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(h)),p=o.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(c);var y=u.redMul(a);e+1<t&&(h=h.redMul(c)),o=m,a=y,u=v;}return this.curve.jpoint(o,u.redMul(i),a)},Bn$1.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Bn$1.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y);}else {var l=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(c);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=c.redIAdd(c);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r);}return this.curve.jpoint(t,e,r)},Bn$1.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(s).redISub(s);t=h;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y);}else {var l=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=c.redIAdd(c),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g);}return this.curve.jpoint(t,e,r)},Bn$1.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},Bn$1.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(u.redMul(h.redISub(u)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},Bn$1.prototype.mul=function(t,e){return t=new h$1(t,e),this.curve._wnafMul(this,t)},Bn$1.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return !0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return !1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Bn$1.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return !0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return !1;if(r.redIAdd(i),0===this.x.cmp(r))return !0}},Bn$1.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Bn$1.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Cn$1=vn$1((function(t,e){var r=e;r.base=Nn$1,r.short=Rn$1,r.mont=null,r.edwards=null;})),On$1=vn$1((function(t,e){var r,n=e,i=_n$1.assert;function o(t){"short"===t.type?this.curve=new Cn$1.short(t):"edwards"===t.type?this.curve=new Cn$1.edwards(t):this.curve=new Cn$1.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O");}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}});}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gn$1.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gn$1.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gn$1.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gn$1.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gn$1.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn$1.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn$1.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash();}catch(t){r=void 0;}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gn$1.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]});}));function Ln$1(t){if(!(this instanceof Ln$1))return new Ln$1(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wn$1.toArray(t.entropy,t.entropyEnc||"hex"),r=wn$1.toArray(t.nonce,t.nonceEnc||"hex"),n=wn$1.toArray(t.pers,t.persEnc||"hex");yn$1(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n);}var Fn$1=Ln$1;Ln$1.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656;},Ln$1.prototype._hmac=function(){return new gn$1.hmac(this.hash,this.K)},Ln$1.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest());},Ln$1.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=wn$1.toArray(t,e),r=wn$1.toArray(r,n),yn$1(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1;},Ln$1.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=wn$1.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,wn$1.encode(o,e)};var Un$1=_n$1.assert;function qn$1(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc);}var Dn$1=qn$1;qn$1.fromPublic=function(t,e,r){return e instanceof qn$1?e:new qn$1(t,{pub:e,pubEnc:r})},qn$1.fromPrivate=function(t,e,r){return e instanceof qn$1?e:new qn$1(t,{priv:e,privEnc:r})},qn$1.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},qn$1.prototype.getPublic=function(t,e){return "string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},qn$1.prototype.getPrivate=function(t){return "hex"===t?this.priv.toString(16,2):this.priv},qn$1.prototype._importPrivate=function(t,e){this.priv=new h$1(t,e||16),this.priv=this.priv.umod(this.ec.curve.n);},qn$1.prototype._importPublic=function(t,e){if(t.x||t.y)return "mont"===this.ec.curve.type?Un$1(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Un$1(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e);},qn$1.prototype.derive=function(t){return t.validate()||Un$1(t.validate(),"public point not validated"),t.mul(this.priv).getX()},qn$1.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},qn$1.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},qn$1.prototype.inspect=function(){return "<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var zn$1=_n$1.assert;function Gn$1(t,e){if(t instanceof Gn$1)return t;this._importDER(t,e)||(zn$1(t.r&&t.s,"Signature without r or s"),this.r=new h$1(t.r,16),this.s=new h$1(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam);}var jn$1=Gn$1;function Hn$1(){this.place=0;}function Vn$1(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return !1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return !(i<=127)&&(e.place=s,i)}function Kn$1(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Wn$1(t,e){if(e<128)t.push(e);else {var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e);}}Gn$1.prototype._importDER=function(t,e){t=_n$1.toArray(t,e);var r=new Hn$1;if(48!==t[r.place++])return !1;var n=Vn$1(t,r);if(!1===n)return !1;if(n+r.place!==t.length)return !1;if(2!==t[r.place++])return !1;var i=Vn$1(t,r);if(!1===i)return !1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return !1;var s=Vn$1(t,r);if(!1===s)return !1;if(t.length!==s+r.place)return !1;var a=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return !1;o=o.slice(1);}if(0===a[0]){if(!(128&a[1]))return !1;a=a.slice(1);}return this.r=new h$1(o),this.s=new h$1(a),this.recoveryParam=null,!0},Gn$1.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Kn$1(e),r=Kn$1(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Wn$1(n,e.length),(n=n.concat(e)).push(2),Wn$1(n,r.length);var i=n.concat(r),o=[48];return Wn$1(o,i.length),o=o.concat(i),_n$1.encode(o,t)};var $n$1=function(){throw new Error("unsupported")},Jn$1=_n$1.assert;function Xn$1(t){if(!(this instanceof Xn$1))return new Xn$1(t);"string"==typeof t&&(Jn$1(Object.prototype.hasOwnProperty.call(On$1,t),"Unknown curve "+t),t=On$1[t]),t instanceof On$1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash;}var Zn$1=Xn$1;Xn$1.prototype.keyPair=function(t){return new Dn$1(this,t)},Xn$1.prototype.keyFromPrivate=function(t,e){return Dn$1.fromPrivate(this,t,e)},Xn$1.prototype.keyFromPublic=function(t,e){return Dn$1.fromPublic(this,t,e)},Xn$1.prototype.genKeyPair=function(t){t||(t={});for(var e=new Fn$1({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||$n$1(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new h$1(2));;){var i=new h$1(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Xn$1.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Xn$1.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new h$1(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),a=new Fn$1({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new h$1(1)),l=0;;l++){var f=n.k?n.k(l):new h$1(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var d=c.getX(),p=d.umod(this.n);if(0!==p.cmpn(0)){var m=f.invm(this.n).mul(p.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==d.cmp(p)?2:0);return n.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),g^=1),new jn$1({r:p,s:m,recoveryParam:g})}}}}}},Xn$1.prototype.verify=function(t,e,r,n){t=this._truncateToN(new h$1(t,16)),r=this.keyFromPublic(r,n);var i=(e=new jn$1(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return !1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return !1;var s,a=o.invm(this.n),u=a.mul(t).umod(this.n),l=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Xn$1.prototype.recoverPubKey=function(t,e,r,n){Jn$1((3&r)===r,"The recovery param is more than two bits"),e=new jn$1(e,n);var i=this.n,o=new h$1(t),s=e.r,a=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var f=e.r.invm(i),c=i.sub(o).mul(f).umod(i),d=a.mul(f).umod(i);return this.g.mulAdd(c,s,d)},Xn$1.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new jn$1(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i);}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Yn=vn$1((function(t,e){var r=e;r.version="6.5.4",r.utils=_n$1,r.rand=function(){throw new Error("unsupported")},r.curve=Cn$1,r.curves=On$1,r.ec=Zn$1,r.eddsa=null;})).ec;const Qn=new b$1("signing-key/5.6.1");let ti=null;function ei(){return ti||(ti=new Yn("secp256k1")),ti}class ri{constructor(t){W(this,"curve","secp256k1"),W(this,"privateKey",S(t)),32!==R(this.privateKey)&&Qn.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=ei().keyFromPrivate(N(this.privateKey));W(this,"publicKey","0x"+e.getPublic(!1,"hex")),W(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),W(this,"_isSigningKey",!0);}_addPoint(t){const e=ei().keyFromPublic(N(this.publicKey)),r=ei().keyFromPublic(N(t));return "0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=ei().keyFromPrivate(N(this.privateKey)),r=N(t);32!==r.length&&Qn.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return L$1({recoveryParam:n.recoveryParam,r:O("0x"+n.r.toString(16),32),s:O("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=ei().keyFromPrivate(N(this.privateKey)),r=ei().keyFromPublic(N(ni(t)));return O("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return !(!t||!t._isSigningKey)}}function ni(t,e){const r=N(t);if(32===r.length){const t=new ri(r);return e?"0x"+ei().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?S(r):"0x"+ei().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+ei().keyFromPublic(r).getPublic(!0,"hex"):S(r):Qn.throwArgumentError("invalid public or private key","key","[REDACTED]")}const ii=new b$1("transactions/5.6.0");var oi$1;function si(t){return "0x"===t?null:vt(t)}function ai(t){return "0x"===t?yt$1:z$1.from(t)}function hi(t,e){return function(t){return vt(T(it(T(ni(t),1)),12))}(function(t,e){const r=L$1(e),n={r:N(r.r),s:N(r.s)};return "0x"+ei().recoverPubKey(N(t),n,r.recoveryParam).encode("hex",!1)}(N(t),e))}function ui(t,e){const r=P$1(z$1.from(t).toHexString());return r.length>32&&ii.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function li(t,e){return {address:vt(t),storageKeys:(e||[]).map(((e,r)=>(32!==R(e)&&ii.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function fi(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&ii.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),li(t[0],t[1])):li(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return li(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function ci(t){return fi(t).map((t=>[t.address,t.storageKeys]))}function di(t,e){if(null!=t.gasPrice){const e=z$1.from(t.gasPrice),r=z$1.from(t.maxFeePerGas||0);e.eq(r)||ii.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r});}const r=[ui(t.chainId||0,"chainId"),ui(t.nonce||0,"nonce"),ui(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ui(t.maxFeePerGas||0,"maxFeePerGas"),ui(t.gasLimit||0,"gasLimit"),null!=t.to?vt(t.to):"0x",ui(t.value||0,"value"),t.data||"0x",ci(t.accessList||[])];if(e){const t=L$1(e);r.push(ui(t.recoveryParam,"recoveryParam")),r.push(P$1(t.r)),r.push(P$1(t.s));}return B$1(["0x02",ut(r)])}function pi(t,e){const r=[ui(t.chainId||0,"chainId"),ui(t.nonce||0,"nonce"),ui(t.gasPrice||0,"gasPrice"),ui(t.gasLimit||0,"gasLimit"),null!=t.to?vt(t.to):"0x",ui(t.value||0,"value"),t.data||"0x",ci(t.accessList||[])];if(e){const t=L$1(e);r.push(ui(t.recoveryParam,"recoveryParam")),r.push(P$1(t.r)),r.push(P$1(t.s));}return B$1(["0x01",ut(r)])}function mi(t,e,r){try{const r=ai(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r;}catch(t){ii.throwArgumentError("invalid v for transaction type: 1","v",e[0]);}t.r=O(e[1],32),t.s=O(e[2],32);try{const e=it(r(t));t.from=hi(e,{r:t.r,s:t.s,recoveryParam:t.v});}catch(t){console.log(t);}}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559";}(oi$1||(oi$1={}));class gi{constructor(t){W(this,"alphabet",t),W(this,"base",t.length),W(this,"_alphabetMap",{}),W(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e;}encode(t){let e=N(t);if(0===e.length)return "";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0;}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8;}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return N(new Uint8Array(e.reverse()))}}new gi("abcdefghijklmnopqrstuvwxyz234567");const vi$1=new gi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function yi(t){return "0x"+gn$1.sha256().update(N(t)).digest("hex")}new b$1("sha2/5.6.0");const bi=new b$1("networks/5.6.2");function wi(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura));}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan));}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy));}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const o=new e.PocketProvider(t,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o);}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t));}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{n.push(new e.AnkrProvider(t,r.ankr));}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return wi(t)},e}function _i$1(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return _i$1(t,e)},r}const Ei$1={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:wi("homestead")},ki$1={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:wi("ropsten")},Mi$1={chainId:63,name:"classicMordor",_defaultProvider:_i$1("https://www.ethercluster.com/mordor","classicMordor")},Ai$1={unspecified:{chainId:0,name:"unspecified"},homestead:Ei$1,mainnet:Ei$1,morden:{chainId:2,name:"morden"},ropsten:ki$1,testnet:ki$1,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:wi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:wi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:wi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:_i$1("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Mi$1,classicTestnet:Mi$1,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:_i$1("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Ni(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return N(e)}function xi(t){t=N(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function Pi(t,e){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach(((t,e)=>{o[e.toLowerCase()]=t;})):n.headers.keys().forEach((t=>{o[t.toLowerCase()]=n.headers.get(t);})),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:N(new Uint8Array(i))}}))}const Ii=new b$1("web/5.6.0");function Si(t){return new Promise((e=>{setTimeout(e,t);}))}function Ri(t,e){if(null==t)return null;if("string"==typeof t)return t;if(k$1(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return xt(t)}catch(t){}return S(t)}return t}function Ti(t,e,r){let n=null;if(null!=e){n=At(e);const r="string"==typeof t?{url:t}:X(t);r.headers?0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=X(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},t=r;}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Ii.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,o="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Ii.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof t&&!!t.errorPassThrough,a={};let h=null;const u={method:"GET"};let l=!1,f=12e4;if("string"==typeof t)h=t;else if("object"==typeof t){if(null!=t&&null!=t.url||Ii.throwArgumentError("missing URL","connection.url",t),h=t.url,"number"==typeof t.timeout&&t.timeout>0&&(f=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(l=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==h.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Ii.throwError("basic authentication requires a secure https url",b$1.errors.INVALID_ARGUMENT,{argument:"url",url:h,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+xi(At(e))};}null!=t.skipFetchSetup&&(u.skipFetchSetup=!!t.skipFetchSetup);}const c=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=h?h.match(c):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:Ni(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){Ii.throwError("processing response error",b$1.errors.SERVER_ERROR,{body:Ri(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:h});}e&&(u.method="POST",u.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value;})),u.headers=p;const m=function(){let t=null;return {promise:new Promise((function(e,r){f&&(t=setTimeout((()=>{null!=t&&(t=null,r(Ii.makeError("timeout",b$1.errors.TIMEOUT,{requestBody:Ri(u.body,p["content-type"]),requestMethod:u.method,timeout:f,url:h})));}),f));})),cancel:function(){null!=t&&(clearTimeout(t),t=null);}}}(),g=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Pi(h,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){h=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,h)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,t))),yield Si(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),Ii.throwError("missing response",b$1.errors.SERVER_ERROR,{requestBody:Ri(u.body,p["content-type"]),requestMethod:u.method,serverError:t,url:h}));}let a=e.body;if(l&&304===e.statusCode?a=null:!s&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),Ii.throwError("bad response",b$1.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Ri(a,e.headers?e.headers["content-type"]:null),requestBody:Ri(u.body,p["content-type"]),requestMethod:u.method,url:h})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,h)),e){const e=o*parseInt(String(Math.random()*Math.pow(2,t)));yield Si(e);continue}}m.cancel(),Ii.throwError("processing response error",b$1.errors.SERVER_ERROR,{body:Ri(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:Ri(u.body,p["content-type"]),requestMethod:u.method,url:h});}return m.cancel(),a}return Ii.throwError("failed response",b$1.errors.SERVER_ERROR,{requestBody:Ri(u.body,p["content-type"]),requestMethod:u.method,url:h})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(xt(t));}catch(e){Ii.throwError("invalid JSON",b$1.errors.SERVER_ERROR,{body:t,error:e});}return r&&(n=r(n,e)),n}))}function Bi(t,e){return e||(e={}),null==(e=X(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{s()&&n(new Error("timeout"));}),e.timeout));const a=e.retryLimit;let h=0;!function i(){return t().then((function(t){if(void 0!==t)s()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(h++,h>a)return void(s()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,h)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t);}return null}),(function(t){s()&&n(t);}))}();}))}for(var Ci="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Oi={},Li$1=0;Li$1<Ci.length;Li$1++){var Fi=Ci.charAt(Li$1);if(void 0!==Oi[Fi])throw new TypeError(Fi+" is ambiguous");Oi[Fi]=Li$1;}function Ui$1(t){var e=t>>25;return (33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function qi$1(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return "Invalid prefix ("+t+")";e=Ui$1(e)^n>>5;}for(e=Ui$1(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Ui$1(e)^31&i;}return e}function Di$1(t,e,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],h=0;h<t.length;++h)for(i=i<<e|t[h],o+=e;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else {if(o>=e)return "Excess padding";if(i<<r-o&s)return "Non-zero padding"}return a}var zi=function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=qi$1(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",o=0;o<e.length;++o){var s=e[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=Ui$1(n)^s,i+=Ci.charAt(s);}for(o=0;o<6;++o)n=Ui$1(n);for(n^=1,o=0;o<6;++o)i+=Ci.charAt(n>>5*(5-o)&31);return i},Gi=function(t){var e=Di$1(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)};const ji="providers/5.6.6",Hi=new b$1(ji);class Vi{constructor(){this.formats=this.getDefaultFormats();}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),h=this.type.bind(this);return t.transaction={hash:o,type:h,accessList:Vi.allowNull(this.accessList.bind(this),null),blockHash:Vi.allowNull(o,null),blockNumber:Vi.allowNull(a,null),transactionIndex:Vi.allowNull(a,null),confirmations:Vi.allowNull(a,null),from:e,gasPrice:Vi.allowNull(r),maxPriorityFeePerGas:Vi.allowNull(r),maxFeePerGas:Vi.allowNull(r),gasLimit:r,to:Vi.allowNull(e,null),value:r,nonce:a,data:i,r:Vi.allowNull(this.uint256),s:Vi.allowNull(this.uint256),v:Vi.allowNull(a),creates:Vi.allowNull(e,null),raw:Vi.allowNull(i)},t.transactionRequest={from:Vi.allowNull(e),nonce:Vi.allowNull(a),gasLimit:Vi.allowNull(r),gasPrice:Vi.allowNull(r),maxPriorityFeePerGas:Vi.allowNull(r),maxFeePerGas:Vi.allowNull(r),to:Vi.allowNull(e),value:Vi.allowNull(r),data:Vi.allowNull((t=>this.data(t,!0))),type:Vi.allowNull(a),accessList:Vi.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:e,topics:Vi.arrayOf(o),data:i,logIndex:a,blockHash:o},t.receipt={to:Vi.allowNull(this.address,null),from:Vi.allowNull(this.address,null),contractAddress:Vi.allowNull(e,null),transactionIndex:a,root:Vi.allowNull(s),gasUsed:r,logsBloom:Vi.allowNull(i),blockHash:o,transactionHash:o,logs:Vi.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Vi.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Vi.allowNull(r),status:Vi.allowNull(a),type:h},t.block={hash:Vi.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:Vi.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Vi.allowNull(e),extraData:i,transactions:Vi.allowNull(Vi.arrayOf(o)),baseFeePerGas:Vi.allowNull(r)},t.blockWithTransactions=X(t.block),t.blockWithTransactions.transactions=Vi.allowNull(Vi.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Vi.allowNull(n,void 0),toBlock:Vi.allowNull(n,void 0),blockHash:Vi.allowNull(o,void 0),address:Vi.allowNull(e,void 0),topics:Vi.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Vi.allowNull(a),blockHash:Vi.allowNull(o),transactionIndex:a,removed:Vi.allowNull(this.boolean.bind(this)),address:e,data:Vi.allowFalsish(i,"0x"),topics:Vi.arrayOf(o),transactionHash:o,logIndex:a},t}accessList(t){return fi(t||[])}number(t){return "0x"===t?0:z$1.from(t).toNumber()}type(t){return "0x"===t||null==t?0:z$1.from(t).toNumber()}bigNumber(t){return z$1.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return !0;if("false"===t)return !1}throw new Error("invalid boolean - "+t)}hex(t,e){return "string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),I(t))?t.toLowerCase():Hi.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return vt(t)}callAddress(t){if(!I(t,32))return null;const e=vt(T(t,12));return "0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=vt(t.from);}catch(e){dt.throwArgumentError("missing from address","transaction",t);}return vt(T(it(ut([e,P$1(N(z$1.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return "latest";if("earliest"===t)return "0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||I(t))return C$1(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==R(r)?Hi.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=z$1.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!I(t))throw new Error("invalid uint256");return O(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=Vi.check(e,t);return n._difficulty=null==r?null:z$1.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Vi.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&z$1.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=Vi.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;I(r)&&(r=z$1.from(r).toNumber()),e.chainId=r;}else {let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),I(r)&&(r=z$1.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r;}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return function(t){const e=N(t);if(e[0]>127)return function(t){const e=ct(t);9!==e.length&&6!==e.length&&ii.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ai(e[0]).toNumber(),gasPrice:ai(e[1]),gasLimit:ai(e[2]),to:si(e[3]),value:ai(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=z$1.from(e[6]).toNumber();}catch(t){return console.log(t),r}if(r.r=O(e[7],32),r.s=O(e[8],32),z$1.from(r.r).isZero()&&z$1.from(r.s).isZero())r.chainId=r.v,r.v=0;else {r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(S(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=it(ut(i));try{r.from=hi(o,{r:S(r.r),s:S(r.s),recoveryParam:n});}catch(t){console.log(t);}r.hash=it(t);}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=ct(t.slice(1));8!==e.length&&11!==e.length&&ii.throwArgumentError("invalid component count for transaction type: 1","payload",S(t));const r={type:1,chainId:ai(e[0]).toNumber(),nonce:ai(e[1]).toNumber(),gasPrice:ai(e[2]),gasLimit:ai(e[3]),to:si(e[4]),value:ai(e[5]),data:e[6],accessList:fi(e[7])};return 8===e.length||(r.hash=it(t),mi(r,e.slice(8),pi)),r}(e);case 2:return function(t){const e=ct(t.slice(1));9!==e.length&&12!==e.length&&ii.throwArgumentError("invalid component count for transaction type: 2","payload",S(t));const r=ai(e[2]),n=ai(e[3]),i={type:2,chainId:ai(e[0]).toNumber(),nonce:ai(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ai(e[4]),to:si(e[5]),value:ai(e[6]),data:e[7],accessList:fi(e[8])};return 9===e.length||(i.hash=it(t),mi(i,e.slice(9),di)),i}(e)}return ii.throwError(`unsupported transaction type: ${e[0]}`,b$1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}(t)}receiptLog(t){return Vi.check(this.formats.receiptLog,t)}receipt(t){const e=Vi.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=z$1.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&Hi.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Hi.throwArgumentError("invalid alt-root-status","value.root",e.root);}else 66!==e.root.length&&Hi.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return Vi.check(this.formats.filter,t)}filterLog(t){return Vi.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i);}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e));})),r}}}var Ki$1=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))};const Wi=new b$1(ji);function $i(t){return null==t?"null":(32!==R(t)&&Wi.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Ji(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[$i(t)]=!0;}));const r=Object.keys(e);return r.sort(),r.join("|")}return $i(t)})).join("&")}function Xi(t){if("string"==typeof t){if(32===R(t=t.toLowerCase()))return "tx:"+t;if(-1===t.indexOf(":"))return t}else {if(Array.isArray(t))return "filter:*:"+Ji(t);if(class extends class{constructor(t){for(const e in t)this[e]=tt$1(t[e]);}}{static isForkEvent(t){return !(!t||!t._isForkEvent)}}.isForkEvent(t))throw Wi.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return "filter:"+(t.address||"*")+":"+Ji(t.topics||[])}throw new Error("invalid event - "+t)}function Zi(){return (new Date).getTime()}function Yi(t){return new Promise((e=>{setTimeout(e,t);}))}const Qi=["block","network","pending","poll"];class to{constructor(t,e,r){W(this,"tag",t),W(this,"listener",e),W(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1;}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return "tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return [];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||Qi.indexOf(this.tag)>=0}}const eo={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ro(t){return O(z$1.from(t).toHexString(),32)}function no(t){return vi$1.encode(x$1([t,T(yi(yi(t)),0,4)]))}const io=new RegExp("^(ipfs)://(.*)$","i"),oo=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),io,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function so(t,e){try{return xt(ao(t,e))}catch(t){}return null}function ao(t,e){if("0x"===t)return null;const r=z$1.from(T(t,e,e+32)).toNumber(),n=z$1.from(T(t,r,r+32)).toNumber();return T(t,r+32,r+32+n)}function ho(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Wi.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function uo(t){const e=N(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function lo(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function fo(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=N(t[n]);e[n]=uo(r),e.push(uo(i.length)),e.push(lo(i)),r+=32+32*Math.ceil(i.length/32);}return B$1(e)}class co{constructor(t,e,r,n){W(this,"provider",t),W(this,"name",r),W(this,"address",t.formatter.address(e)),W(this,"_resolvedAddress",n);}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>z$1.from(t).eq(1))).catch((t=>{if(t.code===b$1.errors.CALL_EXCEPTION)return !1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return Ki$1(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:B$1([t,Ht(this.name),e||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=B$1(["0x9061b923",fo([(i=this.name,S(x$1(i.split(".").map((t=>{const e=At("_"+qt(t));return e[0]=e.length-1,e}))))+"00"),r.data])]));try{let t=yield this.provider.call(r);return N(t).length%32==4&&Wi.throwError("resolver threw error",b$1.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=ao(t,0)),t}catch(t){if(t.code===b$1.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return Ki$1(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?ao(r,0):null}))}_getAddress(t,e){const r=eo[String(t)];if(null==r&&Wi.throwError(`unsupported coin type: ${t}`,b$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=N(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return no(x$1([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return no(x$1([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=Gi(n.slice(2));return t.unshift(e),zi(r.prefix,t)}}return null}getAddress(t){return Ki$1(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return "0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===b$1.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",ro(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&Wi.throwError("invalid or unsupported coin data",b$1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return Ki$1(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<oo.length;r++){const n=e.match(oo[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:ho(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),h=O(z$1.from(s[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:B$1(["0x6352211e",h])}));if(o!==e)return null;t.push({type:"owner",content:e});}else if("erc1155"===i){const e=z$1.from(yield this.provider.call({to:a,data:B$1(["0x00fdd58e",O(o,32),h])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()});}const u={to:this.provider.formatter.address(s[0]),data:B$1([r,h])};let l=so(yield this.provider.call(u),0);if(null==l)return null;t.push({type:"metadata-url-base",content:l}),"erc1155"===i&&(l=l.replace("{id}",h.substring(2)),t.push({type:"metadata-url-expanded",content:l})),l.match(/^ipfs:/i)&&(l=ho(l)),t.push({type:"metadata-url",content:l});const f=yield Ti(l);if(!f)return null;t.push({type:"metadata",content:JSON.stringify(f)});let c=f.image;if("string"!=typeof c)return null;if(c.match(/^(https:\/\/|data:)/i));else {if(null==c.match(io))return null;t.push({type:"url-ipfs",content:c}),c=ho(c);}return t.push({type:"url",content:c}),{linkage:t,url:c}}}}}catch(t){}return null}))}getContentHash(){return Ki$1(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return "ipfs://"+vi$1.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return "ipns://"+vi$1.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:Wi.throwError("invalid or unsupported content hash data",b$1.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return Ki$1(this,void 0,void 0,(function*(){let e=At(t);e=x$1([ro(64),ro(e.length),e]),e.length%32!=0&&(e=x$1([e,O("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",S(e));return null==r||"0x"===r?null:xt(r)}))}}let po=null,mo=1;class go extends ae{constructor(t){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),W(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else {const e=$(new.target,"getNetwork")(t);e?(W(this,"_network",e),this.emit("network",e,null)):Wi.throwArgumentError("invalid network","network",t);}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0;}_ready(){return Ki$1(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise;}catch(t){}null==t&&(t=yield this.detectNetwork()),t||Wi.throwError("no network detected",b$1.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:W(this,"_network",t),this.emit("network",t,null));}return this._network}))}get ready(){return Bi((()=>this._ready().then((t=>t),(t=>{if(t.code!==b$1.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==po&&(po=new Vi),po}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in Ai$1){const r=Ai$1[e];if(r.chainId===t)return {name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return {chainId:t,name:"unknown"}}if("string"==typeof t){const e=Ai$1[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=Ai$1[t.name];if(!e)return "number"!=typeof t.chainId&&bi.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&bi.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return Ki$1(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),o=[];for(let t=0;t<r.length;t++){const e=r[t],s=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),h=yield Ti({url:s,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(h.data)return h.data;const u=h.message||"unknown error";if(h.status>=400&&h.status<500)return Wi.throwError(`response not found during CCIP fetch: ${u}`,b$1.errors.SERVER_ERROR,{url:e,errorMessage:u});o.push(u);}return Wi.throwError(`error encountered during CCIP fetch: ${o.map((t=>JSON.stringify(t))).join(", ")}`,b$1.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(t){return Ki$1(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Zi()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Zi(),r=J({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Zi();return (t=z$1.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null);})),(yield r).blockNumber}))}poll(){return Ki$1(this,void 0,void 0,(function*(){const t=mo++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2);}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Wi.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Wi.makeError("network block skew detected",b$1.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t];}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t);}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e);}));})).catch((e=>{this.emit("error",e),t._inflight=!1;}));e.push(i);}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t);})).catch((t=>{this.emit("error",t);}));}else this.emit("didPoll",t);}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll();}get network(){return this._network}detectNetwork(){return Ki$1(this,void 0,void 0,(function*(){return Wi.throwError("provider does not support network detection",b$1.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Ki$1(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Yi(0),this._network;const r=Wi.makeError("underlying network changed",b$1.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t);}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll();}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null;}),this.pollingInterval);}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null);}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll();}),this._pollingInterval));}_getFastBlockNumber(){const t=Zi();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Zi(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)));}waitForTransaction(t,e,r){return Ki$1(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return Ki$1(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return (i?i.confirmations:0)>=e?i:new Promise(((i,o)=>{const s=[];let a=!1;const h=function(){return !!a||(a=!0,s.forEach((t=>{t();})),!1)},u=t=>{t.confirmations<e||h()||i(t);};if(this.on(t,u),s.push((()=>{this.removeListener(t,u);})),n){let r=n.startBlock,i=null;const u=s=>Ki$1(this,void 0,void 0,(function*(){a||(yield Yi(1e3),this.getTransactionCount(n.from).then((l=>Ki$1(this,void 0,void 0,(function*(){if(!a){if(l<=n.nonce)r=s;else {{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===t)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,e);if(h())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Wi.makeError("transaction was replaced",b$1.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:t,receipt:r}))}}i++;}}a||this.once("block",u);}}))),(t=>{a||this.once("block",u);})));}));if(a)return;this.once("block",u),s.push((()=>{this.removeListener("block",u);}));}if("number"==typeof r&&r>0){const t=setTimeout((()=>{h()||o(Wi.makeError("timeout exceeded",b$1.errors.TIMEOUT,{timeout:r}));}),r);t.unref&&t.unref(),s.push((()=>{clearTimeout(t);}));}}))}))}getBlockNumber(){return Ki$1(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return z$1.from(t)}catch(e){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield J({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return z$1.from(n)}catch(t){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield J({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return z$1.from(n).toNumber()}catch(t){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield J({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return S(n)}catch(t){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield J({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>C$1(t)))}),i=yield this.perform("getStorageAt",n);try{return S(i)}catch(t){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==R(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&Wi.throwError("Transaction hash mismatch from Provider.sendTransaction.",b$1.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>Ki$1(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const o=yield this._waitForTransaction(t.hash,e,n,i);return null==o&&0===e?null:(this._emitted["t:"+t.hash]=o.blockNumber,0===o.status&&Wi.throwError("transaction failed",b$1.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:o}),o)})),n}sendTransaction(t){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>S(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return Ki$1(this,void 0,void 0,(function*(){const e=yield t,r={};return ["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)));})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?z$1.from(t):null)));})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)));})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?S(t):null)));})),this.formatter.transactionRequest(yield J(r))}))}_getFilter(t){return Ki$1(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r]);})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]));})),this.formatter.filter(yield J(e))}))}_call(t,e,r){return Ki$1(this,void 0,void 0,(function*(){r>=10&&Wi.throwError("CCIP read exceeded maximum redirections",b$1.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&R(i)%32==4)try{const o=T(i,4),s=T(o,0,32);z$1.from(s).eq(n)||Wi.throwError("CCIP Read sender did not match",b$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],h=z$1.from(T(o,32,64)).toNumber(),u=z$1.from(T(o,h,h+32)).toNumber(),l=T(o,h+32);for(let e=0;e<u;e++){const r=so(l,32*e);null==r&&Wi.throwError("CCIP Read contained corrupt URL string",b$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r);}const f=ao(o,64);z$1.from(T(o,100,128)).isZero()||Wi.throwError("CCIP Read callback selector included junk",b$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const c=T(o,96,100),d=ao(o,128),p=yield this.ccipReadFetch(t,f,a);null==p&&Wi.throwError("CCIP Read disabled or provided no URLs",b$1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:B$1([c,fo([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===b$1.errors.SERVER_ERROR)throw t}try{return S(i)}catch(r){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield J({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield J({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return z$1.from(r)}catch(t){return Wi.throwError("bad result from backend",b$1.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return Ki$1(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&Wi.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&Wi.throwError("ENS name not configured",b$1.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(I(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),I(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16));}catch(e){Wi.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t);}return Bi((()=>Ki$1(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t;}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Bi((()=>Ki$1(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t;}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Bi((()=>Ki$1(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t;}return n}))),{oncePoll:this})}))}getLogs(t){return Ki$1(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield J({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1);})),Vi.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Ki$1(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return Ki$1(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&Wi.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return Ki$1(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new co(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".");}}))}_getResolver(t,e){return Ki$1(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||Wi.throwError("network does not support ENS",b$1.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Ht(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return Ki$1(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(I(t))throw e}"string"!=typeof t&&Wi.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return Ki$1(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=so(yield this.call({to:r,data:"0x691f3431"+Ht(e).substring(2)}),0);return (yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return Ki$1(this,void 0,void 0,(function*(){let e=null;if(I(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new co(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==b$1.errors.CALL_EXCEPTION)throw t}try{const t=so(yield this.call({to:n,data:"0x691f3431"+Ht(r).substring(2)}),0);e=yield this.getResolver(t);}catch(t){if(t.code!==b$1.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return Wi.throwError(t+" not implemented",b$1.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0;}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0;}_addEventListener(t,e,r){const n=new to(Xi(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Xi(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e);}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t);})),r}listenerCount(t){if(!t)return this._events.length;let e=Xi(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Xi(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Xi(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||!!n||(n=!0,r.push(t),!1))),r.forEach((t=>{this._stopEvent(t);})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else {const r=Xi(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)));}return e.forEach((t=>{this._stopEvent(t);})),this}}var vo=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))};const yo=new b$1(ji),bo=["call","estimateGas"];function wo(t,e){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")){const r=I(t.data)?t.data:null;if(!e||r)return {message:t.message,data:r}}if("object"==typeof t){for(const r in t){const n=wo(t[r],e);if(n)return n}return null}if("string"==typeof t)try{return wo(JSON.parse(t),e)}catch(t){}return null}function _o(t,e,r){const n=r.transaction||r.signedTransaction;if("call"===t){const t=wo(e,!0);if(t)return t.data;yo.throwError("missing revert data in call exception; Transaction reverted without a reason string",b$1.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e});}if("estimateGas"===t){let r=wo(e.body,!1);null==r&&(r=wo(e,!1)),r&&yo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",b$1.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:t,transaction:n,error:e});}let i=e.message;throw e.code===b$1.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?i=e.error.message:"string"==typeof e.body?i=e.body:"string"==typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit/i)&&yo.throwError("insufficient funds for intrinsic transaction cost",b$1.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&yo.throwError("nonce has already been used",b$1.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&yo.throwError("replacement fee too low",b$1.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&yo.throwError("legacy pre-eip-155 transactions not supported",b$1.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),bo.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&yo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",b$1.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Eo(t){return new Promise((function(e){setTimeout(e,t);}))}function ko(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Mo(t){return t?t.toLowerCase():t}const Ao={};class No extends ce{constructor(t,e,r){if(super(),t!==Ao)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");W(this,"provider",e),null==r&&(r=0),"string"==typeof r?(W(this,"_address",this.provider.formatter.address(r)),W(this,"_index",null)):"number"==typeof r?(W(this,"_index",r),W(this,"_address",null)):yo.throwArgumentError("invalid address or index","addressOrIndex",r);}connect(t){return yo.throwError("cannot alter JSON-RPC Signer connection",b$1.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new xo(Ao,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&yo.throwError("unknown account #"+this._index,b$1.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=X(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=X(t);r.from=e,t.gasLimit=this.provider.estimateGas(r);}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>vo(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&yo.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),J({tx:J(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&yo.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>_o("sendTransaction",t,n)))}))}signTransaction(t){return yo.throwError("signing transactions is unsupported",b$1.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return vo(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Bi((()=>vo(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return vo(this,void 0,void 0,(function*(){const e="string"==typeof t?At(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[S(e),r.toLowerCase()])}))}_legacySignMessage(t){return vo(this,void 0,void 0,(function*(){const e="string"==typeof t?At(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),S(e)])}))}_signTypedData(t,e,r){return vo(this,void 0,void 0,(function*(){const n=yield oe.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(oe.getPayload(n.domain,e,n.value))])}))}unlock(t){return vo(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class xo extends No{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Po={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Io extends go{constructor(t,e){let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e);}),(t=>{e(t);}));}),0);}))),super(r),t||(t=$(this.constructor,"defaultUrl")()),W(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(X(t))),this._nextId=42;}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return "http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null;}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return vo(this,void 0,void 0,(function*(){yield Eo(0);let t=null;try{t=yield this.send("eth_chainId",[]);}catch(e){try{t=yield this.send("net_version",[]);}catch(t){}}if(null!=t){const e=$(this.constructor,"getNetwork");try{return e(z$1.from(t).toNumber())}catch(e){return yo.throwError("could not detect network",b$1.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return yo.throwError("could not detect network",b$1.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new No(Ao,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:tt$1(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=Ti(this.connection,JSON.stringify(r),ko).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null;}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return ["eth_blockNumber",[]];case"getGasPrice":return ["eth_gasPrice",[]];case"getBalance":return ["eth_getBalance",[Mo(e.address),e.blockTag]];case"getTransactionCount":return ["eth_getTransactionCount",[Mo(e.address),e.blockTag]];case"getCode":return ["eth_getCode",[Mo(e.address),e.blockTag]];case"getStorageAt":return ["eth_getStorageAt",[Mo(e.address),e.position,e.blockTag]];case"sendTransaction":return ["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return ["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return ["eth_getTransactionReceipt",[e.transactionHash]];case"call":return ["eth_call",[$(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return ["eth_estimateGas",[$(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Mo(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return vo(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&z$1.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=X(e)).transaction=X(t),delete e.transaction.type);}}const r=this.prepareRequest(t,e);null==r&&yo.throwError(t+" not implemented",b$1.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return _o(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t);}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}));})),n.then((function(){return Eo(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n();}),0),null;t.send("eth_uninstallFilter",[r]);})).catch((t=>{}));}(),r})).catch((t=>{}));}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t);}static hexlifyTransaction(t,e){const r=X(Po);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||K$1.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||K$1.throwArgumentError("invalid object key - "+t,"transaction:"+t,n);}));const o={};return ["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=C$1(z$1.from(t[e]));"gasLimit"===e&&(e="gas"),o[e]=r;})),["from","to","data"].forEach((function(e){null!=t[e]&&(o[e]=S(t[e]));})),t.accessList&&(o.accessList=fi(t.accessList)),o}}const So=new b$1(ji);let Ro=1;function To(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:Ro++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:tt$1(i),provider:this}),e(i,((e,o)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const t=new Error(o.error.message);return t.code=o.error.code,t.data=o.error.data,n(t)}t(o.result);}));}))}}class Bo extends Io{constructor(t,e){null==t&&So.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:tt$1(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=To(0,t.sendAsync.bind(t)):t.send?n=To(0,t.send.bind(t)):So.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),W(this,"jsonRpcFetchFunc",n),W(this,"provider",i);}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const Co=({provider:t,login:e,callbackURL:r})=>function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{h(n.next(t));}catch(t){o(t);}}function a(t){try{h(n.throw(t));}catch(t){o(t);}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e);}))).then(s,a);}h((n=n.apply(t,e||[])).next());}))}(void 0,void 0,void 0,(function*(){if("credential"==t&&!e)throw new Error("ASTROAUTH: Login Details Are Required For The Credential Provider");let n={};if("metamask"==t){if(!window.ethereum)return {error:"Metamask is not installed"};yield window.ethereum.request({method:"eth_requestAccounts"});const t=new Bo(window.ethereum).getSigner(),{data:e}=yield o$1.get("api/auth/sign-message"),r=yield t.signMessage(e.message);n={address:yield t.getAddress(),signature:r};}const{data:i}=yield o$1.post("/api/auth/signin",{provider:t,callback:null!=r?r:location.href,login:null!=e?e:n}).catch((t=>t));return window.location&&(location.href=i.loginURL||i.redirect),i}));let Oo=Symbol("clean"),Lo=[];(t=>{let e,r=[],n={lc:0,value:null,set(t){n.value=t,n.notify();},get:()=>(n.lc||n.listen((()=>{}))(),n.value),notify(t){e=r;let i=!Lo.length;for(let r=0;r<e.length;r++)Lo.push(e[r],n.value,t);if(i){for(let t=0;t<Lo.length;t+=3)Lo[t](Lo[t+1],Lo[t+2]);Lo.length=0;}},listen:t=>(r===e&&(r=r.slice()),n.lc=r.push(t),()=>{r===e&&(r=r.slice());let i=r.indexOf(t);~i&&(r.splice(i,1),n.lc--,n.lc||n.off());}),subscribe(t){let e=n.listen(t);return t(n.value),e},off(){}};"production"!==process.env.NODE_ENV&&(n[Oo]=()=>{r=[],n.lc=0,n.off();});})();var Fo="socialButtons-module_button__WyGuS";const Go=({children:e="Login With Github",callbackURL:r,onClick:n=(()=>Co({provider:"github",callbackURL:r}))})=>t.createElement("button",{className:Fo,onClick:n},t.createElement("img",{src:"https://img.icons8.com/ios-glyphs/280/ffffff/github.png",style:{width:"20px"}}),t.createElement("span",null,e));

var Login$1 = '';

function Login() {
  return /* @__PURE__ */ jsx("div", {
    className: "login-form",
    children: /* @__PURE__ */ jsxs("div", {
      className: "container",
      children: [/* @__PURE__ */ jsx("div", {
        className: "form-container log-in-container",
        children: /* @__PURE__ */ jsxs("form", {
          action: "#",
          children: [/* @__PURE__ */ jsx("h1", {
            children: "Login XXX"
          }), /* @__PURE__ */ jsx("input", {
            type: "email",
            placeholder: "Email"
          }), /* @__PURE__ */ jsx("input", {
            type: "password",
            placeholder: "Password"
          }), /* @__PURE__ */ jsx("a", {
            href: "#",
            children: "Forgot your password?"
          }), /* @__PURE__ */ jsx("button", {
            className: "login",
            children: "Log In"
          })]
        })
      }), /* @__PURE__ */ jsx("div", {
        className: "overlay-container",
        children: /* @__PURE__ */ jsx("div", {
          className: "overlay",
          children: /* @__PURE__ */ jsxs("div", {
            className: "overlay-panel overlay-right",
            children: [/* @__PURE__ */ jsx("h1", {
              children: "Astro Login Form"
            }), /* @__PURE__ */ jsx(Go, {})]
          })
        })
      })]
    })
  });
}

var $$module3$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': Login
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$p = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/Login/Login.astro", { modules: [{ module: $$module2$4, specifier: "@components/HeadCommon.astro", assert: {} }, { module: $$module3$4, specifier: "@components/HeadSEO.astro", assert: {} }, { module: $$module3$3, specifier: "./Login", assert: {} }], hydratedComponents: [Login], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$p = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/Login/Login.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Login = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$p, $$props, $$slots);
  Astro2.self = $$Login;
  const { frontmatter = {} } = Astro2.props;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<html${addAttribute(frontmatter.dir ?? "ltr", "dir")}${addAttribute(frontmatter.lang ?? "en-us", "lang")} class="initial astro-2IT3MFFS">
  <head>
    ${renderComponent($$result, "HeadSEO", $$HeadSEO, { "frontmatter": frontmatter, "class": "astro-2IT3MFFS" })}
    ${renderComponent($$result, "HeadCommon", $$HeadCommon, { "class": "astro-2IT3MFFS" })}
    <title>
    </title>
    
  <!--astro:head--></head>
  <body>
    ${renderComponent($$result, "Login", Login, { "client:load": true, "client:component-hydration": "load", "client:component-path": $$metadata$p.getPath(Login), "client:component-export": $$metadata$p.getExport(Login), "class": "astro-2IT3MFFS" })}
  </body></html>`;
});

var $$module1$9 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$p,
	'default': $$Login
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$o = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/pages/auth/index.astro", { modules: [{ module: $$module1$9, specifier: "@components/Login/Login.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$o = createAstro("/@fs/D:/work/astro/astro-auth-example/src/pages/auth/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$c = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$o, $$props, $$slots);
  Astro2.self = $$Index$c;
  return render`${renderComponent($$result, "Login", $$Login, {})}
`;
});

var _page1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$o,
	'default': $$Index$c
}, Symbol.toStringTag, { value: 'Module' }));

const GithubProvider = (options) => {
    return {
        id: "github",
        name: "GitHub",
        type: "oauth",
        scope: "read:user user:email",
        options,
        authorization: "https://github.com/login/oauth/authorize",
        token: "https://github.com/login/oauth/access_token",
        userinfo: "https://api.github.com/user",
        profile(profile) {
            return {
                id: profile.id.toString(),
                name: profile.name || profile.login,
                email: profile.email,
                image: profile.avatar_url,
            };
        },
    };
};

function getStaticPaths() {
  return [
    { params: { astroauth: "github" } }
  ];
}
const all = iy({
  authProviders: [
    GithubProvider({
      clientId: "9b35f3c854641c1938d3",
      clientSecret: "cc8bb2f7d43f13ee2b6e8a726521b75cfb0f84f1"
    })
  ]
});

var _page2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	getStaticPaths: getStaticPaths,
	all: all
}, Symbol.toStringTag, { value: 'Module' }));

var BaseLayout_astro_astro_type_style_index_0_lang = '';

var BaseLayout_astro_astro_type_style_index_1_lang = '';

var index_astro_astro_type_style_index_0_lang$3 = '';

const Navbar = (props) => {
  const [pathname, setPathname] = useState("");
  const {
    navLinks
  } = props;
  const isActive = (itemHref) => pathname.includes(itemHref);
  useEffect(() => {
    setPathname(window.location.pathname);
  }, []);
  return /* @__PURE__ */ jsx(IconSettings, {
    iconPath: ICON_SETTINGS_PATH,
    children: /* @__PURE__ */ jsx(GlobalNavigationBar, {
      children: /* @__PURE__ */ jsx(GlobalNavigationBarRegion, {
        region: "primary",
        children: navLinks.map((item) => /* @__PURE__ */ jsx(GlobalNavigationBarLink, {
          href: item.href,
          label: item.linkLabel,
          active: isActive(item.href)
        }, item.linkLabel))
      })
    })
  });
};

var $$module2$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': Navbar
}, Symbol.toStringTag, { value: 'Module' }));

var $$module1$8 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$n = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/Navbar/index.astro", { modules: [{ module: $$module1$8, specifier: "../types/", assert: {} }, { module: $$module2$3, specifier: "./index", assert: {} }], hydratedComponents: [Navbar], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$n = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/Navbar/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$b = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$n, $$props, $$slots);
  Astro2.self = $$Index$b;
  const navbarMarkdownInstances = await Astro2.glob(
    { "../../pages/en/auto-index/index.md": () => import('./chunks/chunk.f3251a81.mjs'), "../../pages/en/contact/index.md": () => import('./chunks/chunk.12de4ed6.mjs'), "../../pages/en/home/index.md": () => import('./chunks/chunk.fc4d8ac5.mjs'),},
    () => "../../pages/en/*/index.md"
  );
  const navLinks = navbarMarkdownInstances.map(({ frontmatter: { linkLabel, href }, url }) => ({ linkLabel, href: url || href }));
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<nav class="astro-WO3TLJ35">
  ${renderComponent($$result, "Navbar", Navbar, { "client:load": true, "navLinks": navLinks, "client:component-hydration": "load", "client:component-path": $$metadata$n.getPath(Navbar), "client:component-export": $$metadata$n.getExport(Navbar), "class": "astro-WO3TLJ35" })}
</nav>


`;
});

var $$module1$7 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$n,
	'default': $$Index$b
}, Symbol.toStringTag, { value: 'Module' }));

var index_astro_astro_type_style_index_0_lang$2 = '';

const $$metadata$m = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/Container/index.astro", { modules: [], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$m = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/Container/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$a = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$m, $$props, $$slots);
  Astro2.self = $$Index$a;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<div class="astro-HPWGMJO5">
  ${renderSlot($$result, $$slots["default"])}
</div>


`;
});

var $$module2$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$m,
	'default': $$Index$a
}, Symbol.toStringTag, { value: 'Module' }));

var index_astro_astro_type_style_index_0_lang$1 = '';

const $$metadata$l = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/Footer/index.astro", { modules: [], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$l = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/Footer/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$9 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$l, $$props, $$slots);
  Astro2.self = $$Index$9;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<footer class="footer astro-G4R4REUL">Footer</footer>


`;
});

var $$module5$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$l,
	'default': $$Index$9
}, Symbol.toStringTag, { value: 'Module' }));

(function t(e){function r(t,e,n){var i,o={};if(Array.isArray(t))return t.concat(e);for(i in t)o[n?i.toLowerCase():i]=t[i];for(i in e){var s=n?i.toLowerCase():i,a=e[i];o[s]=s in o&&"object"==typeof a?r(o[s],a,"headers"===s):a;}return o}function n(t,n,i,o){"string"!=typeof t&&(t=(n=t).url);var s={config:n},a=r(e,n),h={},u=o||a.data;(a.transformRequest||[]).map((function(t){u=t(u,a.headers)||u;})),u&&"object"==typeof u&&"function"!=typeof u.append&&(u=JSON.stringify(u),h["content-type"]="application/json");var l="undefined"!=typeof document&&document.cookie.match(RegExp("(^|; )"+a.xsrfCookieName+"=([^;]*)"));if(l&&(h[a.xsrfHeaderName]=l[2]),a.auth&&(h.authorization=a.auth),a.baseURL&&(t=t.replace(/^(?!.*\/\/)\/?(.*)$/,a.baseURL+"/$1")),a.params){var f=~t.indexOf("?")?"&":"?";t+=f+(a.paramsSerializer?a.paramsSerializer(a.params):new URLSearchParams(a.params));}return (a.fetch||fetch)(t,{method:i||a.method,body:u,headers:r(a.headers,h,!0),credentials:a.withCredentials?"include":"same-origin"}).then((function(t){for(var e in t)"function"!=typeof t[e]&&(s[e]=t[e]);var r=a.validateStatus?a.validateStatus(t.status):t.ok;return "stream"==a.responseType?(s.data=t.body,s):t[a.responseType||"text"]().then((function(t){s.data=t,s.data=JSON.parse(t);})).catch(Object).then((function(){return r?s:Promise.reject(s)}))}))}return e=e||{},n.request=n,n.get=function(t,e){return n(t,e,"get")},n.delete=function(t,e){return n(t,e,"delete")},n.head=function(t,e){return n(t,e,"head")},n.options=function(t,e){return n(t,e,"options")},n.post=function(t,e,r){return n(t,r,"post",e)},n.put=function(t,e,r){return n(t,r,"put",e)},n.patch=function(t,e,r){return n(t,r,"patch",e)},n.all=Promise.all.bind(Promise),n.spread=function(t){return function(e){return t.apply(this,e)}},n.CancelToken="function"==typeof AbortController?AbortController:Object,n.defaults=e,n.create=t,n})();var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s={exports:{}};!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"));}var o;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer;}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function h(t,e,r,n){for(var i=0,o=Math.min(t.length,r),s=e;s<o;s++){var a=t.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a;}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)));},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n);},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)s=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)s=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip();},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=h(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=h(t,l,t.length,e),l=0;l<s;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);}this.strip();},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red;},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return (this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],s=i*o,a=67108863&s,h=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var l=h>>>26,f=67108863&h,c=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=c;d++){var p=u-d|0;l+=(s=(i=0|t.words[p])*(o=0|e.words[d])+f)/67108864|0,f=67108863&s;}r.words[u]=0|f,h=0|l;}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],h=(16777215&(a<<i|o)).toString(16);n=0!=(o=a>>>24-i&16777215)||s!==this.length-1?u[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--);}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=l[t],d=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[c-m.length]+m+n;}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36");},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var s,a,h="le"===e,u=new t(o),l=this.clone();if(h){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0;}else {for(a=0;a<o-i;a++)u[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),u[o-a-1]=s;}return u},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,s=0;s<n.length;s++)o=(e=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&e;for(;0!==o&&s<r.length;s++)o=(e=(0|r.words[s])+o)>>26,this.words[s]=67108863&e;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,s=t.words,a=e.words,h=r.words,u=0,l=0|s[0],f=8191&l,c=l>>>13,d=0|s[1],p=8191&d,m=d>>>13,g=0|s[2],v=8191&g,y=g>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],k=8191&E,M=E>>>13,A=0|s[5],N=8191&A,x=A>>>13,P=0|s[6],I=8191&P,S=P>>>13,R=0|s[7],T=8191&R,B=R>>>13,O=0|s[8],C=8191&O,F=O>>>13,L=0|s[9],U=8191&L,q=L>>>13,D=0|a[0],z=8191&D,G=D>>>13,j=0|a[1],H=8191&j,V=j>>>13,K=0|a[2],$=8191&K,J=K>>>13,W=0|a[3],X=8191&W,Z=W>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],ot=8191&it,st=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,lt=0|a[8],ft=8191&lt,ct=lt>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(f,z))|0)+((8191&(i=(i=Math.imul(f,G))+Math.imul(c,z)|0))<<13)|0;u=((o=Math.imul(c,G))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,G))+Math.imul(m,z)|0,o=Math.imul(m,G);var vt=(u+(n=n+Math.imul(f,H)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(c,H)|0))<<13)|0;u=((o=o+Math.imul(c,V)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,z),i=(i=Math.imul(v,G))+Math.imul(y,z)|0,o=Math.imul(y,G),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(m,H)|0,o=o+Math.imul(m,V)|0;var yt=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(c,$)|0))<<13)|0;u=((o=o+Math.imul(c,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,z),i=(i=Math.imul(w,G))+Math.imul(_,z)|0,o=Math.imul(_,G),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,V)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,J)|0;var bt=(u+(n=n+Math.imul(f,X)|0)|0)+((8191&(i=(i=i+Math.imul(f,Z)|0)+Math.imul(c,X)|0))<<13)|0;u=((o=o+Math.imul(c,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,z),i=(i=Math.imul(k,G))+Math.imul(M,z)|0,o=Math.imul(M,G),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,V)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,V)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(c,Q)|0))<<13)|0;u=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(N,z),i=(i=Math.imul(N,G))+Math.imul(x,z)|0,o=Math.imul(x,G),n=n+Math.imul(k,H)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,V)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(v,X)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var _t=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(c,rt)|0))<<13)|0;u=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(I,z),i=(i=Math.imul(I,G))+Math.imul(S,z)|0,o=Math.imul(S,G),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,V)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(w,X)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var Et=(u+(n=n+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,st)|0)+Math.imul(c,ot)|0))<<13)|0;u=((o=o+Math.imul(c,st)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,G))+Math.imul(B,z)|0,o=Math.imul(B,G),n=n+Math.imul(I,H)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,V)|0,n=n+Math.imul(N,$)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,st)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,st)|0;var kt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(c,ht)|0))<<13)|0;u=((o=o+Math.imul(c,ut)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(C,z),i=(i=Math.imul(C,G))+Math.imul(F,z)|0,o=Math.imul(F,G),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,V)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,J)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(v,ot)|0,i=(i=i+Math.imul(v,st)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,st)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ut)|0;var Mt=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,ct)|0)+Math.imul(c,ft)|0))<<13)|0;u=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,z),i=(i=Math.imul(U,G))+Math.imul(q,z)|0,o=Math.imul(q,G),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(F,H)|0,o=o+Math.imul(F,V)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(S,X)|0,o=o+Math.imul(S,Z)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,st)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,st)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,ht)|0,o=o+Math.imul(y,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,ct)|0;var At=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(c,pt)|0))<<13)|0;u=((o=o+Math.imul(c,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,H),i=(i=Math.imul(U,V))+Math.imul(q,H)|0,o=Math.imul(q,V),n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(F,$)|0,o=o+Math.imul(F,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(x,rt)|0,o=o+Math.imul(x,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,st)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,st)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(_,ht)|0,o=o+Math.imul(_,ut)|0,n=n+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,ct)|0;var Nt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,J))+Math.imul(q,$)|0,o=Math.imul(q,J),n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(F,X)|0,o=o+Math.imul(F,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(S,rt)|0,o=o+Math.imul(S,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,st)|0)+Math.imul(x,ot)|0,o=o+Math.imul(x,st)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(_,ft)|0,o=o+Math.imul(_,ct)|0;var xt=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,Z))+Math.imul(q,X)|0,o=Math.imul(q,Z),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(F,Q)|0,o=o+Math.imul(F,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,st)|0)+Math.imul(S,ot)|0,o=o+Math.imul(S,st)|0,n=n+Math.imul(N,ht)|0,i=(i=i+Math.imul(N,ut)|0)+Math.imul(x,ht)|0,o=o+Math.imul(x,ut)|0,n=n+Math.imul(k,ft)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,ct)|0;var Pt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(_,pt)|0))<<13)|0;u=((o=o+Math.imul(_,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,tt))+Math.imul(q,Q)|0,o=Math.imul(q,tt),n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(F,rt)|0,o=o+Math.imul(F,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,st)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,st)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(S,ht)|0,o=o+Math.imul(S,ut)|0,n=n+Math.imul(N,ft)|0,i=(i=i+Math.imul(N,ct)|0)+Math.imul(x,ft)|0,o=o+Math.imul(x,ct)|0;var It=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(q,rt)|0,o=Math.imul(q,nt),n=n+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,st)|0)+Math.imul(F,ot)|0,o=o+Math.imul(F,st)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(B,ht)|0,o=o+Math.imul(B,ut)|0,n=n+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(S,ft)|0,o=o+Math.imul(S,ct)|0;var St=(u+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,mt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((o=o+Math.imul(x,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(U,ot),i=(i=Math.imul(U,st))+Math.imul(q,ot)|0,o=Math.imul(q,st),n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(F,ht)|0,o=o+Math.imul(F,ut)|0,n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(B,ft)|0,o=o+Math.imul(B,ct)|0;var Rt=(u+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((o=o+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,ut))+Math.imul(q,ht)|0,o=Math.imul(q,ut),n=n+Math.imul(C,ft)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(F,ft)|0,o=o+Math.imul(F,ct)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(B,pt)|0))<<13)|0;u=((o=o+Math.imul(B,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,ft),i=(i=Math.imul(U,ct))+Math.imul(q,ft)|0,o=Math.imul(q,ct);var Bt=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((o=o+Math.imul(F,mt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863;var Ot=(u+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(q,pt)|0))<<13)|0;return u=((o=Math.imul(q,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,h[0]=gt,h[1]=vt,h[2]=yt,h[3]=bt,h[4]=wt,h[5]=_t,h[6]=Et,h[7]=kt,h[8]=Mt,h[9]=At,h[10]=Nt,h[11]=xt,h[12]=Pt,h[13]=It,h[14]=St,h[15]=Rt,h[16]=Tt,h[17]=Bt,h[18]=Ot,0!==u&&(h[19]=u,r.length++),r};function p(t,e,r){return (new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e;}Math.imul||(d=c),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?c(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,h=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=h;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),c=67108863&f;a=67108863&(c=c+a|0),i+=(s=(s=s+(f/67108864|0)|0)+(c>>>26)|0)>>>26,s&=67108863;}r.words[o]=a,n=s,s=i;}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var s=0;s<o;s++)n[s]=e[t[s]],i[s]=r[t[s]];},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var f=h,c=u,d=0;d<s;d++){var p=r[l+d],m=n[l+d],g=r[l+d+s],v=n[l+d+s],y=f*g-c*v;v=f*v+c*g,g=y,r[l+d]=p+g,n[l+d]=m+v,r[l+d+s]=p-g,n[l+d+s]=m-v,d!==a&&(y=h*f-u*c,c=h*c+u*f,f=y);}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i;}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0;}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,s=0;s<e;s++)o+=0|t[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*e;s<i;++s)n[s]=0;r(0===o),r(0==(-8192&o));},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),l=new Array(n),f=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,s,n),this.convert13b(e.words,e.length,u,n),this.transform(s,o,a,h,n,i),this.transform(u,o,l,f,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*l[d],a[d]=p;}return this.conjugate(a,h,n),this.transform(a,h,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o;}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i;}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var o=r.sqr();n<e.length;n++,o=o.sqr())0!==e[n]&&(r=r.mul(o));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(e=0;e<this.length;e++){var a=this.words[e]&o,h=(0|this.words[e])-a<<n;this.words[e]=h|s,s=a>>>26-n;}s&&(this.words[e]=s,this.length++);}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i;}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,s=Math.min((t-o)/26,this.length),a=67108863^67108863>>>o<<o,h=n;if(i-=s,i=Math.max(0,i),h){for(var u=0;u<s;u++)h.words[u]=this.words[u];h.length=s;}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&a;}return h&&0!==l&&(h.words[h.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return !(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i;}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,o,s=t.length+n;this._expand(s);var a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o;}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),o=t,s=0|o.words[o.length-1];0!=(r=26-this._countBits(s))&&(o=o.ushln(r),n.iushln(r),s=0|o.words[o.length-1]);var a,h=n.length-o.length;if("mod"!==e){(a=new i(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0;}var l=n.clone()._ishlnsubmul(o,1,h);0===l.negative&&(n=l,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var c=67108864*(0|n.words[o.length+f])+(0|n.words[o.length+f-1]);for(c=Math.min(c/s|0,67108863),n._ishlnsubmul(o,c,f);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(o,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=c);}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(o=a.div.neg()),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(t)),{div:o,mod:s}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(o=a.div.neg()),{div:o,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(t)),{div:a.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var o,s,a;},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t;}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o=new i(1),s=new i(0),a=new i(0),h=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(o.isOdd()||s.isOdd())&&(o.iadd(l),s.isub(f)),o.iushrn(1),s.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(l),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a),s.isub(h)):(n.isub(e),a.isub(o),h.isub(s));}return {a:a,b:h,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var o,s=new i(1),a=new i(0),h=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(h),s.iushrn(1);for(var f=0,c=1;0==(n.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a)):(n.isub(e),a.isub(s));}return (o=0===e.cmpn(1)?s:a).cmpn(0)<0&&o.iadd(t),o},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o;}else if(0===i||0===r.cmpn(1))break;e.isub(r);}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a;}return 0!==o&&(this.words[s]=o,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return -1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else {n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1;}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return -1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return -1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return -1===this.cmpn(t)},i.prototype.lt=function(t){return -1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new E(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp();}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f");}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001");}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff");}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed");}function E(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e;}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null;}function k(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv);}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength();}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e);},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var s=0|t.words[i];t.words[i-10]=(s&r)<<4|o>>>22,o=s;}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9;},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0);}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(w,v),n(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n;}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else {if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _;}return g[t]=e,e},E.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers");},E.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers");},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var o=this.m.subn(1),s=0;!o.isZero()&&0===o.andln(1);)s++,o.iushrn(1);r(!o.isZero());var a=new i(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(h);)l.redIAdd(h);for(var f=this.pow(l,o),c=this.pow(t,o.addn(1).iushrn(1)),d=this.pow(t,o),p=s;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(f,new i(1).iushln(p-g-1));c=c.redMul(v),f=v.redSqr(),d=d.redMul(f),p=g;}return c},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var o=r[0],s=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],l=h-1;l>=0;l--){var f=u>>l&1;o!==r[0]&&(o=this.sqr(o)),0!==f||0!==s?(s<<=1,s|=f,(4==++a||0===n&&0===l)&&(o=this.mul(o,r[s]),a=0,s=0)):a=0;}h=26;}return o},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,E),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).iushrn(this.shift),s=o;return o.cmp(this.m)>=0?s=o.isub(this.m):o.cmpn(0)<0&&(s=o.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)};}(s,o);var a=s.exports;let h=!1,u=!1;const l={debug:1,default:2,info:2,warning:3,error:4,off:5};let f=l.default,c=null;const d=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e);}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var p,m;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF";}(p||(p={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED";}(m||(m={}));const g="0123456789abcdef";class v{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1});}_log(t,e){const r=t.toLowerCase();null==l[r]&&this.throwArgumentError("invalid log level name","logLevel",t),f>l[r]||console.log.apply(console,e);}debug(...t){this._log(v.levels.DEBUG,t);}info(...t){this._log(v.levels.INFO,t);}warn(...t){this._log(v.levels.WARNING,t);}makeError(t,e,r){if(u)return this.makeError("censored error",e,{});e||(e=v.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=g[e[t]>>4],r+=g[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")");}else n.push(t+"="+JSON.stringify(e));}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()));}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case m.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";}break}case m.CALL_EXCEPTION:case m.INSUFFICIENT_FUNDS:case m.MISSING_NEW:case m.NONCE_EXPIRED:case m.REPLACEMENT_UNDERPRICED:case m.TRANSACTION_REPLACED:case m.UNPREDICTABLE_GAS_LIMIT:o=e;}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t];})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,v.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n);}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n);}checkNormalize(t){d&&this.throwError("platform missing String.prototype.normalize",v.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:d});}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,v.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}));}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,v.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,v.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e});}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",v.errors.MISSING_NEW,{name:e.name});}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",v.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",v.errors.MISSING_NEW,{name:e.name});}static globalLogger(){return c||(c=new v("logger/5.6.0")),c}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),h){if(!t)return;this.globalLogger().throwError("error censorship permanent",v.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"});}u=!!t,h=!!e;}static setLogLevel(t){const e=l[t.toLowerCase()];null!=e?f=e:v.globalLogger().warn("invalid log level - "+t);}static from(t){return new v(t)}}v.errors=m,v.levels=p;const y=new v("bytes/5.6.1");function b(t){return !!t.toHexString}function w(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return w(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function E(t){return "number"==typeof t&&t==t&&t%1==0}function k(t){if(null==t)return !1;if(t.constructor===Uint8Array)return !0;if("string"==typeof t)return !1;if(!E(t.length)||t.length<0)return !1;for(let e=0;e<t.length;e++){const r=t[e];if(!E(r)||r<0||r>=256)return !1}return !0}function M(t,e){if(e||(e={}),"number"==typeof t){y.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),w(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),b(t)&&(t=t.toHexString()),x(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":y.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return w(new Uint8Array(n))}return k(t)?w(new Uint8Array(t)):y.throwArgumentError("invalid arrayify value","value",t)}function x(t,e){return !("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function P(t,e){if(e||(e={}),"number"==typeof t){y.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e="0123456789abcdef"[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return (t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),b(t))return t.toHexString();if(x(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":y.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(k(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+="0123456789abcdef"[(240&n)>>4]+"0123456789abcdef"[15&n];}return e}return y.throwArgumentError("invalid hexlify value","value",t)}function B(t,e){for("string"!=typeof t?t=P(t):x(t)||y.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&y.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var C=a.BN;const F=new v("bignumber/5.6.1"),L={};let U=!1;class q{constructor(t,e){t!==L&&F.throwError("cannot call constructor directly; use BigNumber.from",v.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this);}fromTwos(t){return z(G(this).fromTwos(t))}toTwos(t){return z(G(this).toTwos(t))}abs(){return "-"===this._hex[0]?q.from(this._hex.substring(1)):this}add(t){return z(G(this).add(G(t)))}sub(t){return z(G(this).sub(G(t)))}div(t){return q.from(t).isZero()&&j("division-by-zero","div"),z(G(this).div(G(t)))}mul(t){return z(G(this).mul(G(t)))}mod(t){const e=G(t);return e.isNeg()&&j("division-by-zero","mod"),z(G(this).umod(e))}pow(t){const e=G(t);return e.isNeg()&&j("negative-power","pow"),z(G(this).pow(e))}and(t){const e=G(t);return (this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","and"),z(G(this).and(e))}or(t){const e=G(t);return (this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","or"),z(G(this).or(e))}xor(t){const e=G(t);return (this.isNegative()||e.isNeg())&&j("unbound-bitwise-result","xor"),z(G(this).xor(e))}mask(t){return (this.isNegative()||t<0)&&j("negative-width","mask"),z(G(this).maskn(t))}shl(t){return (this.isNegative()||t<0)&&j("negative-width","shl"),z(G(this).shln(t))}shr(t){return (this.isNegative()||t<0)&&j("negative-width","shr"),z(G(this).shrn(t))}eq(t){return G(this).eq(G(t))}lt(t){return G(this).lt(G(t))}lte(t){return G(this).lte(G(t))}gt(t){return G(this).gt(G(t))}gte(t){return G(this).gte(G(t))}isNegative(){return "-"===this._hex[0]}isZero(){return G(this).isZero()}toNumber(){try{return G(this).toNumber()}catch(t){j("overflow","toNumber",this.toString());}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return F.throwError("this platform does not support BigInt",v.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?U||(U=!0,F.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?F.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",v.errors.UNEXPECTED_ARGUMENT,{}):F.throwError("BigNumber.toString does not accept parameters",v.errors.UNEXPECTED_ARGUMENT,{})),G(this).toString(10)}toHexString(){return this._hex}toJSON(t){return {type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof q)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new q(L,D(t)):t.match(/^-?[0-9]+$/)?new q(L,D(new C(t))):F.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&j("underflow","BigNumber.from",t),(t>=9007199254740991||t<=-9007199254740991)&&j("overflow","BigNumber.from",t),q.from(String(t));const e=t;if("bigint"==typeof e)return q.from(e.toString());if(k(e))return q.from(P(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return q.from(t)}else {let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(x(t)||"-"===t[0]&&x(t.substring(1))))return q.from(t)}return F.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return !(!t||!t._isBigNumber)}}function D(t){if("string"!=typeof t)return D(t.toString(16));if("-"===t[0])return "-"===(t=t.substring(1))[0]&&F.throwArgumentError("invalid hex","value",t),"0x00"===(t=D(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return "0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function z(t){return q.from(D(t))}function G(t){const e=q.from(t).toHexString();return "-"===e[0]?new C("-"+e.substring(3),16):new C(e.substring(2),16)}function j(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),F.throwError(t,v.errors.NUMERIC_FAULT,n)}new v("properties/5.6.0");function K(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1});}var tt,et={exports:{}};
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */tt=et,function(){var t="input is invalid type",e="object"==typeof window,r=e?window:{};r.JS_SHA3_NO_WINDOW&&(e=!1);var n=!e&&"object"==typeof self;!r.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?r=o:n&&(r=self);var i=!r.JS_SHA3_NO_COMMON_JS&&tt.exports,s=!r.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],l=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],c=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!r.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return "[object Array]"===Object.prototype.toString.call(t)}),!s||!r.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return "object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new S(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new S(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,o){return E["cshake"+t].update(e,n,i,o)[r]()}},y=function(t,e,r){return function(e,n,i,o){return E["kmac"+t].update(e,n,i,o)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var o=d[i];t[o]=e(r,n,o);}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new S(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},_=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:c,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new S(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:h,bits:c,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,o){return i||o?new S(t,e,n).bytepad([i,o],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:h,bits:c,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,o){return new R(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],E={},k=[],M=0;M<_.length;++M)for(var A=_[M],N=A.bits,x=0;x<N.length;++x){var P=A.name+"_"+N[x];if(k.push(P),E[P]=A.createMethod(N[x],A.padding),"sha3"!==A.name){var I=A.name+N[x];k.push(I),E[I]=E[P];}}function S(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0;}function R(t,e,r){S.call(this,t,e,r);}S.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0;}for(var i,o,a=this.blocks,h=this.byteCount,l=e.length,f=this.blockCount,c=0,d=this.s;c<l;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;c<l&&i<h;++c)a[i>>2]|=e[c]<<u[3&i++];else for(i=this.start;c<l&&i<h;++c)(o=e.charCodeAt(c))<128?a[i>>2]|=o<<u[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++c)),a[i>>2]|=(240|o>>18)<<u[3&i++],a[i>>2]|=(128|o>>12&63)<<u[3&i++],a[i>>2]|=(128|o>>6&63)<<u[3&i++],a[i>>2]|=(128|63&o)<<u[3&i++]);if(this.lastByteIndex=i,i>=h){for(this.start=i-h,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];T(d),this.reset=!0;}else this.start=i;}return this},S.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},S.prototype.encodeString=function(e){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(s&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||s&&ArrayBuffer.isView(e)))throw new Error(t);r=!0;}var i=0,o=e.length;if(r)i=o;else for(var a=0;a<e.length;++a){var h=e.charCodeAt(a);h<128?i+=1:h<2048?i+=2:h<55296||h>=57344?i+=3:(h=65536+((1023&h)<<10|1023&e.charCodeAt(++a)),i+=4);}return i+=this.encode(8*i),this.update(e),i},S.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];T(n);}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,h="";s<n;){for(o=0;o<e&&s<n;++o,++s)t=r[o],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];s%e==0&&(T(r),o=0);}return i&&(t=r[o],h+=a[t>>4&15]+a[15&t],i>1&&(h+=a[t>>12&15]+a[t>>8&15]),i>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);s<n;){for(o=0;o<e&&s<n;++o,++s)h[s]=r[o];s%e==0&&T(r);}return i&&(h[o]=r[o],t=t.slice(0,a)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,h=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=a<<2,e=n[s],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&T(n);}return o&&(t=a<<2,e=n[s],h[t]=255&e,o>1&&(h[t+1]=e>>8&255),o>2&&(h[t+2]=e>>16&255)),h},R.prototype=new S,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var T=function(t){var e,r,n,i,o,s,a,h,u,f,c,d,p,m,g,v,y,b,w,_,E,k,M,A,N,x,P,I,S,R,T,B,O,C,F,L,U,q,D,z,G,j,H,V,K,$,J,W,X,Z,Y,Q,tt,et,rt,nt,it,ot,st,at,ht,ut,lt;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],s=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(s<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|s>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(h<<1|u>>>31),r=o^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=s^(f<<1|c>>>31),r=a^(c<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|o>>>31),r=c^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],$=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,S=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,j=t[40]<<18|t[41]>>>14,H=t[41]<<18|t[40]>>>14,C=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,R=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,lt=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,L=t[14]<<6|t[15]>>>26,U=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,B=t[45]<<29|t[44]>>>3,O=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,N=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,q=t[26]<<25|t[27]>>>7,D=t[27]<<25|t[26]>>>7,_=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,V=t[8]<<27|t[9]>>>5,K=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,P=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,st=t[28]<<7|t[29]>>>25,z=t[38]<<8|t[39]>>>24,G=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,M=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=A^~x&I,t[11]=N^~P&S,t[20]=C^~L&q,t[21]=F^~U&D,t[30]=V^~$&W,t[31]=K^~J&X,t[40]=et^~nt&ot,t[41]=rt^~it&st,t[2]=v^~b&_,t[3]=y^~w&E,t[12]=x^~I&R,t[13]=P^~S&T,t[22]=L^~q&z,t[23]=U^~D&G,t[32]=$^~W&Z,t[33]=J^~X&Y,t[42]=nt^~ot&at,t[43]=it^~st&ht,t[4]=b^~_&k,t[5]=w^~E&M,t[14]=I^~R&B,t[15]=S^~T&O,t[24]=q^~z&j,t[25]=D^~G&H,t[34]=W^~Z&Q,t[35]=X^~Y&tt,t[44]=ot^~at&ut,t[45]=st^~ht&lt,t[6]=_^~k&m,t[7]=E^~M&g,t[16]=R^~B&A,t[17]=T^~O&N,t[26]=z^~j&C,t[27]=G^~H&F,t[36]=Z^~Q&V,t[37]=Y^~tt&K,t[46]=at^~ut&et,t[47]=ht^~lt&rt,t[8]=k^~m&v,t[9]=M^~g&y,t[18]=B^~A&x,t[19]=O^~N&P,t[28]=j^~C&L,t[29]=H^~F&U,t[38]=Q^~V&$,t[39]=tt^~K&J,t[48]=ut^~et&nt,t[49]=lt^~rt&it,t[0]^=l[n],t[1]^=l[n+1];};if(i)tt.exports=E;else for(M=0;M<k.length;++M)r[k[M]]=E[k[M]];}();et.exports;new v("rlp/5.6.0");new v("address/5.6.0");q.from(0);const yt=new v("strings/5.6.0");var bt,wt;function _t(t,e,r,n,i){if(t===wt.BAD_PREFIX||t===wt.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===wt.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD";}(bt||(bt={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation";}(wt||(wt={}));Object.freeze({error:function(t,e,r,n,i){return yt.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:_t,replace:function(t,e,r,n,i){return t===wt.OVERLONG?(n.push(i),0):(n.push(65533),_t(t,e,r))}});function Pt(t,e){e||(e=function(t){return [parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1]);})),n}function It(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}It("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d");"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16)));Pt("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3");Pt("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7");Pt("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}));It("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");new v("hash/5.6.0");const zt=new Uint8Array(32);zt.fill(0);new v("hash/5.6.0");const Kt=new Uint8Array(32);Kt.fill(0);q.from(-1);const Jt=q.from(0),Wt=q.from(1);q.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");B(Wt.toHexString(),32);B(Jt.toHexString(),32);new v("abstract-provider/5.6.0");new v("abstract-signer/5.6.1");[v.errors.INSUFFICIENT_FUNDS,v.errors.NONCE_EXPIRED,v.errors.REPLACEMENT_UNDERPRICED];var pe={},me={},ge=ve;function ve(t,e){if(!t)throw new Error(e||"Assertion failed")}ve.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var ye={exports:{}},be={exports:{}};"function"==typeof Object.create?be.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}));}:be.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}};try{var we=require("util");if("function"!=typeof we.inherits)throw "";ye.exports=we.inherits;}catch(t){ye.exports=be.exports;}var _e=ge,Ee=ye.exports;function ke(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function Me(t){return (t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Ae(t){return 1===t.length?"0"+t:t}function Ne(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}me.inherits=Ee,me.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return [];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16));}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):ke(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128);}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},me.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Ae(t[r].toString(16));return e},me.htonl=Me,me.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Me(i)),r+=Ne(i.toString(16));}return r},me.zero2=Ae,me.zero8=Ne,me.join32=function(t,e,r,n){var i=r-e;_e(i%4==0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=h>>>0;}return o},me.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o);}return r},me.rotr32=function(t,e){return t>>>e|t<<32-e},me.rotl32=function(t,e){return t<<e|t>>>32-e},me.sum32=function(t,e){return t+e>>>0},me.sum32_3=function(t,e,r){return t+e+r>>>0},me.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},me.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},me.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o;},me.sum64_hi=function(t,e,r,n){return (e+n>>>0<e?1:0)+t+r>>>0},me.sum64_lo=function(t,e,r,n){return e+n>>>0},me.sum64_4_hi=function(t,e,r,n,i,o,s,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+o>>>0)<o?1:0,t+r+i+s+(h+=(u=u+a>>>0)<a?1:0)>>>0},me.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},me.sum64_5_hi=function(t,e,r,n,i,o,s,a,h,u){var l=0,f=e;return l+=(f=f+n>>>0)<e?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+a>>>0)<a?1:0,t+r+i+s+h+(l+=(f=f+u>>>0)<u?1:0)>>>0},me.sum64_5_lo=function(t,e,r,n,i,o,s,a,h,u){return e+n+o+a+u>>>0},me.rotr64_hi=function(t,e,r){return (e<<32-r|t>>>r)>>>0},me.rotr64_lo=function(t,e,r){return (t<<32-r|e>>>r)>>>0},me.shr64_hi=function(t,e,r){return t>>>r},me.shr64_lo=function(t,e,r){return (t<<32-r|e>>>r)>>>0};var xe={},Pe=me,Ie=ge;function Se(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32;}xe.BlockHash=Se,Se.prototype.update=function(t,e){if(t=Pe.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Pe.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32);}return this},Se.prototype.digest=function(t){return this.update(this._pad()),Ie(null===this.pending),this._digest(t)},Se.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t;}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Re={},Te={},Be=me.rotr32;function Oe(t,e,r){return t&e^~t&r}function Ce(t,e,r){return t&e^t&r^e&r}function Fe(t,e,r){return t^e^r}Te.ft_1=function(t,e,r,n){return 0===t?Oe(e,r,n):1===t||3===t?Fe(e,r,n):2===t?Ce(e,r,n):void 0},Te.ch32=Oe,Te.maj32=Ce,Te.p32=Fe,Te.s0_256=function(t){return Be(t,2)^Be(t,13)^Be(t,22)},Te.s1_256=function(t){return Be(t,6)^Be(t,11)^Be(t,25)},Te.g0_256=function(t){return Be(t,7)^Be(t,18)^t>>>3},Te.g1_256=function(t){return Be(t,17)^Be(t,19)^t>>>10};var Le=me,Ue=xe,qe=Te,De=Le.rotl32,ze=Le.sum32,Ge=Le.sum32_5,je=qe.ft_1,He=Ue.BlockHash,Ve=[1518500249,1859775393,2400959708,3395469782];function Ke(){if(!(this instanceof Ke))return new Ke;He.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80);}Le.inherits(Ke,He);var $e=Ke;Ke.blockSize=512,Ke.outSize=160,Ke.hmacStrength=80,Ke.padLength=64,Ke.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=De(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=Ge(De(i,5),je(u,o,s,a),h,r[n],Ve[u]);h=a,a=s,s=De(o,30),o=i,i=l;}this.h[0]=ze(this.h[0],i),this.h[1]=ze(this.h[1],o),this.h[2]=ze(this.h[2],s),this.h[3]=ze(this.h[3],a),this.h[4]=ze(this.h[4],h);},Ke.prototype._digest=function(t){return "hex"===t?Le.toHex32(this.h,"big"):Le.split32(this.h,"big")};var Je=me,We=xe,Xe=Te,Ze=ge,Ye=Je.sum32,Qe=Je.sum32_4,tr=Je.sum32_5,er=Xe.ch32,rr=Xe.maj32,nr=Xe.s0_256,ir=Xe.s1_256,or=Xe.g0_256,sr=Xe.g1_256,ar=We.BlockHash,hr=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ur(){if(!(this instanceof ur))return new ur;ar.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=hr,this.W=new Array(64);}Je.inherits(ur,ar);var lr=ur;ur.blockSize=512,ur.outSize=256,ur.hmacStrength=192,ur.padLength=64,ur.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Qe(sr(r[n-2]),r[n-7],or(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],l=this.h[6],f=this.h[7];for(Ze(this.k.length===r.length),n=0;n<r.length;n++){var c=tr(f,ir(h),er(h,u,l),this.k[n],r[n]),d=Ye(nr(i),rr(i,o,s));f=l,l=u,u=h,h=Ye(a,c),a=s,s=o,o=i,i=Ye(c,d);}this.h[0]=Ye(this.h[0],i),this.h[1]=Ye(this.h[1],o),this.h[2]=Ye(this.h[2],s),this.h[3]=Ye(this.h[3],a),this.h[4]=Ye(this.h[4],h),this.h[5]=Ye(this.h[5],u),this.h[6]=Ye(this.h[6],l),this.h[7]=Ye(this.h[7],f);},ur.prototype._digest=function(t){return "hex"===t?Je.toHex32(this.h,"big"):Je.split32(this.h,"big")};var fr=me,cr=lr;function dr(){if(!(this instanceof dr))return new dr;cr.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428];}fr.inherits(dr,cr);var pr=dr;dr.blockSize=512,dr.outSize=224,dr.hmacStrength=192,dr.padLength=64,dr.prototype._digest=function(t){return "hex"===t?fr.toHex32(this.h.slice(0,7),"big"):fr.split32(this.h.slice(0,7),"big")};var mr=me,gr=xe,vr=ge,yr=mr.rotr64_hi,br=mr.rotr64_lo,wr=mr.shr64_hi,_r=mr.shr64_lo,Er=mr.sum64,kr=mr.sum64_hi,Mr=mr.sum64_lo,Ar=mr.sum64_4_hi,Nr=mr.sum64_4_lo,xr=mr.sum64_5_hi,Pr=mr.sum64_5_lo,Ir=gr.BlockHash,Sr=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Rr(){if(!(this instanceof Rr))return new Rr;Ir.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Sr,this.W=new Array(160);}mr.inherits(Rr,Ir);var Tr=Rr;function Br(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function Or(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function Cr(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function Fr(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function Lr(t,e){var r=yr(t,e,28)^yr(e,t,2)^yr(e,t,7);return r<0&&(r+=4294967296),r}function Ur(t,e){var r=br(t,e,28)^br(e,t,2)^br(e,t,7);return r<0&&(r+=4294967296),r}function qr(t,e){var r=yr(t,e,14)^yr(t,e,18)^yr(e,t,9);return r<0&&(r+=4294967296),r}function Dr(t,e){var r=br(t,e,14)^br(t,e,18)^br(e,t,9);return r<0&&(r+=4294967296),r}function zr(t,e){var r=yr(t,e,1)^yr(t,e,8)^wr(t,e,7);return r<0&&(r+=4294967296),r}function Gr(t,e){var r=br(t,e,1)^br(t,e,8)^_r(t,e,7);return r<0&&(r+=4294967296),r}function jr(t,e){var r=yr(t,e,19)^yr(e,t,29)^wr(t,e,6);return r<0&&(r+=4294967296),r}function Hr(t,e){var r=br(t,e,19)^br(e,t,29)^_r(t,e,6);return r<0&&(r+=4294967296),r}Rr.blockSize=1024,Rr.outSize=512,Rr.hmacStrength=192,Rr.padLength=128,Rr.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=jr(r[n-4],r[n-3]),o=Hr(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],h=zr(r[n-30],r[n-29]),u=Gr(r[n-30],r[n-29]),l=r[n-32],f=r[n-31];r[n]=Ar(i,o,s,a,h,u,l,f),r[n+1]=Nr(i,o,s,a,h,u,l,f);}},Rr.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],l=this.h[7],f=this.h[8],c=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];vr(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,_=y,E=qr(f,c),k=Dr(f,c),M=Br(f,c,d,p,m),A=Or(f,c,d,p,m,g),N=this.k[b],x=this.k[b+1],P=r[b],I=r[b+1],S=xr(w,_,E,k,M,A,N,x,P,I),R=Pr(w,_,E,k,M,A,N,x,P,I);w=Lr(n,i),_=Ur(n,i),E=Cr(n,i,o,s,a),k=Fr(n,i,o,s,a,h);var T=kr(w,_,E,k),B=Mr(w,_,E,k);v=m,y=g,m=d,g=p,d=f,p=c,f=kr(u,l,S,R),c=Mr(l,l,S,R),u=a,l=h,a=o,h=s,o=n,s=i,n=kr(S,R,T,B),i=Mr(S,R,T,B);}Er(this.h,0,n,i),Er(this.h,2,o,s),Er(this.h,4,a,h),Er(this.h,6,u,l),Er(this.h,8,f,c),Er(this.h,10,d,p),Er(this.h,12,m,g),Er(this.h,14,v,y);},Rr.prototype._digest=function(t){return "hex"===t?mr.toHex32(this.h,"big"):mr.split32(this.h,"big")};var Vr=me,Kr=Tr;function $r(){if(!(this instanceof $r))return new $r;Kr.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428];}Vr.inherits($r,Kr);var Jr=$r;$r.blockSize=1024,$r.outSize=384,$r.hmacStrength=192,$r.padLength=128,$r.prototype._digest=function(t){return "hex"===t?Vr.toHex32(this.h.slice(0,12),"big"):Vr.split32(this.h.slice(0,12),"big")},Re.sha1=$e,Re.sha224=pr,Re.sha256=lr,Re.sha384=Jr,Re.sha512=Tr;var Wr={},Xr=me,Zr=xe,Yr=Xr.rotl32,Qr=Xr.sum32,tn=Xr.sum32_3,en=Xr.sum32_4,rn=Zr.BlockHash;function nn(){if(!(this instanceof nn))return new nn;rn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little";}function on(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function sn(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function an(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Xr.inherits(nn,rn),Wr.ripemd160=nn,nn.blockSize=512,nn.outSize=160,nn.hmacStrength=192,nn.padLength=64,nn.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,h=n,u=i,l=o,f=s,c=0;c<80;c++){var d=Qr(Yr(en(r,on(c,n,i,o),t[hn[c]+e],sn(c)),ln[c]),s);r=s,s=o,o=Yr(i,10),i=n,n=d,d=Qr(Yr(en(a,on(79-c,h,u,l),t[un[c]+e],an(c)),fn[c]),f),a=f,f=l,l=Yr(u,10),u=h,h=d;}d=tn(this.h[1],i,l),this.h[1]=tn(this.h[2],o,f),this.h[2]=tn(this.h[3],s,a),this.h[3]=tn(this.h[4],r,h),this.h[4]=tn(this.h[0],n,u),this.h[0]=d;},nn.prototype._digest=function(t){return "hex"===t?Xr.toHex32(this.h,"little"):Xr.split32(this.h,"little")};var hn=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],un=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ln=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],fn=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],cn=me,dn=ge;function pn(t,e,r){if(!(this instanceof pn))return new pn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(cn.toArray(e,r));}var mn=pn;pn.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),dn(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t);},pn.prototype.update=function(t,e){return this.inner.update(t,e),this},pn.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=pe;e.utils=me,e.common=xe,e.sha=Re,e.ripemd=Wr,e.hmac=mn,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160;}();var gn=pe;function vn(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var yn=bn;function bn(t,e){if(!t)throw new Error(e||"Assertion failed")}bn.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var wn=vn((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return [];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s);}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return "hex"===e?i(t):t};})),_n=vn((function(t,e){var r=e;r.assert=yn,r.toArray=wn.toArray,r.zero2=wn.zero2,r.toHex=wn.toHex,r.encode=wn.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),s=0;s<n.length;s++){var a,h=o.andln(i-1);o.isOdd()?(a=h>(i>>1)-1?(i>>1)-h:h,o.isubn(a)):a=0,n[s]=a,o.iushrn(1);}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var s,a,h=t.andln(3)+i&3,u=e.andln(3)+o&3;3===h&&(h=-1),3===u&&(u=-1),s=0==(1&h)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h,r[0].push(s),a=0==(1&u)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==h?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),t.iushrn(1),e.iushrn(1);}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)};},r.parseBytes=function(t){return "string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new a(t,"hex","le")};})),En=_n.getNAF,kn=_n.getJSF,Mn=_n.assert;function An(t,e){this.type=t,this.p=new a(e.p,16),this.red=e.prime?a.red(e.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=e.n&&new a(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red));}var Nn=An;function xn(t,e){this.curve=t,this.type=e,this.precomputed=null;}An.prototype.point=function(){throw new Error("Not implemented")},An.prototype.validate=function(){throw new Error("Not implemented")},An.prototype._fixedNafMul=function(t,e){Mn(t.precomputed);var r=t._getDoubles(),n=En(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var h=o+r.step-1;h>=o;h--)s=(s<<1)+n[h];a.push(s);}for(var u=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(o=0;o<a.length;o++)(s=a[o])===f?l=l.mixedAdd(r.points[o]):s===-f&&(l=l.mixedAdd(r.points[o].neg()));u=u.add(l);}return u.toP()},An.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=En(e,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var h=0;a>=0&&0===o[a];a--)h++;if(a>=0&&h++,s=s.dblp(h),a<0)break;var u=o[a];Mn(0!==u),s="affine"===t.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg());}return "affine"===t.type?s.toP():s},An.prototype._wnafMulAdd=function(t,e,r,n,i){var o,s,a,h=this._wnafT1,u=this._wnafT2,l=this._wnafT3,f=0;for(o=0;o<n;o++){var c=(a=e[o])._getNAFPoints(t);h[o]=c.wnd,u[o]=c.points;}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===h[d]&&1===h[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=kn(r[d],r[p]);for(f=Math.max(v[0].length,f),l[d]=new Array(f),l[p]=new Array(f),s=0;s<f;s++){var y=0|v[0][s],b=0|v[1][s];l[d][s]=g[3*(y+1)+(b+1)],l[p][s]=0,u[d]=m;}}else l[d]=En(r[d],h[d],this._bitLength),l[p]=En(r[p],h[p],this._bitLength),f=Math.max(l[d].length,f),f=Math.max(l[p].length,f);}var w=this.jpoint(null,null,null),_=this._wnafT4;for(o=f;o>=0;o--){for(var E=0;o>=0;){var k=!0;for(s=0;s<n;s++)_[s]=0|l[s][o],0!==_[s]&&(k=!1);if(!k)break;E++,o--;}if(o>=0&&E++,w=w.dblp(E),o<0)break;for(s=0;s<n;s++){var M=_[s];0!==M&&(M>0?a=u[s][M-1>>1]:M<0&&(a=u[s][-M-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a));}}for(o=0;o<n;o++)u[o]=null;return i?w:w.toP()},An.BasePoint=xn,xn.prototype.eq=function(){throw new Error("Not implemented")},xn.prototype.validate=function(){return this.curve.validate(this)},An.prototype.decodePoint=function(t,e){t=_n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Mn(t[t.length-1]%2==0):7===t[0]&&Mn(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},xn.prototype.encodeCompressed=function(t){return this.encode(t,!0)},xn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},xn.prototype.encode=function(t,e){return _n.encode(this._encode(e),t)},xn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},xn.prototype._hasDoubles=function(t){if(!this.precomputed)return !1;var e=this.precomputed.doubles;return !!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},xn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n);}return {step:t,points:r}},xn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return {wnd:t,points:e}},xn.prototype._getBeta=function(){return null},xn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Pn=vn((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}));}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t;}};})),In=_n.assert;function Sn(t){Nn.call(this,"short",t),this.a=new a(t.a,16).toRed(this.red),this.b=new a(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4);}Pn(Sn,Nn);var Rn=Sn;function Tn(t,e,r,n){Nn.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(e,16),this.y=new a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1);}function Bn(t,e,r,n){Nn.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(e,16),this.y=new a(r,16),this.z=new a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one;}Sn.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new a(t.beta,16).toRed(this.red);else {var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red);}if(t.lambda)r=new a(t.lambda,16);else {var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],In(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))));}return {beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return {a:new a(t.a,16),b:new a(t.b,16)}})):this._getEndoBasis(r)}}},Sn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:a.mont(t),r=new a(2).toRed(e).redInvm(),n=r.redNeg(),i=new a(3).toRed(e).redNeg().redSqrt().redMul(r);return [n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Sn.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,s,h,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,d=this.n.clone(),p=new a(1),m=new a(0),g=new a(0),v=new a(1),y=0;0!==c.cmpn(0);){var b=d.div(c);u=d.sub(b.mul(c)),l=g.sub(b.mul(p));var w=v.sub(b.mul(m));if(!n&&u.cmp(f)<0)e=h.neg(),r=p,n=u.neg(),i=l;else if(n&&2==++y)break;h=u,d=c,c=u,g=p,p=l,v=m,m=w;}o=u.neg(),s=l;var _=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(_)>=0&&(o=e,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Sn.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),h=i.mul(r.b),u=o.mul(n.b);return {k1:t.sub(s).sub(a),k2:h.add(u).neg()}},Sn.prototype.pointFromX=function(t,e){(t=new a(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return (e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Sn.prototype.validate=function(t){if(t.inf)return !0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Sn.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var s=this._endoSplit(e[o]),a=t[o],h=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),h=h.neg(!0)),n[2*o]=a,n[2*o+1]=h,i[2*o]=s.k1,i[2*o+1]=s.k2;}for(var u=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return u},Pn(Tn,Nn.BasePoint),Sn.prototype.point=function(t,e,r){return new Tn(this,t,e,r)},Sn.prototype.pointFromJSON=function(t,e){return Tn.fromJSON(this,t,e)},Tn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}};}return e}},Tn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Tn.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Tn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Tn.prototype.isInfinity=function(){return this.inf},Tn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Tn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Tn.prototype.getX=function(){return this.x.fromRed()},Tn.prototype.getY=function(){return this.y.fromRed()},Tn.prototype.mul=function(t){return t=new a(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Tn.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Tn.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Tn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Tn.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}};}return e},Tn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Pn(Bn,Nn.BasePoint),Sn.prototype.jpoint=function(t,e,r){return new Bn(this,t,e,r)},Bn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Bn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Bn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=o.redSub(s);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),f=n.redMul(u),c=h.redSqr().redIAdd(l).redISub(f).redISub(f),d=h.redMul(f.redISub(c)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(c,d,p)},Bn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),u=h.redMul(s),l=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(l).redISub(l),c=a.redMul(l.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(f,c,d)},Bn.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,h=a.redSqr().redSqr(),u=s.redAdd(s);for(e=0;e<t;e++){var l=o.redSqr(),f=u.redSqr(),c=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(h)),p=o.redMul(f),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(c);var y=u.redMul(a);e+1<t&&(h=h.redMul(c)),o=m,a=y,u=v;}return this.curve.jpoint(o,u.redMul(i),a)},Bn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Bn.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y);}else {var l=this.x.redSqr(),f=this.y.redSqr(),c=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(c);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=c.redIAdd(c);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r);}return this.curve.jpoint(t,e,r)},Bn.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(s).redISub(s);t=h;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(s.redISub(h)).redISub(u),r=this.y.redAdd(this.y);}else {var l=this.z.redSqr(),f=this.y.redSqr(),c=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=c.redIAdd(c),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var g=f.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g);}return this.curve.jpoint(t,e,r)},Bn.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(s),l=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),c=s.redSqr();c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=a.redMul(f).redISub(c),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},Bn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(h),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(a).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var c=this.y.redMul(u.redMul(h.redISub(u)).redISub(s.redMul(a)));c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,c,d)},Bn.prototype.mul=function(t,e){return t=new a(t,e),this.curve._wnafMul(this,t)},Bn.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return !0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return !1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Bn.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return !0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return !1;if(r.redIAdd(i),0===this.x.cmp(r))return !0}},Bn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Bn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var On=vn((function(t,e){var r=e;r.base=Nn,r.short=Rn,r.mont=null,r.edwards=null;})),Cn=vn((function(t,e){var r,n=e,i=_n.assert;function o(t){"short"===t.type?this.curve=new On.short(t):"edwards"===t.type?this.curve=new On.edwards(t):this.curve=new On.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O");}function s(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}});}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:gn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:gn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:gn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:gn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:gn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:gn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash();}catch(t){r=void 0;}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:gn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]});}));function Fn(t){if(!(this instanceof Fn))return new Fn(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=wn.toArray(t.entropy,t.entropyEnc||"hex"),r=wn.toArray(t.nonce,t.nonceEnc||"hex"),n=wn.toArray(t.pers,t.persEnc||"hex");yn(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n);}var Ln=Fn;Fn.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656;},Fn.prototype._hmac=function(){return new gn.hmac(this.hash,this.K)},Fn.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest());},Fn.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=wn.toArray(t,e),r=wn.toArray(r,n),yn(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1;},Fn.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=wn.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,wn.encode(o,e)};var Un=_n.assert;function qn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc);}var Dn=qn;qn.fromPublic=function(t,e,r){return e instanceof qn?e:new qn(t,{pub:e,pubEnc:r})},qn.fromPrivate=function(t,e,r){return e instanceof qn?e:new qn(t,{priv:e,privEnc:r})},qn.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},qn.prototype.getPublic=function(t,e){return "string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},qn.prototype.getPrivate=function(t){return "hex"===t?this.priv.toString(16,2):this.priv},qn.prototype._importPrivate=function(t,e){this.priv=new a(t,e||16),this.priv=this.priv.umod(this.ec.curve.n);},qn.prototype._importPublic=function(t,e){if(t.x||t.y)return "mont"===this.ec.curve.type?Un(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Un(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e);},qn.prototype.derive=function(t){return t.validate()||Un(t.validate(),"public point not validated"),t.mul(this.priv).getX()},qn.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},qn.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},qn.prototype.inspect=function(){return "<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var zn=_n.assert;function Gn(t,e){if(t instanceof Gn)return t;this._importDER(t,e)||(zn(t.r&&t.s,"Signature without r or s"),this.r=new a(t.r,16),this.s=new a(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam);}var jn=Gn;function Hn(){this.place=0;}function Vn(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return !1;for(var i=0,o=0,s=e.place;o<n;o++,s++)i<<=8,i|=t[s],i>>>=0;return !(i<=127)&&(e.place=s,i)}function Kn(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function $n(t,e){if(e<128)t.push(e);else {var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e);}}Gn.prototype._importDER=function(t,e){t=_n.toArray(t,e);var r=new Hn;if(48!==t[r.place++])return !1;var n=Vn(t,r);if(!1===n)return !1;if(n+r.place!==t.length)return !1;if(2!==t[r.place++])return !1;var i=Vn(t,r);if(!1===i)return !1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return !1;var s=Vn(t,r);if(!1===s)return !1;if(t.length!==s+r.place)return !1;var h=t.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return !1;o=o.slice(1);}if(0===h[0]){if(!(128&h[1]))return !1;h=h.slice(1);}return this.r=new a(o),this.s=new a(h),this.recoveryParam=null,!0},Gn.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Kn(e),r=Kn(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];$n(n,e.length),(n=n.concat(e)).push(2),$n(n,r.length);var i=n.concat(r),o=[48];return $n(o,i.length),o=o.concat(i),_n.encode(o,t)};var Jn=function(){throw new Error("unsupported")},Wn=_n.assert;function Xn(t){if(!(this instanceof Xn))return new Xn(t);"string"==typeof t&&(Wn(Object.prototype.hasOwnProperty.call(Cn,t),"Unknown curve "+t),t=Cn[t]),t instanceof Cn.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash;}var Zn=Xn;Xn.prototype.keyPair=function(t){return new Dn(this,t)},Xn.prototype.keyFromPrivate=function(t,e){return Dn.fromPrivate(this,t,e)},Xn.prototype.keyFromPublic=function(t,e){return Dn.fromPublic(this,t,e)},Xn.prototype.genKeyPair=function(t){t||(t={});for(var e=new Ln({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Jn(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new a(2));;){var i=new a(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Xn.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Xn.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new a(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),s=t.toArray("be",i),h=new Ln({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new a(1)),l=0;;l++){var f=n.k?n.k(l):new a(h.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(u)>=0)){var c=this.g.mul(f);if(!c.isInfinity()){var d=c.getX(),p=d.umod(this.n);if(0!==p.cmpn(0)){var m=f.invm(this.n).mul(p.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var g=(c.getY().isOdd()?1:0)|(0!==d.cmp(p)?2:0);return n.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),g^=1),new jn({r:p,s:m,recoveryParam:g})}}}}}},Xn.prototype.verify=function(t,e,r,n){t=this._truncateToN(new a(t,16)),r=this.keyFromPublic(r,n);var i=(e=new jn(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return !1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return !1;var s,h=o.invm(this.n),u=h.mul(t).umod(this.n),l=h.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Xn.prototype.recoverPubKey=function(t,e,r,n){Wn((3&r)===r,"The recovery param is more than two bits"),e=new jn(e,n);var i=this.n,o=new a(t),s=e.r,h=e.s,u=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),u):this.curve.pointFromX(s,u);var f=e.r.invm(i),c=i.sub(o).mul(f).umod(i),d=h.mul(f).umod(i);return this.g.mulAdd(c,s,d)},Xn.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new jn(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i);}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};vn((function(t,e){var r=e;r.version="6.5.4",r.utils=_n,r.rand=function(){throw new Error("unsupported")},r.curve=On,r.curves=Cn,r.ec=Zn,r.eddsa=null;})).ec;new v("signing-key/5.6.1");new v("transactions/5.6.0");var oi;!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559";}(oi||(oi={}));class vi{constructor(t){K(this,"alphabet",t),K(this,"base",t.length),K(this,"_alphabetMap",{}),K(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e;}encode(t){let e=M(t);if(0===e.length)return "";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0;}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8;}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return M(new Uint8Array(e.reverse()))}}new vi("abcdefghijklmnopqrstuvwxyz234567");new vi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");new v("sha2/5.6.0");new v("networks/5.6.2");function _i(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura));}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan));}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy));}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const o=new e.PocketProvider(t,r.pocket);o.network&&-1===i.indexOf(o.network.name)&&n.push(o);}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t));}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{n.push(new e.AnkrProvider(t,r.ankr));}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return _i(t)},e}function Ei(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Ei(t,e)},r}const ki={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:_i("homestead")},Mi={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:_i("ropsten")},Ai={chainId:63,name:"classicMordor",_defaultProvider:Ei("https://www.ethercluster.com/mordor","classicMordor")};({unspecified:{chainId:0,name:"unspecified"},homestead:ki,mainnet:ki,morden:{chainId:2,name:"morden"},ropsten:Mi,testnet:Mi,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:_i("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:_i("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:_i("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Ei("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ai,classicTestnet:Ai,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ei("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}});new v("web/5.6.0");for(var Li="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Ui={},qi=0;qi<Li.length;qi++){var Di=Li.charAt(qi);if(void 0!==Ui[Di])throw new TypeError(Di+" is ambiguous");Ui[Di]=qi;}const Ki="providers/5.6.6";new v(Ki);new v(Ki);new v(Ki);new v(Ki);let Uo=Symbol("clean"),qo=[];(t=>{let e,r=[],n={lc:0,value:t,set(t){n.value=t,n.notify();},get:()=>(n.lc||n.listen((()=>{}))(),n.value),notify(t){e=r;let i=!qo.length;for(let r=0;r<e.length;r++)qo.push(e[r],n.value,t);if(i){for(let t=0;t<qo.length;t+=3)qo[t](qo[t+1],qo[t+2]);qo.length=0;}},listen:t=>(r===e&&(r=r.slice()),n.lc=r.push(t),()=>{r===e&&(r=r.slice());let i=r.indexOf(t);~i&&(r.splice(i,1),n.lc--,n.lc||n.off());}),subscribe(t){let e=n.listen(t);return t(n.value),e},off(){}};return "production"!==process.env.NODE_ENV&&(n[Uo]=()=>{r=[],n.lc=0,n.off();}),n})(null);

var SignIn$1 = '';

function SignIn(props) {
  return /* @__PURE__ */ jsx("div", {
    className: "slds-modal__content user-profile-form-content",
    id: "modal-content-id-3",
    children: /* @__PURE__ */ jsxs("div", {
      className: "slds-grid slds-wrap slds-grid_reverse",
      style: {
        backgroundColor: "#36b24b"
      },
      children: [/* @__PURE__ */ jsx("div", {
        className: "slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-p-vertical_xx-large slds-p-horizontal_large user-profile-box-1 sessionNoExists",
        children: /* @__PURE__ */ jsxs("div", {
          className: "slds-text-heading_small slds-text-align_center",
          children: [/* @__PURE__ */ jsx("p", {
            className: "slds-text-heading_medium slds-p-bottom_small slds-text-color_inverse",
            children: /* @__PURE__ */ jsx("b", {
              children: "Hello Friend"
            })
          }), /* @__PURE__ */ jsx("p", {
            className: "slds-p-horizontal_xx-large slds-text-color_inverse",
            children: "Help us tailor your experience."
          }), /* @__PURE__ */ jsx("div", {
            className: "slds-p-horizontal_large slds-p-top_small",
            children: /* @__PURE__ */ jsx(Button, {
              label: "CREATE ACCOUNT",
              variant: "base",
              inverse: true,
              responsive: true,
              onClick: props.authModeChange
            })
          })]
        })
      }), /* @__PURE__ */ jsx("div", {
        className: "slds-col slds-size_1-of-1 slds-p-vertical_medium slds-p-horizontal_medium user-profile-box-2 slds-medium-size_6-of-12",
        style: {
          backgroundColor: "#f2f2f2"
        },
        children: /* @__PURE__ */ jsx("form", {
          name: "loginform",
          id: "loginform",
          children: /* @__PURE__ */ jsxs("div", {
            className: "slds-text-body_small slds-text-align_center",
            children: [/* @__PURE__ */ jsx("div", {
              className: "sessionNoExists",
              children: /* @__PURE__ */ jsx("p", {
                className: "slds-text-heading_medium",
                children: /* @__PURE__ */ jsx("b", {
                  children: "Sign in"
                })
              })
            }), /* @__PURE__ */ jsxs("div", {
              className: "slds-m-around_small slds-p-horizontal_x-medium",
              children: [/* @__PURE__ */ jsx("div", {
                className: "slds-form-element slds-text-align_left slds-m-bottom_x-small",
                children: /* @__PURE__ */ jsx(Input, {
                  id: "base-id",
                  className: "slds-p-top_small",
                  label: "Email",
                  placeholder: "Email...",
                  required: true
                })
              }), /* @__PURE__ */ jsx("div", {
                className: "slds-form-element slds-text-align_left slds-m-bottom_x-small",
                children: /* @__PURE__ */ jsx(Input, {
                  id: "base-id",
                  className: "slds-p-top_small",
                  label: "Password",
                  placeholder: "Password...",
                  required: true
                })
              })]
            }), /* @__PURE__ */ jsxs("div", {
              className: "slds-m-horizontal_medium slds-clearfix",
              children: [/* @__PURE__ */ jsx("div", {
                className: "slds-float_left slds-form-element",
                children: /* @__PURE__ */ jsx(Checkbox, {
                  assistiveText: {
                    label: "Default"
                  },
                  id: "checkbox-example",
                  labels: {
                    label: "Keep me signed in"
                  }
                })
              }), /* @__PURE__ */ jsx("div", {
                className: "slds-float_right",
                children: /* @__PURE__ */ jsx("p", {
                  className: "slds-text-body_small",
                  style: {
                    lineHeight: "22px"
                  },
                  children: /* @__PURE__ */ jsx("a", {
                    className: "forgot-password",
                    href: "#",
                    children: "Forgot password?"
                  })
                })
              })]
            }), /* @__PURE__ */ jsx("div", {
              className: "slds-m-around_small slds-p-horizontal_large",
              children: /* @__PURE__ */ jsx(Button, {
                label: "SIGN IN",
                className: "slds-button slds-button_brand slds-text-body_small button-green caps slds-p-horizontal_xx-large loginButton",
                style: {
                  backgroundColor: "#4BC076"
                }
              })
            }), /* @__PURE__ */ jsxs("p", {
              className: "slds-p-horizontal_large signin-process slds-text-body_small",
              style: {
                lineHeight: "22px"
              },
              children: ["By continuing you agree to our", " ", /* @__PURE__ */ jsx("a", {
                className: "terms-of-services",
                target: "_blank",
                href: "/terms-of-services/",
                children: "Terms of Services"
              }), " and ", " ", /* @__PURE__ */ jsx("a", {
                className: "privacy-policy",
                target: "_blank",
                href: "/privacy-policy/",
                children: "Privacy Policy"
              }), "."]
            })]
          })
        })
      })]
    })
  });
}

var SignUp$1 = '';

const initialSteps = [{
  id: 0
}, {
  id: 1
}, {
  id: 2
}];
function SignUp(props) {
  const [steps, setSteps] = useState(initialSteps);
  const [completedSteps, setCompletedSteps] = useState([]);
  return /* @__PURE__ */ jsx("div", {
    className: "slds-modal__content user-profile-form-content",
    id: "modal-content-id-3",
    children: /* @__PURE__ */ jsxs("div", {
      className: "slds-grid slds-wrap",
      style: {
        backgroundColor: "#36b24b"
      },
      children: [/* @__PURE__ */ jsx("div", {
        className: "slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-p-vertical_xx-large slds-p-horizontal_large user-profile-box-1",
        children: /* @__PURE__ */ jsxs("div", {
          className: "slds-text-heading_small slds-text-align_center",
          children: [/* @__PURE__ */ jsx("p", {
            className: "slds-text-heading_medium slds-p-bottom_small slds-text-color_inverse",
            children: "Already have an account?"
          }), /* @__PURE__ */ jsx("div", {
            className: "slds-p-horizontal_large slds-p-top_small",
            children: /* @__PURE__ */ jsx(Button, {
              label: "SING IN",
              variant: "base",
              inverse: true,
              responsive: true,
              onClick: props.authModeChange
            })
          })]
        })
      }), /* @__PURE__ */ jsx("div", {
        className: "slds-col slds-size_1-of-1 slds-p-vertical_medium slds-p-horizontal_medium user-profile-box-2 slds-medium-size_6-of-12",
        style: {
          backgroundColor: "#f2f2f2"
        },
        children: /* @__PURE__ */ jsx("form", {
          name: "loginform",
          id: "loginform",
          children: /* @__PURE__ */ jsxs("div", {
            className: "slds-text-body_small slds-text-align_center",
            children: [/* @__PURE__ */ jsx("div", {
              className: "sessionNoExists",
              children: /* @__PURE__ */ jsx("p", {
                className: "slds-text-heading_medium",
                children: /* @__PURE__ */ jsx("b", {
                  children: "Create an account"
                })
              })
            }), /* @__PURE__ */ jsx(ProgressIndicator, {
              id: "progress-indicator",
              completedSteps,
              steps,
              className: "slds-m-top_x-large"
            }), /* @__PURE__ */ jsx("div", {
              className: "slds-m-around_small slds-p-horizontal_x-medium",
              children: /* @__PURE__ */ jsx("div", {
                className: "slds-form-element slds-text-align_left slds-m-bottom_x-small",
                children: /* @__PURE__ */ jsx(Input, {
                  id: "base-id",
                  className: "slds-p-top_small",
                  label: "Email",
                  placeholder: "Email...",
                  required: true
                })
              })
            }), /* @__PURE__ */ jsx("div", {
              className: "slds-m-around_small slds-p-horizontal_large",
              children: /* @__PURE__ */ jsx(Button, {
                label: "CONTINUE",
                className: "slds-button slds-button_brand slds-text-body_small slds-m-top_x-medium button-green caps slds-p-horizontal_xx-large loginButton",
                style: {
                  backgroundColor: "#4BC076"
                }
              })
            }), /* @__PURE__ */ jsxs("p", {
              className: "slds-p-horizontal_large signin-process slds-text-body_small",
              style: {
                lineHeight: "22px"
              },
              children: ["By continuing you agree to our", " ", /* @__PURE__ */ jsx("a", {
                className: "terms-of-services",
                target: "_blank",
                href: "/terms-of-services/",
                children: "Terms of Services"
              }), " and ", " ", /* @__PURE__ */ jsx("a", {
                className: "privacy-policy",
                target: "_blank",
                href: "/privacy-policy/",
                children: "Privacy Policy"
              }), "."]
            })]
          })
        })
      })]
    })
  });
}

var Masthead = '';

function Header(props) {
  const [isOpen, setIsOpen] = useState(false);
  let [authMode, setAuthMode] = useState("signin");
  const changeAuthMode = () => {
    setAuthMode(authMode === "signin" ? "signup" : "signin");
  };
  return /* @__PURE__ */ jsx(IconSettings, {
    iconPath: "assets/icons",
    children: /* @__PURE__ */ jsxs("div", {
      style: {
        display: "flex",
        alignItems: "center"
      },
      children: [/* @__PURE__ */ jsx(SLDSGlobalHeader, {
        logoSrc: "assets/header-icon.ico",
        onSkipToContent: () => {
          console.log(">>> Skip to Content Clicked");
        },
        onSkipToNav: () => {
          console.log(">>> Skip to Nav Clicked");
        },
        children: /* @__PURE__ */ jsx(GlobalHeaderSearch, {
          combobox: /* @__PURE__ */ jsx(Combobox, {
            assistiveText: {
              label: "Search"
            },
            events: {
              onSelect: () => {
                console.log(">>> onSelect");
              }
            },
            id: "header-search-custom-id",
            labels: {
              placeholder: "Search Salesforcee"
            },
            options: [{
              id: "email",
              label: "Email"
            }, {
              id: "mobile",
              label: "Mobile"
            }]
          })
        })
      }), /* @__PURE__ */ jsxs("div", {
        className: "slds-m-right_x-large",
        style: {
          display: "flex"
        },
        children: [/* @__PURE__ */ jsx(Button, {
          label: "Add/Suggest",
          variant: "brand",
          className: "slds-m-right_small",
          responsive: true
        }), /* @__PURE__ */ jsx(Button, {
          label: "Login",
          onClick: () => setIsOpen(true)
        }), /* @__PURE__ */ jsx(Modal, {
          isOpen,
          onRequestClose: () => setIsOpen(false),
          children: authMode === "signin" ? /* @__PURE__ */ jsx(SignIn, {
            authModeChange: changeAuthMode
          }) : /* @__PURE__ */ jsx(SignUp, {
            authModeChange: changeAuthMode
          })
        })]
      })]
    })
  });
}
Header.displayName = "GlobalHeaderExample";

var $$module6 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': Header
}, Symbol.toStringTag, { value: 'Module' }));

const capitalize = (value) => value.charAt(0).toLocaleUpperCase() + value.slice(1);
const getLastItemOfArray = (array) => array[array.length - 1];
const transformToNavItems = (pages) => {
  return pages.map(({ frontmatter, url }) => ({
    id: v4(),
    label: frontmatter?.title || "",
    link: url
  }));
};

var $$module5$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	capitalize: capitalize,
	getLastItemOfArray: getLastItemOfArray,
	transformToNavItems: transformToNavItems
}, Symbol.toStringTag, { value: 'Module' }));

const BreadCrumbs = (props) => {
  const {
    location
  } = props;
  const id = useId();
  const trails = useMemo(() => {
    const {
      protocol,
      host,
      pathname
    } = location;
    const pathnameWithoutBase = pathname.replace(RegExp(`/${BASE_SITE_URL}`), "");
    const pathnameSections = pathnameWithoutBase.split("/").slice(3).filter(Boolean);
    const trails2 = pathnameSections.map((section, idx) => {
      const pathname2 = `${idx === 0 ? "" : "/"}` + pathnameSections.slice(0, idx).join("/") + `/${section}`;
      const href = `${protocol}//${host}${BASE_SITE_URL }/en${pathname2}`;
      return /* @__PURE__ */ jsx("a", {
        href,
        title: href,
        children: capitalize(section)
      });
    });
    if (trails2.length <= 1)
      return [];
    return trails2;
  }, []);
  return /* @__PURE__ */ jsx(IconSettings, {
    iconPath: ICON_SETTINGS_PATH,
    children: /* @__PURE__ */ jsx(BreadCrumb, {
      id,
      trail: trails
    })
  });
};

var $$module7 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': BreadCrumbs
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$k = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/layouts/BaseLayout.astro", { modules: [{ module: $$module1$7, specifier: "@components/Navbar/index.astro", assert: {} }, { module: $$module2$4, specifier: "@components/HeadCommon.astro", assert: {} }, { module: $$module3$4, specifier: "@components/HeadSEO.astro", assert: {} }, { module: $$module2$2, specifier: "@components/Container/index.astro", assert: {} }, { module: $$module5$2, specifier: "@components/Footer/index.astro", assert: {} }, { module: $$module6, specifier: "@components/Header/Masthead", assert: {} }, { module: $$module7, specifier: "@components/Breadcrumbs/index", assert: {} }, { module: $$module8, specifier: "../config.astro", assert: {} }], hydratedComponents: [BreadCrumbs, Header], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$k = createAstro("/@fs/D:/work/astro/astro-auth-example/src/layouts/BaseLayout.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$BaseLayout = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$k, $$props, $$slots);
  Astro2.self = $$BaseLayout;
  const { frontmatter = {} } = Astro2.props;
  const canonicalURL = Astro2.canonicalURL;
  const currentPage = canonicalURL.pathname;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<html${addAttribute(frontmatter.dir ?? "ltr", "dir")}${addAttribute(frontmatter.lang ?? "en-us", "lang")} class="initial astro-CN3RSNVB">
  <head>
    ${renderComponent($$result, "HeadSEO", $$HeadSEO, { "frontmatter": frontmatter, "canonicalURL": canonicalURL, "class": "astro-CN3RSNVB" })}
    ${renderComponent($$result, "HeadCommon", $$HeadCommon, { "class": "astro-CN3RSNVB" })}
    <title>
      ${frontmatter.title ? `${frontmatter.title} \u{1F680} ${SITE$1.title}` : SITE$1.title}
    </title>
    
  <!--astro:head--></head>

  <body>
    <div class="all-markup-but-footer astro-CN3RSNVB">
      <div class="header-container astro-CN3RSNVB">${renderComponent($$result, "Masthead", null, { "currentPage": currentPage, "client:load": true, "client:only": "react", "client:component-hydration": "load", "client:component-path": $$metadata$k.getPath(Header), "client:component-export": $$metadata$k.getExport(Header), "class": "astro-CN3RSNVB" })}</div>
      ${renderComponent($$result, "Container", $$Index$a, { "class": "astro-CN3RSNVB" }, { "default": () => render`${renderComponent($$result, "Navbar", $$Index$b, { "class": "astro-CN3RSNVB" })}<div style="margin-bottom: 2rem;" class="astro-CN3RSNVB">${renderComponent($$result, "BreadCrumbs", BreadCrumbs, { "location": canonicalURL, "client:load": true, "client:component-hydration": "load", "client:component-path": $$metadata$k.getPath(BreadCrumbs), "client:component-export": $$metadata$k.getExport(BreadCrumbs), "class": "astro-CN3RSNVB" })}</div>` })}

      ${renderSlot($$result, $$slots["default"])}
    </div>

    ${renderComponent($$result, "Footer", $$Index$9, { "class": "astro-CN3RSNVB" })}

    
  </body>
</html>
`;
});

var $$module1$6 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$k,
	'default': $$BaseLayout
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$j = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/pages/en/index.astro", { modules: [{ module: $$module1$6, specifier: "@layouts/BaseLayout.astro", assert: {} }, { module: $$module2$2, specifier: "@components/Container/index.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$j = createAstro("/@fs/D:/work/astro/astro-auth-example/src/pages/en/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$8 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$j, $$props, $$slots);
  Astro2.self = $$Index$8;
  return render`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": () => render`${renderComponent($$result, "Container", $$Index$a, {}, { "default": () => render`<h1>Landing page</h1>` })}` })}`;
});

var _page3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$j,
	'default': $$Index$8
}, Symbol.toStringTag, { value: 'Module' }));

var GlobalNavWithSidebarTocLayout_astro_astro_type_style_index_0_lang = '';

var LeftSidebar_astro_astro_type_style_index_0_lang = '';

const KNOWN_LANGUAGE_CODES = Object.values(KNOWN_LANGUAGES);
const langPathRegex = /\/([a-z]{2}-?[A-Z]{0,2})\//;
function getLanguageFromURL(pathname) {
  const langCodeMatch = pathname.match(langPathRegex);
  return langCodeMatch ? langCodeMatch[1] : "en";
}

var $$module2$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	KNOWN_LANGUAGES: KNOWN_LANGUAGES,
	KNOWN_LANGUAGE_CODES: KNOWN_LANGUAGE_CODES,
	langPathRegex: langPathRegex,
	getLanguageFromURL: getLanguageFromURL
}, Symbol.toStringTag, { value: 'Module' }));

const SIDEBAR_SECTIONS = {
  en: [
    {
      id: "1",
      heading: "Section header",
      items: {
        0: {
          id: 0,
          nodes: [1, 2, 3]
        },
        1: {
          id: 1,
          label: "Introduction",
          link: `${BASE_SITE_URL}/en/introduction`,
          selected: false,
          expanded: true
        },
        2: {
          id: 2,
          label: "Page 2",
          link: `${BASE_SITE_URL}/en/page-2`,
          selected: false,
          expanded: true
        },
        3: {
          id: 3,
          label: "Page 3",
          link: `${BASE_SITE_URL}/en/page-3`,
          selected: false,
          expanded: true
        }
      }
    },
    {
      id: "2",
      heading: "Another section",
      items: {
        0: {
          id: 0,
          nodes: [1]
        },
        1: {
          id: 1,
          label: "Page 4",
          link: `${BASE_SITE_URL}/en/page-4`,
          selected: false,
          expanded: true
        }
      }
    }
  ]
};

var $$module3$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	SIDEBAR_SECTIONS: SIDEBAR_SECTIONS
}, Symbol.toStringTag, { value: 'Module' }));

const section = "_section_3bbm3_1";
var classes = {
	section: section
};

var $$module5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	section: section,
	'default': classes
}, Symbol.toStringTag, { value: 'Module' }));

function LeftSidebarSection(props) {
  const {
    section
  } = props;
  const [sectionItems, setSectionItems] = useState(section.items);
  const getNavItems = (node) => node.nodes ? node.nodes.map((id) => sectionItems[id.toString()]) : [];
  const handleClick = (event, data) => {
    const {
      select,
      node: {
        link
      }
    } = data;
    if (!select)
      return;
    const {
      host,
      protocol
    } = window.location;
    window.location.href = `${protocol}//${host}/${link}`;
  };
  return /* @__PURE__ */ jsx(Tree, {
    id: section.id,
    className: classes.section,
    heading: section.heading,
    getNodes: getNavItems,
    nodes: sectionItems["0"]?.nodes || [],
    onClick: handleClick,
    onExpandClick: () => true
  });
}

var $$module4$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': LeftSidebarSection
}, Symbol.toStringTag, { value: 'Module' }));

var __freeze = Object.freeze;
var __defProp$1 = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp$1(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$metadata$i = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/LeftSidebar/LeftSidebar.astro", { modules: [{ module: $$module1$8, specifier: "@components/types", assert: {} }, { module: $$module2$1, specifier: "../../languages", assert: {} }, { module: $$module3$2, specifier: "@governance/index", assert: {} }, { module: $$module4$1, specifier: "@components/LeftSidebar/LeftSidebarSection", assert: {} }, { module: $$module5, specifier: "./index.module.css", assert: {} }], hydratedComponents: [LeftSidebarSection], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$i = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/LeftSidebar/LeftSidebar.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$LeftSidebar = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$i, $$props, $$slots);
  Astro2.self = $$LeftSidebar;
  const { currentPage } = Astro2.props;
  const langCode = getLanguageFromURL(currentPage);
  const sidebarSections = SIDEBAR_SECTIONS[langCode || "en"];
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render(_a || (_a = __template(["<nav", ' aria-labelledby="grid-left">\n  ', `
</nav>



<script>
  window.addEventListener('DOMContentLoaded', event => {
    var target = document.querySelector('[aria-current="page"]');
    if (target && target.offsetTop > window.innerHeight - 100) {
      document.querySelector('.nav-groups').scrollTop = target.offsetTop;
    }
  });
<\/script>
`])), addAttribute(classes.left_sidebar + " astro-55RZKA7P", "class"), sidebarSections.map((section) => render`${renderComponent($$result, "LeftSidebarSection", LeftSidebarSection, { "client:load": true, "section": section, "client:component-hydration": "load", "client:component-path": $$metadata$i.getPath(LeftSidebarSection), "client:component-export": $$metadata$i.getExport(LeftSidebarSection), "class": "astro-55RZKA7P" })}`));
});

var $$module1$5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$i,
	'default': $$LeftSidebar
}, Symbol.toStringTag, { value: 'Module' }));

var PageContent_astro_astro_type_style_index_0_lang = '';

const $$metadata$h = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/PageContent/PageContent.astro", { modules: [], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$h = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/PageContent/PageContent.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$PageContent = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$h, $$props, $$slots);
  Astro2.self = $$PageContent;
  const { frontmatter } = Astro2.props;
  const title = frontmatter.title;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<article id="article" class="content astro-L3ZY4V5B">
  <section class="main-section astro-L3ZY4V5B">
    <h1 class="content-title astro-L3ZY4V5B" id="overview">${title}</h1>
    <!-- <nav class="block sm:hidden">
      <TableOfContents client:load {headings} />
    </nav> -->
    ${renderSlot($$result, $$slots["default"])}
  </section>
</article>


`;
});

var $$module1$4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$h,
	'default': $$PageContent
}, Symbol.toStringTag, { value: 'Module' }));

var RightSidebar_astro_astro_type_style_index_0_lang = '';

const overviewItem = {
  id: "overview",
  label: "Overview",
  slug: "overview"
};
const TableOfContents = ({
  headings = []
}) => {
  const headingsForLDS = useMemo(() => {
    return [{
      id: "on-this-page",
      label: "On this page",
      items: [overviewItem, ...headings.map(({
        text,
        slug
      }) => ({
        id: slug,
        label: text,
        slug
      }))]
    }];
  }, [headings]);
  return /* @__PURE__ */ jsx(VerticalNavigation, {
    categories: headingsForLDS,
    selectedId: ".",
    onSelect: (event, {
      item
    }) => {
      const headingToScrollTo = document.querySelector(`#${item.id}`);
      window.scrollTo(0, headingToScrollTo?.offsetTop || 0);
    }
  });
};

var $$module1$3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': TableOfContents
}, Symbol.toStringTag, { value: 'Module' }));

var MoreMenu_astro_astro_type_style_index_0_lang = '';

const $$metadata$g = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/RightSidebar/MoreMenu.astro", { modules: [{ module: $$module1$a, specifier: "@components/config", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$g = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/RightSidebar/MoreMenu.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$MoreMenu = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$g, $$props, $$slots);
  Astro2.self = $$MoreMenu;
  const { editHref } = Astro2.props;
  const showMoreSection = undefined || editHref;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`${showMoreSection && render`<h2 class="heading astro-RBJSQKPO">More</h2>`}
<ul class="astro-RBJSQKPO">
  ${editHref && render`<li${addAttribute(`heading-link depth-2 astro-RBJSQKPO`, "class")}>
        <a class="edit-on-github astro-RBJSQKPO"${addAttribute(editHref, "href")} target="_blank">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16 astro-RBJSQKPO" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z" class="astro-RBJSQKPO"></path>
          </svg>
          <span class="astro-RBJSQKPO">Edit this page</span>
        </a>
      </li>`}
  ${undefined && render`<li${addAttribute(`heading-link depth-2 astro-RBJSQKPO`, "class")}>
        <a${addAttribute(undefined, "href")} target="_blank" class="astro-RBJSQKPO">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comment-alt" class="svg-inline--fa fa-comment-alt fa-w-16 astro-RBJSQKPO" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z" class="astro-RBJSQKPO"></path>
          </svg>
          <span class="astro-RBJSQKPO">Join our community</span>
        </a>
      </li>`}
</ul>


`;
});

var $$module2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$g,
	'default': $$MoreMenu
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$f = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/RightSidebar/RightSidebar.astro", { modules: [{ module: $$module1$3, specifier: "./TableOfContents", assert: {} }, { module: $$module2, specifier: "./MoreMenu.astro", assert: {} }], hydratedComponents: [TableOfContents], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$f = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/RightSidebar/RightSidebar.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$RightSidebar = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$f, $$props, $$slots);
  Astro2.self = $$RightSidebar;
  const { headings, githubEditUrl } = Astro2.props;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<nav class="sidebar-nav astro-LUCEPA6Z" aria-labelledby="grid-right">
	<div class="sidebar-nav-inner astro-LUCEPA6Z">
		${renderComponent($$result, "TableOfContents", TableOfContents, { "client:load": true, "headings": headings, "client:component-hydration": "load", "client:component-path": $$metadata$f.getPath(TableOfContents), "client:component-export": $$metadata$f.getExport(TableOfContents), "class": "astro-LUCEPA6Z" })}
		${renderComponent($$result, "MoreMenu", $$MoreMenu, { "editHref": githubEditUrl, "class": "astro-LUCEPA6Z" })}
	</div>
</nav>


`;
});

var $$module3$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$f,
	'default': $$RightSidebar
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$e = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavWithSidebarTocLayout.astro", { modules: [{ module: $$module1$5, specifier: "@components/LeftSidebar/LeftSidebar.astro", assert: {} }, { module: $$module1$4, specifier: "@components/PageContent/PageContent.astro", assert: {} }, { module: $$module3$1, specifier: "@components/RightSidebar/RightSidebar.astro", assert: {} }, { module: $$module1$6, specifier: "./BaseLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$e = createAstro("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavWithSidebarTocLayout.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$GlobalNavWithSidebarTocLayout = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$e, $$props, $$slots);
  Astro2.self = $$GlobalNavWithSidebarTocLayout;
  const canonicalURL = Astro2.canonicalURL;
  const currentPage = canonicalURL.pathname;
  const { frontmatter = {}, headings } = Astro2.props;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`${renderComponent($$result, "BaseLayout", $$BaseLayout, { "class": "astro-MUJR3KKY" }, { "default": () => render`<main class="layout astro-MUJR3KKY">
    <aside id="grid-left" class="grid-sidebar astro-MUJR3KKY" title="Site Navigation">
      <div class="flex-column astro-MUJR3KKY">
        ${renderComponent($$result, "LeftSidebar", $$LeftSidebar, { "currentPage": currentPage, "class": "astro-MUJR3KKY" })}
      </div>
    </aside>
    <div id="grid-main" class="astro-MUJR3KKY">
      ${renderComponent($$result, "PageContent", $$PageContent, { "frontmatter": frontmatter, "headings": headings, "class": "astro-MUJR3KKY" }, { "default": () => render`${renderSlot($$result, $$slots["default"])}` })}
    </div>
    <aside id="grid-right" class="grid-sidebar astro-MUJR3KKY" title="Table of Contents">
      ${renderComponent($$result, "RightSidebar", $$RightSidebar, { "headings": headings, "class": "astro-MUJR3KKY" })}
    </aside>
  </main>` })}
`;
});

var $$module1$2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$e,
	'default': $$GlobalNavWithSidebarTocLayout
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$a = { "headers": [{ "depth": 2, "slug": "getting-started", "text": "Getting Started" }], "source": "\r\n**Welcome to Astro!**\r\n\r\nThis is the `docs` starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:\r\n\r\n- \u2705 **Full Markdown support**\r\n- \u2705 **Responsive mobile-friendly design**\r\n- \u2705 **Sidebar navigation**\r\n- \u2705 **Search (powered by Algolia)**\r\n- \u2705 **Multi-language i18n**\r\n- \u2705 **Automatic table of contents**\r\n- \u2705 **Automatic list of contributors**\r\n- \u2705 (and, best of all) **dark mode**\r\n\r\n## Getting Started\r\n\r\nTo get started with this theme, check out the `README.md` in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.\r\n\r\nFound a missing feature that you can't live without? Please suggest it on Discord [(#ideas-and-suggestions channel)](https://astro.build/chat) and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!\r\n\r\nGood luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}\r\n", "html": '<p><strong>Welcome to Astro!</strong></p>\n<p>This is the <code is:raw>docs</code> starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:</p>\n<ul>\n<li>\u2705 <strong>Full Markdown support</strong></li>\n<li>\u2705 <strong>Responsive mobile-friendly design</strong></li>\n<li>\u2705 <strong>Sidebar navigation</strong></li>\n<li>\u2705 <strong>Search (powered by Algolia)</strong></li>\n<li>\u2705 <strong>Multi-language i18n</strong></li>\n<li>\u2705 <strong>Automatic table of contents</strong></li>\n<li>\u2705 <strong>Automatic list of contributors</strong></li>\n<li>\u2705 (and, best of all) <strong>dark mode</strong></li>\n</ul>\n<h2 id="getting-started">Getting Started</h2>\n<p>To get started with this theme, check out the <code is:raw>README.md</code> in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.</p>\n<p>Found a missing feature that you can\u2019t live without? Please suggest it on Discord <a href="https://astro.build/chat">(#ideas-and-suggestions channel)</a> and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!</p>\n<p>Good luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}</p>' };
const frontmatter$a = { "title": "Introduction", "description": "Docs intro", "astro": { "headers": [{ "depth": 2, "slug": "getting-started", "text": "Getting Started" }], "source": "\r\n**Welcome to Astro!**\r\n\r\nThis is the `docs` starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:\r\n\r\n- \u2705 **Full Markdown support**\r\n- \u2705 **Responsive mobile-friendly design**\r\n- \u2705 **Sidebar navigation**\r\n- \u2705 **Search (powered by Algolia)**\r\n- \u2705 **Multi-language i18n**\r\n- \u2705 **Automatic table of contents**\r\n- \u2705 **Automatic list of contributors**\r\n- \u2705 (and, best of all) **dark mode**\r\n\r\n## Getting Started\r\n\r\nTo get started with this theme, check out the `README.md` in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.\r\n\r\nFound a missing feature that you can't live without? Please suggest it on Discord [(#ideas-and-suggestions channel)](https://astro.build/chat) and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!\r\n\r\nGood luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}\r\n", "html": '<p><strong>Welcome to Astro!</strong></p>\n<p>This is the <code is:raw>docs</code> starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:</p>\n<ul>\n<li>\u2705 <strong>Full Markdown support</strong></li>\n<li>\u2705 <strong>Responsive mobile-friendly design</strong></li>\n<li>\u2705 <strong>Sidebar navigation</strong></li>\n<li>\u2705 <strong>Search (powered by Algolia)</strong></li>\n<li>\u2705 <strong>Multi-language i18n</strong></li>\n<li>\u2705 <strong>Automatic table of contents</strong></li>\n<li>\u2705 <strong>Automatic list of contributors</strong></li>\n<li>\u2705 (and, best of all) <strong>dark mode</strong></li>\n</ul>\n<h2 id="getting-started">Getting Started</h2>\n<p>To get started with this theme, check out the <code is:raw>README.md</code> in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.</p>\n<p>Found a missing feature that you can\u2019t live without? Please suggest it on Discord <a href="https://astro.build/chat">(#ideas-and-suggestions channel)</a> and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!</p>\n<p>Good luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}</p>' } };
const $$metadata$d = createMetadata("/src/pages/en/introduction.md", { modules: [{ module: $$module1$2, specifier: "../../layouts/GlobalNavWithSidebarTocLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$d = createAstro("/src/pages/en/introduction.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Introduction = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$d, $$props, $$slots);
  Astro2.self = $$Introduction;
  const $$content = { "title": "Introduction", "description": "Docs intro", "astro": { "headers": [{ "depth": 2, "slug": "getting-started", "text": "Getting Started" }], "source": "\r\n**Welcome to Astro!**\r\n\r\nThis is the `docs` starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:\r\n\r\n- \u2705 **Full Markdown support**\r\n- \u2705 **Responsive mobile-friendly design**\r\n- \u2705 **Sidebar navigation**\r\n- \u2705 **Search (powered by Algolia)**\r\n- \u2705 **Multi-language i18n**\r\n- \u2705 **Automatic table of contents**\r\n- \u2705 **Automatic list of contributors**\r\n- \u2705 (and, best of all) **dark mode**\r\n\r\n## Getting Started\r\n\r\nTo get started with this theme, check out the `README.md` in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.\r\n\r\nFound a missing feature that you can't live without? Please suggest it on Discord [(#ideas-and-suggestions channel)](https://astro.build/chat) and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!\r\n\r\nGood luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}\r\n", "html": '<p><strong>Welcome to Astro!</strong></p>\n<p>This is the <code is:raw>docs</code> starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:</p>\n<ul>\n<li>\u2705 <strong>Full Markdown support</strong></li>\n<li>\u2705 <strong>Responsive mobile-friendly design</strong></li>\n<li>\u2705 <strong>Sidebar navigation</strong></li>\n<li>\u2705 <strong>Search (powered by Algolia)</strong></li>\n<li>\u2705 <strong>Multi-language i18n</strong></li>\n<li>\u2705 <strong>Automatic table of contents</strong></li>\n<li>\u2705 <strong>Automatic list of contributors</strong></li>\n<li>\u2705 (and, best of all) <strong>dark mode</strong></li>\n</ul>\n<h2 id="getting-started">Getting Started</h2>\n<p>To get started with this theme, check out the <code is:raw>README.md</code> in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.</p>\n<p>Found a missing feature that you can\u2019t live without? Please suggest it on Discord <a href="https://astro.build/chat">(#ideas-and-suggestions channel)</a> and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!</p>\n<p>Good luck out there, Astronaut. \u{1F9D1}\u200D\u{1F680}</p>' } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithSidebarTocLayout, { "content": $$content }, { "default": () => render`<p><strong>Welcome to Astro!</strong></p><p>This is the <code>docs</code> starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:</p><ul>
<li>✅ <strong>Full Markdown support</strong></li>
<li>✅ <strong>Responsive mobile-friendly design</strong></li>
<li>✅ <strong>Sidebar navigation</strong></li>
<li>✅ <strong>Search (powered by Algolia)</strong></li>
<li>✅ <strong>Multi-language i18n</strong></li>
<li>✅ <strong>Automatic table of contents</strong></li>
<li>✅ <strong>Automatic list of contributors</strong></li>
<li>✅ (and, best of all) <strong>dark mode</strong></li>
</ul><h2 id="getting-started">Getting Started</h2><p>To get started with this theme, check out the <code>README.md</code> in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.</p><p>Found a missing feature that you can’t live without? Please suggest it on Discord <a href="https://astro.build/chat">(#ideas-and-suggestions channel)</a> and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!</p><p>Good luck out there, Astronaut. 🧑‍🚀</p>` })}`;
});

var _page4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$a,
	frontmatter: frontmatter$a,
	$$metadata: $$metadata$d,
	'default': $$Introduction
}, Symbol.toStringTag, { value: 'Module' }));

var index_astro_astro_type_style_index_0_lang = '';

const $$metadata$c = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/components/ContentGrid/index.astro", { modules: [{ module: $$module1$4, specifier: "@components/PageContent/PageContent.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$c = createAstro("/@fs/D:/work/astro/astro-auth-example/src/components/ContentGrid/index.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$7 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$c, $$props, $$slots);
  Astro2.self = $$Index$7;
  const { frontmatter = {}, headings } = Astro2.props;
  const STYLES = [];
  for (const STYLE of STYLES)
    $$result.styles.add(STYLE);
  return render`<div id="grid-main" class="astro-XFEEZKO2">
  ${renderComponent($$result, "PageContent", $$PageContent, { "frontmatter": frontmatter, "headings": headings, "class": "astro-XFEEZKO2" }, { "default": () => render`${renderSlot($$result, $$slots["default"])}` })}
</div>


`;
});

var $$module3 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$c,
	'default': $$Index$7
}, Symbol.toStringTag, { value: 'Module' }));

function ChildNav(props) {
  const {
    navItems
  } = props;
  return /* @__PURE__ */ jsx(IconSettings, {
    iconPath: ICON_SETTINGS_PATH,
    children: /* @__PURE__ */ jsx("div", {
      className: "slds-grid slds-wrap",
      children: navItems.map((item) => /* @__PURE__ */ jsx("div", {
        className: " slds-col slds-size_4-of-12",
        style: {
          marginTop: "2rem"
        },
        children: /* @__PURE__ */ jsx("div", {
          className: "slds-card",
          children: /* @__PURE__ */ jsx("a", {
            href: item.link,
            className: "slds-text-link_reset",
            children: /* @__PURE__ */ jsx("div", {
              className: "slds-p-around_medium",
              children: /* @__PURE__ */ jsx("span", {
                className: "slds-text-link",
                children: item.label
              })
            })
          })
        })
      }, item.id))
    })
  });
}

var $$module4 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	'default': ChildNav
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$b = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavWithChildrenNavLayout.astro", { modules: [{ module: $$module1$6, specifier: "./BaseLayout.astro", assert: {} }, { module: $$module2$2, specifier: "@components/Container/index.astro", assert: {} }, { module: $$module3, specifier: "@components/ContentGrid/index.astro", assert: {} }, { module: $$module4, specifier: "@components/ChildNav", assert: {} }, { module: $$module5$1, specifier: "@utils/misc", assert: {} }], hydratedComponents: [ChildNav], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set(["load"]), hoisted: [] });
const $$Astro$b = createAstro("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavWithChildrenNavLayout.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$GlobalNavWithChildrenNavLayout = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$b, $$props, $$slots);
  Astro2.self = $$GlobalNavWithChildrenNavLayout;
  const { frontmatter = {}, headings } = Astro2.props;
  const canonicalURL = Astro2.canonicalURL;
  const pathname = canonicalURL.pathname;
  const pathnameSplittedBySlash = pathname.split("/").filter(Boolean);
  const currentDirectory = getLastItemOfArray(pathnameSplittedBySlash);
  const directChildRegex = new RegExp(`/${currentDirectory}/[a-zA-Z0-9-]+$`, "");
  const allPages = await Astro2.glob({ "../pages/index.astro": () => Promise.resolve().then(function () { return _page0; }), "../pages/auth/index.astro": () => Promise.resolve().then(function () { return _page1; }), "../pages/en/index.astro": () => Promise.resolve().then(function () { return _page3; }), "../pages/en/introduction.md": () => import('./chunks/chunk.1909492e.mjs'), "../pages/en/page-2.md": () => import('./chunks/chunk.04f76e2f.mjs'), "../pages/en/page-3.md": () => import('./chunks/chunk.e3a1899c.mjs'), "../pages/en/page-4.md": () => import('./chunks/chunk.cd33b6ca.mjs'), "../pages/api/auth/[...astroauth].ts": () => Promise.resolve().then(function () { return _page2; }), "../pages/en/auto-index/index.md": () => import('./chunks/chunk.f3251a81.mjs'), "../pages/en/contact/index.md": () => import('./chunks/chunk.12de4ed6.mjs'), "../pages/en/home/index.md": () => import('./chunks/chunk.fc4d8ac5.mjs'), "../pages/en/auto-index/directory1/index.md": () => import('./chunks/chunk.0ce6260e.mjs'), "../pages/en/auto-index/directory2/index.md": () => import('./chunks/chunk.ada76000.mjs'), "../pages/en/auto-index/directory3/index.md": () => import('./chunks/chunk.444b4b54.mjs'), "../pages/en/auto-index/directory1/child-of-subdirectory1/index.md": () => import('./chunks/chunk.b81b901c.mjs'),}, () => "../pages/**");
  const directChildDirectories = allPages.filter((page) => directChildRegex.test(page.url));
  const childNavItems = transformToNavItems(directChildDirectories);
  return render`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": () => render`${renderComponent($$result, "Container", $$Index$a, {}, { "default": () => render`${renderComponent($$result, "ContentGrid", $$Index$7, { "frontmatter": frontmatter, "headings": headings }, { "default": () => render`${renderSlot($$result, $$slots["default"])}` })}${renderComponent($$result, "ChildNav", ChildNav, { "navItems": childNavItems, "client:load": true, "client:component-hydration": "load", "client:component-path": $$metadata$b.getPath(ChildNav), "client:component-export": $$metadata$b.getExport(ChildNav) })}` })}` })}
`;
});

var $$module1$1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$b,
	'default': $$GlobalNavWithChildrenNavLayout
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$9 = { "headers": [], "source": "\r\n**Auto index**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Auto index</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$9 = { "title": "Auto index Layout", "linkLabel": "Auto index", "astro": { "headers": [], "source": "\r\n**Auto index**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Auto index</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$a = createMetadata("/src/pages/en/auto-index/index.md", { modules: [{ module: $$module1$1, specifier: "../../../layouts/GlobalNavWithChildrenNavLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$a = createAstro("/src/pages/en/auto-index/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$6 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$a, $$props, $$slots);
  Astro2.self = $$Index$6;
  const $$content = { "title": "Auto index Layout", "linkLabel": "Auto index", "astro": { "headers": [], "source": "\r\n**Auto index**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Auto index</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithChildrenNavLayout, { "content": $$content }, { "default": () => render`<p><strong>Auto index</strong>
This is content coming from .md!</p>` })}`;
});

var _page5 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$9,
	frontmatter: frontmatter$9,
	$$metadata: $$metadata$a,
	'default': $$Index$6
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$8 = { "headers": [], "source": "\r\n**Subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory1</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$8 = { "title": "Subdirectory1", "linkLabel": "Subdirectory1", "astro": { "headers": [], "source": "\r\n**Subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory1</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$9 = createMetadata("/src/pages/en/auto-index/directory1/index.md", { modules: [{ module: $$module1$1, specifier: "../../../../layouts/GlobalNavWithChildrenNavLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$9 = createAstro("/src/pages/en/auto-index/directory1/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$5 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$9, $$props, $$slots);
  Astro2.self = $$Index$5;
  const $$content = { "title": "Subdirectory1", "linkLabel": "Subdirectory1", "astro": { "headers": [], "source": "\r\n**Subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory1</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithChildrenNavLayout, { "content": $$content }, { "default": () => render`<p><strong>Subdirectory1</strong>
This is content coming from .md!</p>` })}`;
});

var _page6 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$8,
	frontmatter: frontmatter$8,
	$$metadata: $$metadata$9,
	'default': $$Index$5
}, Symbol.toStringTag, { value: 'Module' }));

const $$metadata$8 = createMetadata("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavOnlyLayout.astro", { modules: [{ module: $$module1$6, specifier: "./BaseLayout.astro", assert: {} }, { module: $$module2$2, specifier: "@components/Container/index.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$8 = createAstro("/@fs/D:/work/astro/astro-auth-example/src/layouts/GlobalNavOnlyLayout.astro", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$GlobalNavOnlyLayout = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$8, $$props, $$slots);
  Astro2.self = $$GlobalNavOnlyLayout;
  return render`${renderComponent($$result, "BaseLayout", $$BaseLayout, {}, { "default": () => render`${renderComponent($$result, "Container", $$Index$a, {}, { "default": () => render`${renderSlot($$result, $$slots["default"])}` })}` })}
`;
});

var $$module1 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	$$metadata: $$metadata$8,
	'default': $$GlobalNavOnlyLayout
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$7 = { "headers": [], "source": "\r\n**Child-of-subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Child-of-subdirectory1</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$7 = { "title": "Child of subdirectory1", "linkLabel": "child-of-subdirectory1", "href": "/auto-index/directory1/child-of-subdirectory1", "astro": { "headers": [], "source": "\r\n**Child-of-subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Child-of-subdirectory1</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$7 = createMetadata("/src/pages/en/auto-index/directory1/child-of-subdirectory1/index.md", { modules: [{ module: $$module1, specifier: "../../../../../layouts/GlobalNavOnlyLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$7 = createAstro("/src/pages/en/auto-index/directory1/child-of-subdirectory1/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$4 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$7, $$props, $$slots);
  Astro2.self = $$Index$4;
  const $$content = { "title": "Child of subdirectory1", "linkLabel": "child-of-subdirectory1", "href": "/auto-index/directory1/child-of-subdirectory1", "astro": { "headers": [], "source": "\r\n**Child-of-subdirectory1**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Child-of-subdirectory1</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavOnlyLayout, { "content": $$content }, { "default": () => render`<p><strong>Child-of-subdirectory1</strong>
This is content coming from .md!</p>` })}`;
});

var _page7 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$7,
	frontmatter: frontmatter$7,
	$$metadata: $$metadata$7,
	'default': $$Index$4
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$6 = { "headers": [], "source": "\r\n**Subdirectory2**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory2</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$6 = { "title": "Subdirectory2", "linkLabel": "Subdirectory2", "astro": { "headers": [], "source": "\r\n**Subdirectory2**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory2</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$6 = createMetadata("/src/pages/en/auto-index/directory2/index.md", { modules: [{ module: $$module1$1, specifier: "../../../../layouts/GlobalNavWithChildrenNavLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$6 = createAstro("/src/pages/en/auto-index/directory2/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$3 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$6, $$props, $$slots);
  Astro2.self = $$Index$3;
  const $$content = { "title": "Subdirectory2", "linkLabel": "Subdirectory2", "astro": { "headers": [], "source": "\r\n**Subdirectory2**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory2</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithChildrenNavLayout, { "content": $$content }, { "default": () => render`<p><strong>Subdirectory2</strong>
This is content coming from .md!</p>` })}`;
});

var _page8 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$6,
	frontmatter: frontmatter$6,
	$$metadata: $$metadata$6,
	'default': $$Index$3
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$5 = { "headers": [], "source": "\r\n**Subdirectory3**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory3</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$5 = { "title": "Subdirectory3", "linkLabel": "Subdirectory3", "astro": { "headers": [], "source": "\r\n**Subdirectory3**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory3</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$5 = createMetadata("/src/pages/en/auto-index/directory3/index.md", { modules: [{ module: $$module1$1, specifier: "../../../../layouts/GlobalNavWithChildrenNavLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$5 = createAstro("/src/pages/en/auto-index/directory3/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$2 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$5, $$props, $$slots);
  Astro2.self = $$Index$2;
  const $$content = { "title": "Subdirectory3", "linkLabel": "Subdirectory3", "astro": { "headers": [], "source": "\r\n**Subdirectory3**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Subdirectory3</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithChildrenNavLayout, { "content": $$content }, { "default": () => render`<p><strong>Subdirectory3</strong>
This is content coming from .md!</p>` })}`;
});

var _page9 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$5,
	frontmatter: frontmatter$5,
	$$metadata: $$metadata$5,
	'default': $$Index$2
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$4 = { "headers": [], "source": "\r\n**Contact**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Contact</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter$4 = { "title": "Contact", "linkLabel": "Contact", "href": "/contact", "astro": { "headers": [], "source": "\r\n**Contact**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Contact</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata$4 = createMetadata("/src/pages/en/contact/index.md", { modules: [{ module: $$module1$2, specifier: "../../../layouts/GlobalNavWithSidebarTocLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$4 = createAstro("/src/pages/en/contact/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index$1 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$4, $$props, $$slots);
  Astro2.self = $$Index$1;
  const $$content = { "title": "Contact", "linkLabel": "Contact", "href": "/contact", "astro": { "headers": [], "source": "\r\n**Contact**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Contact</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithSidebarTocLayout, { "content": $$content }, { "default": () => render`<p><strong>Contact</strong>
This is content coming from .md!</p>` })}`;
});

var _page10 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$4,
	frontmatter: frontmatter$4,
	$$metadata: $$metadata$4,
	'default': $$Index$1
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$3 = { "headers": [{ "depth": 2, "slug": "apium-haec-candida-mea-movebo-obsuntque-descendat", "text": "Apium haec candida mea movebo obsuntque descendat" }], "source": "\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nSed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec _gravi_ contentusque heros. Qui suae attonitas.\r\n\r\n_Acta caelo_ ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur [Sol sub\r\nest](http://iusserat.net/) pugno solitoque movet coercuit solent caput te?\r\n\r\nCrescit sint petit gemellos gemino, et _gemma deus sub_ Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is _Aeolidae cepit_, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.\r\n\r\n## Apium haec candida mea movebo obsuntque descendat\r\n\r\nFurti lucos cum iussa quid temptanti gravitate animus: vocat\r\n[ira](http://rediere.com/): illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.\r\n\r\nTranscurrere tenens in _litore_ tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n[gramen](http://quantoque.io/). Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.\r\n\r\n- Revellit quoniam vulnerat dique respicit\r\n- Modo illis\r\n- Nec victoria quodque\r\n- Spectans si vitis iussorum corpora quas\r\n\r\nTibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet [adfusaeque\r\noculis](http://www.virum.net/ille-miserae.html) paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.\r\n\r\nFugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere _pianda dominique\r\nnostra_ vivacemque teneraque!\r\n", "html": '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p>Sed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec <em>gravi</em> contentusque heros. Qui suae attonitas.</p>\n<p><em>Acta caelo</em> ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur <a href="http://iusserat.net/">Sol sub\r\nest</a> pugno solitoque movet coercuit solent caput te?</p>\n<p>Crescit sint petit gemellos gemino, et <em>gemma deus sub</em> Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is <em>Aeolidae cepit</em>, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.</p>\n<h2 id="apium-haec-candida-mea-movebo-obsuntque-descendat">Apium haec candida mea movebo obsuntque descendat</h2>\n<p>Furti lucos cum iussa quid temptanti gravitate animus: vocat\r\n<a href="http://rediere.com/">ira</a>: illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.</p>\n<p>Transcurrere tenens in <em>litore</em> tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n<a href="http://quantoque.io/">gramen</a>. Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.</p>\n<ul>\n<li>Revellit quoniam vulnerat dique respicit</li>\n<li>Modo illis</li>\n<li>Nec victoria quodque</li>\n<li>Spectans si vitis iussorum corpora quas</li>\n</ul>\n<p>Tibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet <a href="http://www.virum.net/ille-miserae.html">adfusaeque\r\noculis</a> paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.</p>\n<p>Fugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere <em>pianda dominique\r\nnostra</em> vivacemque teneraque!</p>' };
const frontmatter$3 = { "title": "Page 2", "description": "Lorem ipsum dolor sit amet - 2", "astro": { "headers": [{ "depth": 2, "slug": "apium-haec-candida-mea-movebo-obsuntque-descendat", "text": "Apium haec candida mea movebo obsuntque descendat" }], "source": "\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nSed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec _gravi_ contentusque heros. Qui suae attonitas.\r\n\r\n_Acta caelo_ ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur [Sol sub\r\nest](http://iusserat.net/) pugno solitoque movet coercuit solent caput te?\r\n\r\nCrescit sint petit gemellos gemino, et _gemma deus sub_ Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is _Aeolidae cepit_, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.\r\n\r\n## Apium haec candida mea movebo obsuntque descendat\r\n\r\nFurti lucos cum iussa quid temptanti gravitate animus: vocat\r\n[ira](http://rediere.com/): illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.\r\n\r\nTranscurrere tenens in _litore_ tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n[gramen](http://quantoque.io/). Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.\r\n\r\n- Revellit quoniam vulnerat dique respicit\r\n- Modo illis\r\n- Nec victoria quodque\r\n- Spectans si vitis iussorum corpora quas\r\n\r\nTibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet [adfusaeque\r\noculis](http://www.virum.net/ille-miserae.html) paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.\r\n\r\nFugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere _pianda dominique\r\nnostra_ vivacemque teneraque!\r\n", "html": '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p>Sed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec <em>gravi</em> contentusque heros. Qui suae attonitas.</p>\n<p><em>Acta caelo</em> ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur <a href="http://iusserat.net/">Sol sub\r\nest</a> pugno solitoque movet coercuit solent caput te?</p>\n<p>Crescit sint petit gemellos gemino, et <em>gemma deus sub</em> Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is <em>Aeolidae cepit</em>, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.</p>\n<h2 id="apium-haec-candida-mea-movebo-obsuntque-descendat">Apium haec candida mea movebo obsuntque descendat</h2>\n<p>Furti lucos cum iussa quid temptanti gravitate animus: vocat\r\n<a href="http://rediere.com/">ira</a>: illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.</p>\n<p>Transcurrere tenens in <em>litore</em> tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n<a href="http://quantoque.io/">gramen</a>. Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.</p>\n<ul>\n<li>Revellit quoniam vulnerat dique respicit</li>\n<li>Modo illis</li>\n<li>Nec victoria quodque</li>\n<li>Spectans si vitis iussorum corpora quas</li>\n</ul>\n<p>Tibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet <a href="http://www.virum.net/ille-miserae.html">adfusaeque\r\noculis</a> paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.</p>\n<p>Fugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere <em>pianda dominique\r\nnostra</em> vivacemque teneraque!</p>' } };
const $$metadata$3 = createMetadata("/src/pages/en/page-2.md", { modules: [{ module: $$module1$2, specifier: "../../layouts/GlobalNavWithSidebarTocLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$3 = createAstro("/src/pages/en/page-2.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Page2 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$3, $$props, $$slots);
  Astro2.self = $$Page2;
  const $$content = { "title": "Page 2", "description": "Lorem ipsum dolor sit amet - 2", "astro": { "headers": [{ "depth": 2, "slug": "apium-haec-candida-mea-movebo-obsuntque-descendat", "text": "Apium haec candida mea movebo obsuntque descendat" }], "source": "\r\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\r\n\r\nSed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec _gravi_ contentusque heros. Qui suae attonitas.\r\n\r\n_Acta caelo_ ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur [Sol sub\r\nest](http://iusserat.net/) pugno solitoque movet coercuit solent caput te?\r\n\r\nCrescit sint petit gemellos gemino, et _gemma deus sub_ Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is _Aeolidae cepit_, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.\r\n\r\n## Apium haec candida mea movebo obsuntque descendat\r\n\r\nFurti lucos cum iussa quid temptanti gravitate animus: vocat\r\n[ira](http://rediere.com/): illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.\r\n\r\nTranscurrere tenens in _litore_ tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n[gramen](http://quantoque.io/). Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.\r\n\r\n- Revellit quoniam vulnerat dique respicit\r\n- Modo illis\r\n- Nec victoria quodque\r\n- Spectans si vitis iussorum corpora quas\r\n\r\nTibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet [adfusaeque\r\noculis](http://www.virum.net/ille-miserae.html) paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.\r\n\r\nFugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere _pianda dominique\r\nnostra_ vivacemque teneraque!\r\n", "html": '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p>Sed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem\r\niunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias\r\namores, et quod, maduere haec <em>gravi</em> contentusque heros. Qui suae attonitas.</p>\n<p><em>Acta caelo</em> ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat\r\ninhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos\r\nest inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur <a href="http://iusserat.net/">Sol sub\r\nest</a> pugno solitoque movet coercuit solent caput te?</p>\n<p>Crescit sint petit gemellos gemino, et <em>gemma deus sub</em> Surrentino frena\r\nprincipiis statione. Soporiferam secunda nulli Tereus is <em>Aeolidae cepit</em>, tua\r\nperegrinosque illam parvis, deerit sub et times sedant.</p>\n<h2 id="apium-haec-candida-mea-movebo-obsuntque-descendat">Apium haec candida mea movebo obsuntque descendat</h2>\n<p>Furti lucos cum iussa quid temptanti gravitate animus: vocat\r\n<a href="http://rediere.com/">ira</a>: illa. Primis aeternus, illi cinguntur ad mugitus\r\naevo repentinos nec.</p>\n<p>Transcurrere tenens in <em>litore</em> tuti plebe circumspicit viventi quoque mox\r\ntroades medio mea locuta gradus perque sic unguibus\r\n<a href="http://quantoque.io/">gramen</a>. Effetus celerique nomina quoque. Ire gemino est.\r\nEurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit\r\nexperientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora\r\nefferre: praeterea infantem in virgam verso.</p>\n<ul>\n<li>Revellit quoniam vulnerat dique respicit</li>\n<li>Modo illis</li>\n<li>Nec victoria quodque</li>\n<li>Spectans si vitis iussorum corpora quas</li>\n</ul>\n<p>Tibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa\r\ndubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior\r\nluminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs\r\net passu Phaethonta alumna orbem rapuit inplet <a href="http://www.virum.net/ille-miserae.html">adfusaeque\r\noculis</a> paene. Casus mea cingebant idque\r\nsuis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.</p>\n<p>Fugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam\r\ncernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina\r\nquem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque\r\ndigitos satis in nautae sternuntur curam, iaculum ignoscere <em>pianda dominique\r\nnostra</em> vivacemque teneraque!</p>' } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithSidebarTocLayout, { "content": $$content }, { "default": () => render`<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p><p>Sed flavum. Stridore nato, Alcandrumque desint ostendit derat, longoque, eadem
iunxit miserum pedum pectora. Liberat sine pignus cupit, ferit mihi venias
amores, et quod, maduere haec <em>gravi</em> contentusque heros. Qui suae attonitas.</p><p><em>Acta caelo</em> ego, hoc illi ferroque, qui fluitque Achillis deiecerat erat
inhospita arasque ad sume et aquis summo. Fugerat ipse iam. Funeris Iuno Danaos
est inroravere aurum foret nati aeque tetigisset! Esse ad tibi queritur <a href="http://iusserat.net/">Sol sub
est</a> pugno solitoque movet coercuit solent caput te?</p><p>Crescit sint petit gemellos gemino, et <em>gemma deus sub</em> Surrentino frena
principiis statione. Soporiferam secunda nulli Tereus is <em>Aeolidae cepit</em>, tua
peregrinosque illam parvis, deerit sub et times sedant.</p><h2 id="apium-haec-candida-mea-movebo-obsuntque-descendat">Apium haec candida mea movebo obsuntque descendat</h2><p>Furti lucos cum iussa quid temptanti gravitate animus: vocat
<a href="http://rediere.com/">ira</a>: illa. Primis aeternus, illi cinguntur ad mugitus
aevo repentinos nec.</p><p>Transcurrere tenens in <em>litore</em> tuti plebe circumspicit viventi quoque mox
troades medio mea locuta gradus perque sic unguibus
<a href="http://quantoque.io/">gramen</a>. Effetus celerique nomina quoque. Ire gemino est.
Eurus quaerenti: et lacus, tibi ignorant tertia omnes subscribi ducentem sedit
experientia sine ludunt multae. Ponderis memor purasque, ut armenta corpora
efferre: praeterea infantem in virgam verso.</p><ul>
<li>Revellit quoniam vulnerat dique respicit</li>
<li>Modo illis</li>
<li>Nec victoria quodque</li>
<li>Spectans si vitis iussorum corpora quas</li>
</ul><p>Tibi igni, iamque, sum arsuro patet et Talibus cecidere: levati Atlas villosa
dubium conparentis litem volentem nec? Iuga tenent, passi cumque generosior
luminis, quique mea aequora ingens bracchia furor, respiramen eram: in. Caelebs
et passu Phaethonta alumna orbem rapuit inplet <a href="http://www.virum.net/ille-miserae.html">adfusaeque
oculis</a> paene. Casus mea cingebant idque
suis nymphe ut arae potuit et non, inmota erat foret, facta manu arvum.</p><p>Fugam nec stridentemque undis te solet mentemque Phrygibus fulvae adhuc quam
cernimus est! Aper iube dederat adsere iamque mortale ita cornua si fundamina
quem caperet, iubeas stolidae pedesque intrarunt navigat triformis. Undas terque
digitos satis in nautae sternuntur curam, iaculum ignoscere <em>pianda dominique
nostra</em> vivacemque teneraque!</p>` })}`;
});

var _page11 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$3,
	frontmatter: frontmatter$3,
	$$metadata: $$metadata$3,
	'default': $$Page2
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$2 = { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' };
const frontmatter$2 = { "title": "Page 3", "description": "Lorem ipsum dolor sit amet - 3", "astro": { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' } };
const $$metadata$2 = createMetadata("/src/pages/en/page-3.md", { modules: [{ module: $$module1$2, specifier: "../../layouts/GlobalNavWithSidebarTocLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$2 = createAstro("/src/pages/en/page-3.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Page3 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$2, $$props, $$slots);
  Astro2.self = $$Page3;
  const $$content = { "title": "Page 3", "description": "Lorem ipsum dolor sit amet - 3", "astro": { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithSidebarTocLayout, { "content": $$content }, { "default": () => render`<p>This is a fully-featured page, written in Markdown!</p><h2 id="section-a">Section A</h2><p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p><h2 id="section-b">Section B</h2><p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p><h2 id="section-c">Section C</h2><pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>
<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>
<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>
<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>
<span class="line"><span style="color: #C9D1D9">---</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>` })}`;
});

var _page12 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$2,
	frontmatter: frontmatter$2,
	$$metadata: $$metadata$2,
	'default': $$Page3
}, Symbol.toStringTag, { value: 'Module' }));

const metadata$1 = { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' };
const frontmatter$1 = { "title": "Page 4", "description": "Lorem ipsum dolor sit amet - 4", "astro": { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' } };
const $$metadata$1 = createMetadata("/src/pages/en/page-4.md", { modules: [{ module: $$module1$2, specifier: "../../layouts/GlobalNavWithSidebarTocLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro$1 = createAstro("/src/pages/en/page-4.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Page4 = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$Page4;
  const $$content = { "title": "Page 4", "description": "Lorem ipsum dolor sit amet - 4", "astro": { "headers": [{ "depth": 2, "slug": "section-a", "text": "Section A" }, { "depth": 2, "slug": "section-b", "text": "Section B" }, { "depth": 2, "slug": "section-c", "text": "Section C" }], "source": "\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n\r\n## Section C\r\n\r\n```markdown\r\n---\r\ntitle: Markdown Page!\r\nlang: en\r\nlayout: ~/layouts/BaseLayout.astro\r\n---\r\n\r\n# Markdown example\r\n\r\nThis is a fully-featured page, written in Markdown!\r\n\r\n## Section A\r\n\r\nLorem ipsum dolor sit amet, **consectetur adipiscing elit**. Sed ut tortor _suscipit_, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.\r\n\r\n## Section B\r\n\r\nNam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.\r\n```\r\n", "html": '<p>This is a fully-featured page, written in Markdown!</p>\n<h2 id="section-a">Section A</h2>\n<p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p>\n<h2 id="section-b">Section B</h2>\n<p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p>\n<h2 id="section-c">Section C</h2>\n<pre is:raw class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>\n<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>\n<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>\n<span class="line"><span style="color: #C9D1D9">---</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>\n<span class="line"></span>\n<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>' } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavWithSidebarTocLayout, { "content": $$content }, { "default": () => render`<p>This is a fully-featured page, written in Markdown!</p><h2 id="section-a">Section A</h2><p>Lorem ipsum dolor sit amet, <strong>consectetur adipiscing elit</strong>. Sed ut tortor <em>suscipit</em>, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</p><h2 id="section-b">Section B</h2><p>Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</p><h2 id="section-c">Section C</h2><pre class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">---</span></span>
<span class="line"><span style="color: #7EE787">title</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">Markdown Page!</span></span>
<span class="line"><span style="color: #7EE787">lang</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">en</span></span>
<span class="line"><span style="color: #7EE787">layout</span><span style="color: #C9D1D9">: </span><span style="color: #A5D6FF">~/layouts/BaseLayout.astro</span></span>
<span class="line"><span style="color: #C9D1D9">---</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold"># Markdown example</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">This is a fully-featured page, written in Markdown!</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section A</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">Lorem ipsum dolor sit amet, </span><span style="color: #C9D1D9; font-weight: bold">**consectetur adipiscing elit**</span><span style="color: #C9D1D9">. Sed ut tortor </span><span style="color: #C9D1D9; font-style: italic">_suscipit_</span><span style="color: #C9D1D9">, posuere ante id, vulputate urna. Pellentesque molestie aliquam dui sagittis aliquet. Sed sed felis convallis, lacinia lorem sit amet, fermentum ex. Etiam hendrerit mauris at elementum egestas. Vivamus id gravida ante. Praesent consectetur fermentum turpis, quis blandit tortor feugiat in. Aliquam erat volutpat. In elementum purus et tristique ornare. Suspendisse sollicitudin dignissim est a ultrices. Pellentesque sed ipsum finibus, condimentum metus eget, sagittis elit. Sed id lorem justo. Vivamus in sem ac mi molestie ornare.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #79C0FF; font-weight: bold">## Section B</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">Nam quam dolor, pellentesque sed odio euismod, feugiat tempus tellus. Quisque arcu velit, ultricies in faucibus sed, ultrices ac enim. Nunc eget dictum est. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam ex nisi, egestas mollis ultricies ut, laoreet suscipit libero. Nam condimentum molestie turpis. Sed vestibulum sagittis congue. Maecenas tristique enim et tincidunt tempor. Curabitur ac scelerisque nulla, in malesuada libero. Praesent eu tempus odio. Pellentesque aliquam ullamcorper quam at gravida. Sed non fringilla mauris. Aenean sit amet ultrices erat. Vestibulum congue venenatis tortor, nec suscipit tortor. Aenean pellentesque mauris eget tortor tincidunt pharetra.</span></span></code></pre>` })}`;
});

var _page13 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata$1,
	frontmatter: frontmatter$1,
	$$metadata: $$metadata$1,
	'default': $$Page4
}, Symbol.toStringTag, { value: 'Module' }));

const metadata = { "headers": [], "source": "\r\n**Home**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Home</strong>\r\nThis is content coming from .md!</p>" };
const frontmatter = { "title": "Home", "linkLabel": "Home", "href": "/home", "astro": { "headers": [], "source": "\r\n**Home**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Home</strong>\r\nThis is content coming from .md!</p>" } };
const $$metadata = createMetadata("/src/pages/en/home/index.md", { modules: [{ module: $$module1, specifier: "../../../layouts/GlobalNavOnlyLayout.astro", assert: {} }], hydratedComponents: [], clientOnlyComponents: [], hydrationDirectives: /* @__PURE__ */ new Set([]), hoisted: [] });
const $$Astro = createAstro("/src/pages/en/home/index.md", "https://astro-project.netlify.app/", "file:///D:/work/astro/astro-auth-example/");
const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Index;
  const $$content = { "title": "Home", "linkLabel": "Home", "href": "/home", "astro": { "headers": [], "source": "\r\n**Home**\r\nThis is content coming from .md!\r\n", "html": "<p><strong>Home</strong>\r\nThis is content coming from .md!</p>" } };
  return render`${renderComponent($$result, "Layout", $$GlobalNavOnlyLayout, { "content": $$content }, { "default": () => render`<p><strong>Home</strong>
This is content coming from .md!</p>` })}`;
});

var _page14 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	metadata: metadata,
	frontmatter: frontmatter,
	$$metadata: $$metadata,
	'default': $$Index
}, Symbol.toStringTag, { value: 'Module' }));

const pageMap = new Map([['src/pages/index.astro', _page0],['src/pages/auth/index.astro', _page1],['src/pages/api/auth/[...astroauth].ts', _page2],['src/pages/en/index.astro', _page3],['src/pages/en/introduction.md', _page4],['src/pages/en/auto-index/index.md', _page5],['src/pages/en/auto-index/directory1/index.md', _page6],['src/pages/en/auto-index/directory1/child-of-subdirectory1/index.md', _page7],['src/pages/en/auto-index/directory2/index.md', _page8],['src/pages/en/auto-index/directory3/index.md', _page9],['src/pages/en/contact/index.md', _page10],['src/pages/en/page-2.md', _page11],['src/pages/en/page-3.md', _page12],['src/pages/en/page-4.md', _page13],['src/pages/en/home/index.md', _page14],]);
const renderers = [Object.assign({"name":"@astrojs/react","clientEntrypoint":"@astrojs/react/client.js","serverEntrypoint":"@astrojs/react/server.js","jsxImportSource":"react"}, { ssr: _renderer0 }),];

/**
 * @param typeMap [Object] Map of MIME type -> Array[extensions]
 * @param ...
 */
function Mime$1() {
  this._types = Object.create(null);
  this._extensions = Object.create(null);

  for (let i = 0; i < arguments.length; i++) {
    this.define(arguments[i]);
  }

  this.define = this.define.bind(this);
  this.getType = this.getType.bind(this);
  this.getExtension = this.getExtension.bind(this);
}

/**
 * Define mimetype -> extension mappings.  Each key is a mime-type that maps
 * to an array of extensions associated with the type.  The first extension is
 * used as the default extension for the type.
 *
 * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});
 *
 * If a type declares an extension that has already been defined, an error will
 * be thrown.  To suppress this error and force the extension to be associated
 * with the new type, pass `force`=true.  Alternatively, you may prefix the
 * extension with "*" to map the type to extension, without mapping the
 * extension to the type.
 *
 * e.g. mime.define({'audio/wav', ['wav']}, {'audio/x-wav', ['*wav']});
 *
 *
 * @param map (Object) type definitions
 * @param force (Boolean) if true, force overriding of existing definitions
 */
Mime$1.prototype.define = function(typeMap, force) {
  for (let type in typeMap) {
    let extensions = typeMap[type].map(function(t) {
      return t.toLowerCase();
    });
    type = type.toLowerCase();

    for (let i = 0; i < extensions.length; i++) {
      const ext = extensions[i];

      // '*' prefix = not the preferred type for this extension.  So fixup the
      // extension, and skip it.
      if (ext[0] === '*') {
        continue;
      }

      if (!force && (ext in this._types)) {
        throw new Error(
          'Attempt to change mapping for "' + ext +
          '" extension from "' + this._types[ext] + '" to "' + type +
          '". Pass `force=true` to allow this, otherwise remove "' + ext +
          '" from the list of extensions for "' + type + '".'
        );
      }

      this._types[ext] = type;
    }

    // Use first extension as default
    if (force || !this._extensions[type]) {
      const ext = extensions[0];
      this._extensions[type] = (ext[0] !== '*') ? ext : ext.substr(1);
    }
  }
};

/**
 * Lookup a mime type based on extension
 */
Mime$1.prototype.getType = function(path) {
  path = String(path);
  let last = path.replace(/^.*[/\\]/, '').toLowerCase();
  let ext = last.replace(/^.*\./, '').toLowerCase();

  let hasPath = last.length < path.length;
  let hasDot = ext.length < last.length - 1;

  return (hasDot || !hasPath) && this._types[ext] || null;
};

/**
 * Return file extension associated with a mime type
 */
Mime$1.prototype.getExtension = function(type) {
  type = /^\s*([^;\s]*)/.test(type) && RegExp.$1;
  return type && this._extensions[type.toLowerCase()] || null;
};

var Mime_1 = Mime$1;

var standard = {"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};

var other = {"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};

let Mime = Mime_1;
new Mime(standard, other);

if (typeof process !== 'undefined') {
	(process.env || {});
	process.stdout && process.stdout.isTTY;
}

var eastasianwidth = {exports: {}};

(function (module) {
var eaw = {};

{
  module.exports = eaw;
}

eaw.eastAsianWidth = function(character) {
  var x = character.charCodeAt(0);
  var y = (character.length == 2) ? character.charCodeAt(1) : 0;
  var codePoint = x;
  if ((0xD800 <= x && x <= 0xDBFF) && (0xDC00 <= y && y <= 0xDFFF)) {
    x &= 0x3FF;
    y &= 0x3FF;
    codePoint = (x << 10) | y;
    codePoint += 0x10000;
  }

  if ((0x3000 == codePoint) ||
      (0xFF01 <= codePoint && codePoint <= 0xFF60) ||
      (0xFFE0 <= codePoint && codePoint <= 0xFFE6)) {
    return 'F';
  }
  if ((0x20A9 == codePoint) ||
      (0xFF61 <= codePoint && codePoint <= 0xFFBE) ||
      (0xFFC2 <= codePoint && codePoint <= 0xFFC7) ||
      (0xFFCA <= codePoint && codePoint <= 0xFFCF) ||
      (0xFFD2 <= codePoint && codePoint <= 0xFFD7) ||
      (0xFFDA <= codePoint && codePoint <= 0xFFDC) ||
      (0xFFE8 <= codePoint && codePoint <= 0xFFEE)) {
    return 'H';
  }
  if ((0x1100 <= codePoint && codePoint <= 0x115F) ||
      (0x11A3 <= codePoint && codePoint <= 0x11A7) ||
      (0x11FA <= codePoint && codePoint <= 0x11FF) ||
      (0x2329 <= codePoint && codePoint <= 0x232A) ||
      (0x2E80 <= codePoint && codePoint <= 0x2E99) ||
      (0x2E9B <= codePoint && codePoint <= 0x2EF3) ||
      (0x2F00 <= codePoint && codePoint <= 0x2FD5) ||
      (0x2FF0 <= codePoint && codePoint <= 0x2FFB) ||
      (0x3001 <= codePoint && codePoint <= 0x303E) ||
      (0x3041 <= codePoint && codePoint <= 0x3096) ||
      (0x3099 <= codePoint && codePoint <= 0x30FF) ||
      (0x3105 <= codePoint && codePoint <= 0x312D) ||
      (0x3131 <= codePoint && codePoint <= 0x318E) ||
      (0x3190 <= codePoint && codePoint <= 0x31BA) ||
      (0x31C0 <= codePoint && codePoint <= 0x31E3) ||
      (0x31F0 <= codePoint && codePoint <= 0x321E) ||
      (0x3220 <= codePoint && codePoint <= 0x3247) ||
      (0x3250 <= codePoint && codePoint <= 0x32FE) ||
      (0x3300 <= codePoint && codePoint <= 0x4DBF) ||
      (0x4E00 <= codePoint && codePoint <= 0xA48C) ||
      (0xA490 <= codePoint && codePoint <= 0xA4C6) ||
      (0xA960 <= codePoint && codePoint <= 0xA97C) ||
      (0xAC00 <= codePoint && codePoint <= 0xD7A3) ||
      (0xD7B0 <= codePoint && codePoint <= 0xD7C6) ||
      (0xD7CB <= codePoint && codePoint <= 0xD7FB) ||
      (0xF900 <= codePoint && codePoint <= 0xFAFF) ||
      (0xFE10 <= codePoint && codePoint <= 0xFE19) ||
      (0xFE30 <= codePoint && codePoint <= 0xFE52) ||
      (0xFE54 <= codePoint && codePoint <= 0xFE66) ||
      (0xFE68 <= codePoint && codePoint <= 0xFE6B) ||
      (0x1B000 <= codePoint && codePoint <= 0x1B001) ||
      (0x1F200 <= codePoint && codePoint <= 0x1F202) ||
      (0x1F210 <= codePoint && codePoint <= 0x1F23A) ||
      (0x1F240 <= codePoint && codePoint <= 0x1F248) ||
      (0x1F250 <= codePoint && codePoint <= 0x1F251) ||
      (0x20000 <= codePoint && codePoint <= 0x2F73F) ||
      (0x2B740 <= codePoint && codePoint <= 0x2FFFD) ||
      (0x30000 <= codePoint && codePoint <= 0x3FFFD)) {
    return 'W';
  }
  if ((0x0020 <= codePoint && codePoint <= 0x007E) ||
      (0x00A2 <= codePoint && codePoint <= 0x00A3) ||
      (0x00A5 <= codePoint && codePoint <= 0x00A6) ||
      (0x00AC == codePoint) ||
      (0x00AF == codePoint) ||
      (0x27E6 <= codePoint && codePoint <= 0x27ED) ||
      (0x2985 <= codePoint && codePoint <= 0x2986)) {
    return 'Na';
  }
  if ((0x00A1 == codePoint) ||
      (0x00A4 == codePoint) ||
      (0x00A7 <= codePoint && codePoint <= 0x00A8) ||
      (0x00AA == codePoint) ||
      (0x00AD <= codePoint && codePoint <= 0x00AE) ||
      (0x00B0 <= codePoint && codePoint <= 0x00B4) ||
      (0x00B6 <= codePoint && codePoint <= 0x00BA) ||
      (0x00BC <= codePoint && codePoint <= 0x00BF) ||
      (0x00C6 == codePoint) ||
      (0x00D0 == codePoint) ||
      (0x00D7 <= codePoint && codePoint <= 0x00D8) ||
      (0x00DE <= codePoint && codePoint <= 0x00E1) ||
      (0x00E6 == codePoint) ||
      (0x00E8 <= codePoint && codePoint <= 0x00EA) ||
      (0x00EC <= codePoint && codePoint <= 0x00ED) ||
      (0x00F0 == codePoint) ||
      (0x00F2 <= codePoint && codePoint <= 0x00F3) ||
      (0x00F7 <= codePoint && codePoint <= 0x00FA) ||
      (0x00FC == codePoint) ||
      (0x00FE == codePoint) ||
      (0x0101 == codePoint) ||
      (0x0111 == codePoint) ||
      (0x0113 == codePoint) ||
      (0x011B == codePoint) ||
      (0x0126 <= codePoint && codePoint <= 0x0127) ||
      (0x012B == codePoint) ||
      (0x0131 <= codePoint && codePoint <= 0x0133) ||
      (0x0138 == codePoint) ||
      (0x013F <= codePoint && codePoint <= 0x0142) ||
      (0x0144 == codePoint) ||
      (0x0148 <= codePoint && codePoint <= 0x014B) ||
      (0x014D == codePoint) ||
      (0x0152 <= codePoint && codePoint <= 0x0153) ||
      (0x0166 <= codePoint && codePoint <= 0x0167) ||
      (0x016B == codePoint) ||
      (0x01CE == codePoint) ||
      (0x01D0 == codePoint) ||
      (0x01D2 == codePoint) ||
      (0x01D4 == codePoint) ||
      (0x01D6 == codePoint) ||
      (0x01D8 == codePoint) ||
      (0x01DA == codePoint) ||
      (0x01DC == codePoint) ||
      (0x0251 == codePoint) ||
      (0x0261 == codePoint) ||
      (0x02C4 == codePoint) ||
      (0x02C7 == codePoint) ||
      (0x02C9 <= codePoint && codePoint <= 0x02CB) ||
      (0x02CD == codePoint) ||
      (0x02D0 == codePoint) ||
      (0x02D8 <= codePoint && codePoint <= 0x02DB) ||
      (0x02DD == codePoint) ||
      (0x02DF == codePoint) ||
      (0x0300 <= codePoint && codePoint <= 0x036F) ||
      (0x0391 <= codePoint && codePoint <= 0x03A1) ||
      (0x03A3 <= codePoint && codePoint <= 0x03A9) ||
      (0x03B1 <= codePoint && codePoint <= 0x03C1) ||
      (0x03C3 <= codePoint && codePoint <= 0x03C9) ||
      (0x0401 == codePoint) ||
      (0x0410 <= codePoint && codePoint <= 0x044F) ||
      (0x0451 == codePoint) ||
      (0x2010 == codePoint) ||
      (0x2013 <= codePoint && codePoint <= 0x2016) ||
      (0x2018 <= codePoint && codePoint <= 0x2019) ||
      (0x201C <= codePoint && codePoint <= 0x201D) ||
      (0x2020 <= codePoint && codePoint <= 0x2022) ||
      (0x2024 <= codePoint && codePoint <= 0x2027) ||
      (0x2030 == codePoint) ||
      (0x2032 <= codePoint && codePoint <= 0x2033) ||
      (0x2035 == codePoint) ||
      (0x203B == codePoint) ||
      (0x203E == codePoint) ||
      (0x2074 == codePoint) ||
      (0x207F == codePoint) ||
      (0x2081 <= codePoint && codePoint <= 0x2084) ||
      (0x20AC == codePoint) ||
      (0x2103 == codePoint) ||
      (0x2105 == codePoint) ||
      (0x2109 == codePoint) ||
      (0x2113 == codePoint) ||
      (0x2116 == codePoint) ||
      (0x2121 <= codePoint && codePoint <= 0x2122) ||
      (0x2126 == codePoint) ||
      (0x212B == codePoint) ||
      (0x2153 <= codePoint && codePoint <= 0x2154) ||
      (0x215B <= codePoint && codePoint <= 0x215E) ||
      (0x2160 <= codePoint && codePoint <= 0x216B) ||
      (0x2170 <= codePoint && codePoint <= 0x2179) ||
      (0x2189 == codePoint) ||
      (0x2190 <= codePoint && codePoint <= 0x2199) ||
      (0x21B8 <= codePoint && codePoint <= 0x21B9) ||
      (0x21D2 == codePoint) ||
      (0x21D4 == codePoint) ||
      (0x21E7 == codePoint) ||
      (0x2200 == codePoint) ||
      (0x2202 <= codePoint && codePoint <= 0x2203) ||
      (0x2207 <= codePoint && codePoint <= 0x2208) ||
      (0x220B == codePoint) ||
      (0x220F == codePoint) ||
      (0x2211 == codePoint) ||
      (0x2215 == codePoint) ||
      (0x221A == codePoint) ||
      (0x221D <= codePoint && codePoint <= 0x2220) ||
      (0x2223 == codePoint) ||
      (0x2225 == codePoint) ||
      (0x2227 <= codePoint && codePoint <= 0x222C) ||
      (0x222E == codePoint) ||
      (0x2234 <= codePoint && codePoint <= 0x2237) ||
      (0x223C <= codePoint && codePoint <= 0x223D) ||
      (0x2248 == codePoint) ||
      (0x224C == codePoint) ||
      (0x2252 == codePoint) ||
      (0x2260 <= codePoint && codePoint <= 0x2261) ||
      (0x2264 <= codePoint && codePoint <= 0x2267) ||
      (0x226A <= codePoint && codePoint <= 0x226B) ||
      (0x226E <= codePoint && codePoint <= 0x226F) ||
      (0x2282 <= codePoint && codePoint <= 0x2283) ||
      (0x2286 <= codePoint && codePoint <= 0x2287) ||
      (0x2295 == codePoint) ||
      (0x2299 == codePoint) ||
      (0x22A5 == codePoint) ||
      (0x22BF == codePoint) ||
      (0x2312 == codePoint) ||
      (0x2460 <= codePoint && codePoint <= 0x24E9) ||
      (0x24EB <= codePoint && codePoint <= 0x254B) ||
      (0x2550 <= codePoint && codePoint <= 0x2573) ||
      (0x2580 <= codePoint && codePoint <= 0x258F) ||
      (0x2592 <= codePoint && codePoint <= 0x2595) ||
      (0x25A0 <= codePoint && codePoint <= 0x25A1) ||
      (0x25A3 <= codePoint && codePoint <= 0x25A9) ||
      (0x25B2 <= codePoint && codePoint <= 0x25B3) ||
      (0x25B6 <= codePoint && codePoint <= 0x25B7) ||
      (0x25BC <= codePoint && codePoint <= 0x25BD) ||
      (0x25C0 <= codePoint && codePoint <= 0x25C1) ||
      (0x25C6 <= codePoint && codePoint <= 0x25C8) ||
      (0x25CB == codePoint) ||
      (0x25CE <= codePoint && codePoint <= 0x25D1) ||
      (0x25E2 <= codePoint && codePoint <= 0x25E5) ||
      (0x25EF == codePoint) ||
      (0x2605 <= codePoint && codePoint <= 0x2606) ||
      (0x2609 == codePoint) ||
      (0x260E <= codePoint && codePoint <= 0x260F) ||
      (0x2614 <= codePoint && codePoint <= 0x2615) ||
      (0x261C == codePoint) ||
      (0x261E == codePoint) ||
      (0x2640 == codePoint) ||
      (0x2642 == codePoint) ||
      (0x2660 <= codePoint && codePoint <= 0x2661) ||
      (0x2663 <= codePoint && codePoint <= 0x2665) ||
      (0x2667 <= codePoint && codePoint <= 0x266A) ||
      (0x266C <= codePoint && codePoint <= 0x266D) ||
      (0x266F == codePoint) ||
      (0x269E <= codePoint && codePoint <= 0x269F) ||
      (0x26BE <= codePoint && codePoint <= 0x26BF) ||
      (0x26C4 <= codePoint && codePoint <= 0x26CD) ||
      (0x26CF <= codePoint && codePoint <= 0x26E1) ||
      (0x26E3 == codePoint) ||
      (0x26E8 <= codePoint && codePoint <= 0x26FF) ||
      (0x273D == codePoint) ||
      (0x2757 == codePoint) ||
      (0x2776 <= codePoint && codePoint <= 0x277F) ||
      (0x2B55 <= codePoint && codePoint <= 0x2B59) ||
      (0x3248 <= codePoint && codePoint <= 0x324F) ||
      (0xE000 <= codePoint && codePoint <= 0xF8FF) ||
      (0xFE00 <= codePoint && codePoint <= 0xFE0F) ||
      (0xFFFD == codePoint) ||
      (0x1F100 <= codePoint && codePoint <= 0x1F10A) ||
      (0x1F110 <= codePoint && codePoint <= 0x1F12D) ||
      (0x1F130 <= codePoint && codePoint <= 0x1F169) ||
      (0x1F170 <= codePoint && codePoint <= 0x1F19A) ||
      (0xE0100 <= codePoint && codePoint <= 0xE01EF) ||
      (0xF0000 <= codePoint && codePoint <= 0xFFFFD) ||
      (0x100000 <= codePoint && codePoint <= 0x10FFFD)) {
    return 'A';
  }

  return 'N';
};

eaw.characterLength = function(character) {
  var code = this.eastAsianWidth(character);
  if (code == 'F' || code == 'W' || code == 'A') {
    return 2;
  } else {
    return 1;
  }
};

// Split a string considering surrogate-pairs.
function stringToArray(string) {
  return string.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g) || [];
}

eaw.length = function(string) {
  var characters = stringToArray(string);
  var len = 0;
  for (var i = 0; i < characters.length; i++) {
    len = len + this.characterLength(characters[i]);
  }
  return len;
};

eaw.slice = function(text, start, end) {
  textLen = eaw.length(text);
  start = start ? start : 0;
  end = end ? end : 1;
  if (start < 0) {
      start = textLen + start;
  }
  if (end < 0) {
      end = textLen + end;
  }
  var result = '';
  var eawLen = 0;
  var chars = stringToArray(text);
  for (var i = 0; i < chars.length; i++) {
    var char = chars[i];
    var charLen = eaw.length(char);
    if (eawLen >= start - (charLen == 2 ? 1 : 0)) {
        if (eawLen + charLen <= end) {
            result += char;
        } else {
            break;
        }
    }
    eawLen += charLen;
  }
  return result;
};
}(eastasianwidth));

function getLoggerLocale() {
  const defaultLocale = "en-US";
  if (process.env.LANG) {
    const extractedLocale = process.env.LANG.split(".")[0].replace(/_/g, "-");
    if (extractedLocale.length < 2)
      return defaultLocale;
    else
      return extractedLocale.substring(0, 5);
  } else
    return defaultLocale;
}
new Intl.DateTimeFormat(getLoggerLocale(), {
  hour: "2-digit",
  minute: "2-digit",
  second: "2-digit"
});
if (typeof process !== "undefined") {
  if (process.argv.includes("--verbose")) ; else if (process.argv.includes("--silent")) ; else ;
}

/**
 * Tokenize input string.
 */
function lexer(str) {
    var tokens = [];
    var i = 0;
    while (i < str.length) {
        var char = str[i];
        if (char === "*" || char === "+" || char === "?") {
            tokens.push({ type: "MODIFIER", index: i, value: str[i++] });
            continue;
        }
        if (char === "\\") {
            tokens.push({ type: "ESCAPED_CHAR", index: i++, value: str[i++] });
            continue;
        }
        if (char === "{") {
            tokens.push({ type: "OPEN", index: i, value: str[i++] });
            continue;
        }
        if (char === "}") {
            tokens.push({ type: "CLOSE", index: i, value: str[i++] });
            continue;
        }
        if (char === ":") {
            var name = "";
            var j = i + 1;
            while (j < str.length) {
                var code = str.charCodeAt(j);
                if (
                // `0-9`
                (code >= 48 && code <= 57) ||
                    // `A-Z`
                    (code >= 65 && code <= 90) ||
                    // `a-z`
                    (code >= 97 && code <= 122) ||
                    // `_`
                    code === 95) {
                    name += str[j++];
                    continue;
                }
                break;
            }
            if (!name)
                throw new TypeError("Missing parameter name at ".concat(i));
            tokens.push({ type: "NAME", index: i, value: name });
            i = j;
            continue;
        }
        if (char === "(") {
            var count = 1;
            var pattern = "";
            var j = i + 1;
            if (str[j] === "?") {
                throw new TypeError("Pattern cannot start with \"?\" at ".concat(j));
            }
            while (j < str.length) {
                if (str[j] === "\\") {
                    pattern += str[j++] + str[j++];
                    continue;
                }
                if (str[j] === ")") {
                    count--;
                    if (count === 0) {
                        j++;
                        break;
                    }
                }
                else if (str[j] === "(") {
                    count++;
                    if (str[j + 1] !== "?") {
                        throw new TypeError("Capturing groups are not allowed at ".concat(j));
                    }
                }
                pattern += str[j++];
            }
            if (count)
                throw new TypeError("Unbalanced pattern at ".concat(i));
            if (!pattern)
                throw new TypeError("Missing pattern at ".concat(i));
            tokens.push({ type: "PATTERN", index: i, value: pattern });
            i = j;
            continue;
        }
        tokens.push({ type: "CHAR", index: i, value: str[i++] });
    }
    tokens.push({ type: "END", index: i, value: "" });
    return tokens;
}
/**
 * Parse a string for the raw tokens.
 */
function parse(str, options) {
    if (options === void 0) { options = {}; }
    var tokens = lexer(str);
    var _a = options.prefixes, prefixes = _a === void 0 ? "./" : _a;
    var defaultPattern = "[^".concat(escapeString(options.delimiter || "/#?"), "]+?");
    var result = [];
    var key = 0;
    var i = 0;
    var path = "";
    var tryConsume = function (type) {
        if (i < tokens.length && tokens[i].type === type)
            return tokens[i++].value;
    };
    var mustConsume = function (type) {
        var value = tryConsume(type);
        if (value !== undefined)
            return value;
        var _a = tokens[i], nextType = _a.type, index = _a.index;
        throw new TypeError("Unexpected ".concat(nextType, " at ").concat(index, ", expected ").concat(type));
    };
    var consumeText = function () {
        var result = "";
        var value;
        while ((value = tryConsume("CHAR") || tryConsume("ESCAPED_CHAR"))) {
            result += value;
        }
        return result;
    };
    while (i < tokens.length) {
        var char = tryConsume("CHAR");
        var name = tryConsume("NAME");
        var pattern = tryConsume("PATTERN");
        if (name || pattern) {
            var prefix = char || "";
            if (prefixes.indexOf(prefix) === -1) {
                path += prefix;
                prefix = "";
            }
            if (path) {
                result.push(path);
                path = "";
            }
            result.push({
                name: name || key++,
                prefix: prefix,
                suffix: "",
                pattern: pattern || defaultPattern,
                modifier: tryConsume("MODIFIER") || "",
            });
            continue;
        }
        var value = char || tryConsume("ESCAPED_CHAR");
        if (value) {
            path += value;
            continue;
        }
        if (path) {
            result.push(path);
            path = "";
        }
        var open = tryConsume("OPEN");
        if (open) {
            var prefix = consumeText();
            var name_1 = tryConsume("NAME") || "";
            var pattern_1 = tryConsume("PATTERN") || "";
            var suffix = consumeText();
            mustConsume("CLOSE");
            result.push({
                name: name_1 || (pattern_1 ? key++ : ""),
                pattern: name_1 && !pattern_1 ? defaultPattern : pattern_1,
                prefix: prefix,
                suffix: suffix,
                modifier: tryConsume("MODIFIER") || "",
            });
            continue;
        }
        mustConsume("END");
    }
    return result;
}
/**
 * Compile a string to a template function for the path.
 */
function compile(str, options) {
    return tokensToFunction(parse(str, options), options);
}
/**
 * Expose a method for transforming tokens into the path function.
 */
function tokensToFunction(tokens, options) {
    if (options === void 0) { options = {}; }
    var reFlags = flags(options);
    var _a = options.encode, encode = _a === void 0 ? function (x) { return x; } : _a, _b = options.validate, validate = _b === void 0 ? true : _b;
    // Compile all the tokens into regexps.
    var matches = tokens.map(function (token) {
        if (typeof token === "object") {
            return new RegExp("^(?:".concat(token.pattern, ")$"), reFlags);
        }
    });
    return function (data) {
        var path = "";
        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            if (typeof token === "string") {
                path += token;
                continue;
            }
            var value = data ? data[token.name] : undefined;
            var optional = token.modifier === "?" || token.modifier === "*";
            var repeat = token.modifier === "*" || token.modifier === "+";
            if (Array.isArray(value)) {
                if (!repeat) {
                    throw new TypeError("Expected \"".concat(token.name, "\" to not repeat, but got an array"));
                }
                if (value.length === 0) {
                    if (optional)
                        continue;
                    throw new TypeError("Expected \"".concat(token.name, "\" to not be empty"));
                }
                for (var j = 0; j < value.length; j++) {
                    var segment = encode(value[j], token);
                    if (validate && !matches[i].test(segment)) {
                        throw new TypeError("Expected all \"".concat(token.name, "\" to match \"").concat(token.pattern, "\", but got \"").concat(segment, "\""));
                    }
                    path += token.prefix + segment + token.suffix;
                }
                continue;
            }
            if (typeof value === "string" || typeof value === "number") {
                var segment = encode(String(value), token);
                if (validate && !matches[i].test(segment)) {
                    throw new TypeError("Expected \"".concat(token.name, "\" to match \"").concat(token.pattern, "\", but got \"").concat(segment, "\""));
                }
                path += token.prefix + segment + token.suffix;
                continue;
            }
            if (optional)
                continue;
            var typeOfMessage = repeat ? "an array" : "a string";
            throw new TypeError("Expected \"".concat(token.name, "\" to be ").concat(typeOfMessage));
        }
        return path;
    };
}
/**
 * Escape a regular expression string.
 */
function escapeString(str) {
    return str.replace(/([.+*?=^!:${}()[\]|/\\])/g, "\\$1");
}
/**
 * Get the flags for a regexp from the options.
 */
function flags(options) {
    return options && options.sensitive ? "" : "i";
}

function getRouteGenerator(segments, addTrailingSlash) {
  const template = segments.map((segment) => {
    return segment[0].spread ? `/:${segment[0].content.slice(3)}(.*)?` : "/" + segment.map((part) => {
      if (part)
        return part.dynamic ? `:${part.content}` : part.content.normalize().replace(/\?/g, "%3F").replace(/#/g, "%23").replace(/%5B/g, "[").replace(/%5D/g, "]").replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    }).join("");
  }).join("");
  const trailing = addTrailingSlash !== "never" && segments.length ? "/" : "";
  const toPath = compile(template + trailing);
  return toPath;
}

function deserializeRouteData(rawRouteData) {
  return {
    type: rawRouteData.type,
    pattern: new RegExp(rawRouteData.pattern),
    params: rawRouteData.params,
    component: rawRouteData.component,
    generate: getRouteGenerator(rawRouteData.segments, rawRouteData._meta.trailingSlash),
    pathname: rawRouteData.pathname || void 0,
    segments: rawRouteData.segments
  };
}

var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
function deserializeManifest(serializedManifest) {
  const routes = [];
  for (const serializedRoute of serializedManifest.routes) {
    routes.push(__spreadProps(__spreadValues({}, serializedRoute), {
      routeData: deserializeRouteData(serializedRoute.routeData)
    }));
    const route = serializedRoute;
    route.routeData = deserializeRouteData(serializedRoute.routeData);
  }
  const assets = new Set(serializedManifest.assets);
  return __spreadProps(__spreadValues({}, serializedManifest), {
    assets,
    routes
  });
}

function assertPath(path) {
  if (typeof path !== 'string') {
    throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));
  }
}

// Resolves . and .. elements in a path with directory names
function normalizeStringPosix(path, allowAboveRoot) {
  var res = '';
  var lastSegmentLength = 0;
  var lastSlash = -1;
  var dots = 0;
  var code;
  for (var i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47 /*/*/)
      break;
    else
      code = 47 /*/*/;
    if (code === 47 /*/*/) {
      if (lastSlash === i - 1 || dots === 1) ; else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 /*.*/ || res.charCodeAt(res.length - 2) !== 46 /*.*/) {
          if (res.length > 2) {
            var lastSlashIndex = res.lastIndexOf('/');
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = '';
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf('/');
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = '';
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += '/..';
          else
            res = '..';
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += '/' + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 /*.*/ && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}

function _format(sep, pathObject) {
  var dir = pathObject.dir || pathObject.root;
  var base = pathObject.base || (pathObject.name || '') + (pathObject.ext || '');
  if (!dir) {
    return base;
  }
  if (dir === pathObject.root) {
    return dir + base;
  }
  return dir + sep + base;
}

var posix = {
  // path.resolve([from ...], to)
  resolve: function resolve() {
    var resolvedPath = '';
    var resolvedAbsolute = false;
    var cwd;

    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
      var path;
      if (i >= 0)
        path = arguments[i];
      else {
        if (cwd === undefined)
          cwd = process.cwd();
        path = cwd;
      }

      assertPath(path);

      // Skip empty entries
      if (path.length === 0) {
        continue;
      }

      resolvedPath = path + '/' + resolvedPath;
      resolvedAbsolute = path.charCodeAt(0) === 47 /*/*/;
    }

    // At this point the path should be resolved to a full absolute path, but
    // handle relative paths to be safe (might happen when process.cwd() fails)

    // Normalize the path
    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);

    if (resolvedAbsolute) {
      if (resolvedPath.length > 0)
        return '/' + resolvedPath;
      else
        return '/';
    } else if (resolvedPath.length > 0) {
      return resolvedPath;
    } else {
      return '.';
    }
  },

  normalize: function normalize(path) {
    assertPath(path);

    if (path.length === 0) return '.';

    var isAbsolute = path.charCodeAt(0) === 47 /*/*/;
    var trailingSeparator = path.charCodeAt(path.length - 1) === 47 /*/*/;

    // Normalize the path
    path = normalizeStringPosix(path, !isAbsolute);

    if (path.length === 0 && !isAbsolute) path = '.';
    if (path.length > 0 && trailingSeparator) path += '/';

    if (isAbsolute) return '/' + path;
    return path;
  },

  isAbsolute: function isAbsolute(path) {
    assertPath(path);
    return path.length > 0 && path.charCodeAt(0) === 47 /*/*/;
  },

  join: function join() {
    if (arguments.length === 0)
      return '.';
    var joined;
    for (var i = 0; i < arguments.length; ++i) {
      var arg = arguments[i];
      assertPath(arg);
      if (arg.length > 0) {
        if (joined === undefined)
          joined = arg;
        else
          joined += '/' + arg;
      }
    }
    if (joined === undefined)
      return '.';
    return posix.normalize(joined);
  },

  relative: function relative(from, to) {
    assertPath(from);
    assertPath(to);

    if (from === to) return '';

    from = posix.resolve(from);
    to = posix.resolve(to);

    if (from === to) return '';

    // Trim any leading backslashes
    var fromStart = 1;
    for (; fromStart < from.length; ++fromStart) {
      if (from.charCodeAt(fromStart) !== 47 /*/*/)
        break;
    }
    var fromEnd = from.length;
    var fromLen = fromEnd - fromStart;

    // Trim any leading backslashes
    var toStart = 1;
    for (; toStart < to.length; ++toStart) {
      if (to.charCodeAt(toStart) !== 47 /*/*/)
        break;
    }
    var toEnd = to.length;
    var toLen = toEnd - toStart;

    // Compare paths to find the longest common path from root
    var length = fromLen < toLen ? fromLen : toLen;
    var lastCommonSep = -1;
    var i = 0;
    for (; i <= length; ++i) {
      if (i === length) {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === 47 /*/*/) {
            // We get here if `from` is the exact base path for `to`.
            // For example: from='/foo/bar'; to='/foo/bar/baz'
            return to.slice(toStart + i + 1);
          } else if (i === 0) {
            // We get here if `from` is the root
            // For example: from='/'; to='/foo'
            return to.slice(toStart + i);
          }
        } else if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === 47 /*/*/) {
            // We get here if `to` is the exact base path for `from`.
            // For example: from='/foo/bar/baz'; to='/foo/bar'
            lastCommonSep = i;
          } else if (i === 0) {
            // We get here if `to` is the root.
            // For example: from='/foo'; to='/'
            lastCommonSep = 0;
          }
        }
        break;
      }
      var fromCode = from.charCodeAt(fromStart + i);
      var toCode = to.charCodeAt(toStart + i);
      if (fromCode !== toCode)
        break;
      else if (fromCode === 47 /*/*/)
        lastCommonSep = i;
    }

    var out = '';
    // Generate the relative path based on the path difference between `to`
    // and `from`
    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
      if (i === fromEnd || from.charCodeAt(i) === 47 /*/*/) {
        if (out.length === 0)
          out += '..';
        else
          out += '/..';
      }
    }

    // Lastly, append the rest of the destination (`to`) path that comes after
    // the common path parts
    if (out.length > 0)
      return out + to.slice(toStart + lastCommonSep);
    else {
      toStart += lastCommonSep;
      if (to.charCodeAt(toStart) === 47 /*/*/)
        ++toStart;
      return to.slice(toStart);
    }
  },

  _makeLong: function _makeLong(path) {
    return path;
  },

  dirname: function dirname(path) {
    assertPath(path);
    if (path.length === 0) return '.';
    var code = path.charCodeAt(0);
    var hasRoot = code === 47 /*/*/;
    var end = -1;
    var matchedSlash = true;
    for (var i = path.length - 1; i >= 1; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
        // We saw the first non-path separator
        matchedSlash = false;
      }
    }

    if (end === -1) return hasRoot ? '/' : '.';
    if (hasRoot && end === 1) return '//';
    return path.slice(0, end);
  },

  basename: function basename(path, ext) {
    if (ext !== undefined && typeof ext !== 'string') throw new TypeError('"ext" argument must be a string');
    assertPath(path);

    var start = 0;
    var end = -1;
    var matchedSlash = true;
    var i;

    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {
      if (ext.length === path.length && ext === path) return '';
      var extIdx = ext.length - 1;
      var firstNonSlashEnd = -1;
      for (i = path.length - 1; i >= 0; --i) {
        var code = path.charCodeAt(i);
        if (code === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
          if (firstNonSlashEnd === -1) {
            // We saw the first non-path separator, remember this index in case
            // we need it if the extension ends up not matching
            matchedSlash = false;
            firstNonSlashEnd = i + 1;
          }
          if (extIdx >= 0) {
            // Try to match the explicit extension
            if (code === ext.charCodeAt(extIdx)) {
              if (--extIdx === -1) {
                // We matched the extension, so mark this as the end of our path
                // component
                end = i;
              }
            } else {
              // Extension does not match, so our result is the entire path
              // component
              extIdx = -1;
              end = firstNonSlashEnd;
            }
          }
        }
      }

      if (start === end) end = firstNonSlashEnd;else if (end === -1) end = path.length;
      return path.slice(start, end);
    } else {
      for (i = path.length - 1; i >= 0; --i) {
        if (path.charCodeAt(i) === 47 /*/*/) {
            // If we reached a path separator that was not part of a set of path
            // separators at the end of the string, stop now
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else if (end === -1) {
          // We saw the first non-path separator, mark this as the end of our
          // path component
          matchedSlash = false;
          end = i + 1;
        }
      }

      if (end === -1) return '';
      return path.slice(start, end);
    }
  },

  extname: function extname(path) {
    assertPath(path);
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;
    for (var i = path.length - 1; i >= 0; --i) {
      var code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1)
            startDot = i;
          else if (preDotState !== 1)
            preDotState = 1;
      } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
        // We saw a non-dot character immediately before the dot
        preDotState === 0 ||
        // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      return '';
    }
    return path.slice(startDot, end);
  },

  format: function format(pathObject) {
    if (pathObject === null || typeof pathObject !== 'object') {
      throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof pathObject);
    }
    return _format('/', pathObject);
  },

  parse: function parse(path) {
    assertPath(path);

    var ret = { root: '', dir: '', base: '', ext: '', name: '' };
    if (path.length === 0) return ret;
    var code = path.charCodeAt(0);
    var isAbsolute = code === 47 /*/*/;
    var start;
    if (isAbsolute) {
      ret.root = '/';
      start = 1;
    } else {
      start = 0;
    }
    var startDot = -1;
    var startPart = 0;
    var end = -1;
    var matchedSlash = true;
    var i = path.length - 1;

    // Track the state of characters (if any) we see before our first dot and
    // after any path separator we find
    var preDotState = 0;

    // Get non-dir info
    for (; i >= start; --i) {
      code = path.charCodeAt(i);
      if (code === 47 /*/*/) {
          // If we reached a path separator that was not part of a set of path
          // separators at the end of the string, stop now
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
      if (end === -1) {
        // We saw the first non-path separator, mark this as the end of our
        // extension
        matchedSlash = false;
        end = i + 1;
      }
      if (code === 46 /*.*/) {
          // If this is our first dot, mark it as the start of our extension
          if (startDot === -1) startDot = i;else if (preDotState !== 1) preDotState = 1;
        } else if (startDot !== -1) {
        // We saw a non-dot and non-path separator before our dot, so we should
        // have a good chance at having a non-empty extension
        preDotState = -1;
      }
    }

    if (startDot === -1 || end === -1 ||
    // We saw a non-dot character immediately before the dot
    preDotState === 0 ||
    // The (right-most) trimmed path component is exactly '..'
    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
      if (end !== -1) {
        if (startPart === 0 && isAbsolute) ret.base = ret.name = path.slice(1, end);else ret.base = ret.name = path.slice(startPart, end);
      }
    } else {
      if (startPart === 0 && isAbsolute) {
        ret.name = path.slice(1, startDot);
        ret.base = path.slice(1, end);
      } else {
        ret.name = path.slice(startPart, startDot);
        ret.base = path.slice(startPart, end);
      }
      ret.ext = path.slice(startDot, end);
    }

    if (startPart > 0) ret.dir = path.slice(0, startPart - 1);else if (isAbsolute) ret.dir = '/';

    return ret;
  },

  sep: '/',
  delimiter: ':',
  win32: null,
  posix: null
};

posix.posix = posix;

const STYLE_EXTENSIONS = /* @__PURE__ */ new Set([
  ".css",
  ".pcss",
  ".postcss",
  ".scss",
  ".sass",
  ".styl",
  ".stylus",
  ".less"
]);
new RegExp(`\\.(${Array.from(STYLE_EXTENSIONS).map((s) => s.slice(1)).join("|")})($|\\?)`);

const SCRIPT_EXTENSIONS = /* @__PURE__ */ new Set([".js", ".ts"]);
new RegExp(`\\.(${Array.from(SCRIPT_EXTENSIONS).map((s) => s.slice(1)).join("|")})($|\\?)`);

const _manifest = Object.assign(deserializeManifest({"routes":[{"file":"","links":[],"scripts":[],"routeData":{"type":"page","pattern":"^\\/$","segments":[],"params":[],"component":"src/pages/index.astro","pathname":"/","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.8eddf226.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/auth\\/?$","segments":[[{"content":"auth","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/auth/index.astro","pathname":"/auth","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":[],"scripts":[],"routeData":{"type":"endpoint","pattern":"^\\/api\\/auth(?:\\/(.*?))?$","segments":[[{"content":"api","dynamic":false,"spread":false}],[{"content":"auth","dynamic":false,"spread":false}],[{"content":"...astroauth","dynamic":true,"spread":true}]],"params":["...astroauth"],"component":"src/pages/api/auth/[...astroauth].ts","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.ffddb662.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/index.astro","pathname":"/en","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.c9dd3d51.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/introduction\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"introduction","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/introduction.md","pathname":"/en/introduction","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.2b546c1f.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/auto-index\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"auto-index","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/auto-index/index.md","pathname":"/en/auto-index","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.2b546c1f.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/auto-index\\/directory1\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"auto-index","dynamic":false,"spread":false}],[{"content":"directory1","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/auto-index/directory1/index.md","pathname":"/en/auto-index/directory1","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.ffddb662.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/auto-index\\/directory1\\/child-of-subdirectory1\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"auto-index","dynamic":false,"spread":false}],[{"content":"directory1","dynamic":false,"spread":false}],[{"content":"child-of-subdirectory1","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/auto-index/directory1/child-of-subdirectory1/index.md","pathname":"/en/auto-index/directory1/child-of-subdirectory1","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.2b546c1f.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/auto-index\\/directory2\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"auto-index","dynamic":false,"spread":false}],[{"content":"directory2","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/auto-index/directory2/index.md","pathname":"/en/auto-index/directory2","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.2b546c1f.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/auto-index\\/directory3\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"auto-index","dynamic":false,"spread":false}],[{"content":"directory3","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/auto-index/directory3/index.md","pathname":"/en/auto-index/directory3","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.c9dd3d51.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/contact\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"contact","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/contact/index.md","pathname":"/en/contact","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.c9dd3d51.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/page-2\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"page-2","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/page-2.md","pathname":"/en/page-2","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.c9dd3d51.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/page-3\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"page-3","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/page-3.md","pathname":"/en/page-3","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.c9dd3d51.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/page-4\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"page-4","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/page-4.md","pathname":"/en/page-4","_meta":{"trailingSlash":"ignore"}}},{"file":"","links":["assets/asset.ffddb662.css"],"scripts":[],"routeData":{"type":"page","pattern":"^\\/en\\/home\\/?$","segments":[[{"content":"en","dynamic":false,"spread":false}],[{"content":"home","dynamic":false,"spread":false}]],"params":[],"component":"src/pages/en/home/index.md","pathname":"/en/home","_meta":{"trailingSlash":"ignore"}}}],"site":"https://astro-project.netlify.app/","markdown":{"mode":"mdx","drafts":false,"syntaxHighlight":"shiki","shikiConfig":{"langs":[],"theme":"github-dark","wrap":false},"remarkPlugins":[],"rehypePlugins":[]},"pageMap":null,"renderers":[],"entryModules":{"@astrojs/react/client.js":"entry.4275fc61.js","/@fs/D:/work/astro/astro-auth-example/src/components/Login/Login":"entry.6246e529.js","astro/client/load.js":"entry.9f59b8ca.js","@components/Breadcrumbs/index":"entry.b6723049.js","@components/Header/Masthead":"entry.f8806764.js","/@fs/D:/work/astro/astro-auth-example/src/components/Navbar/index":"entry.0cc8e81c.js","@components/LeftSidebar/LeftSidebarSection":"entry.fd0bba14.js","/@fs/D:/work/astro/astro-auth-example/src/components/RightSidebar/TableOfContents":"entry.887a37dd.js","@components/ChildNav":"entry.fe2a4ef2.js","\u0000@astrojs-ssr-virtual-entry":"entry.mjs","D:/work/astro/astro-auth-example/src/pages/en/introduction.md?mdImport":"chunks/chunk.1909492e.mjs","D:/work/astro/astro-auth-example/src/pages/en/page-2.md?mdImport":"chunks/chunk.04f76e2f.mjs","D:/work/astro/astro-auth-example/src/pages/en/page-3.md?mdImport":"chunks/chunk.e3a1899c.mjs","D:/work/astro/astro-auth-example/src/pages/en/page-4.md?mdImport":"chunks/chunk.cd33b6ca.mjs","D:/work/astro/astro-auth-example/src/pages/en/auto-index/index.md?mdImport":"chunks/chunk.f3251a81.mjs","D:/work/astro/astro-auth-example/src/pages/en/contact/index.md?mdImport":"chunks/chunk.12de4ed6.mjs","D:/work/astro/astro-auth-example/src/pages/en/home/index.md?mdImport":"chunks/chunk.fc4d8ac5.mjs","D:/work/astro/astro-auth-example/src/pages/en/auto-index/directory1/index.md?mdImport":"chunks/chunk.0ce6260e.mjs","D:/work/astro/astro-auth-example/src/pages/en/auto-index/directory2/index.md?mdImport":"chunks/chunk.ada76000.mjs","D:/work/astro/astro-auth-example/src/pages/en/auto-index/directory3/index.md?mdImport":"chunks/chunk.444b4b54.mjs","D:/work/astro/astro-auth-example/src/pages/en/auto-index/directory1/child-of-subdirectory1/index.md?mdImport":"chunks/chunk.b81b901c.mjs","astro:scripts/before-hydration.js":"data:text/javascript;charset=utf-8,//[no before-hydration script]"},"assets":["/default-og-image.png","/entry.0cc8e81c.js","/entry.4275fc61.js","/entry.6246e529.js","/entry.887a37dd.js","/entry.9f59b8ca.js","/entry.b6723049.js","/entry.f8806764.js","/entry.fd0bba14.js","/entry.fe2a4ef2.js","/favicon.ico","/make-scrollable-code-focusable.js","/assets/asset.33de770b.css","/assets/asset.528fdb6d.css","/assets/asset.85437222.css","/assets/avatar2.jpg","/assets/avatar3.jpg","/assets/header-icon.ico","/assets/logo.svg","/chunks/chunk.0fb24b76.js","/chunks/chunk.2e740b37.js","/chunks/chunk.2f4a600e.js","/chunks/chunk.374b5ba7.js","/chunks/chunk.4e0d7628.js","/chunks/chunk.aaca0ccc.js","/chunks/chunk.aec50273.js","/chunks/chunk.aef02ac5.js","/chunks/chunk.c1d3e638.js","/chunks/chunk.cd35efd7.js","/chunks/chunk.f7a6f8f9.js","/assets/style/salesforce-lightning-design-system.min.css","/assets/icons/utility-sprite/svg/symbols.svg"]}), {
	pageMap: pageMap,
	renderers: renderers
});
const _args = {};

const _exports = adapter.createExports(_manifest, _args);
const handler = _exports['handler'];

const _start = 'start';
if(_start in adapter) {
	adapter[_start](_manifest, _args);
}

export { _page4 as _, _page5 as a, _page6 as b, _page7 as c, _page8 as d, _page9 as e, _page10 as f, _page11 as g, _page12 as h, handler, _page13 as i, _page14 as j };
